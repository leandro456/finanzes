(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90571,e=>{"use strict";var t=function(e,r){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,r)};function r(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function o(e,t){return function(r,n){t(r,n,e)}}function s(e,t,r,n,i,a){function o(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var s,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d=!1,f=r.length-1;f>=0;f--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(d)throw TypeError("Cannot add initializers after decoration has completed");a.push(o(e||null))};var y=(0,r[f])("accessor"===l?{get:h.get,set:h.set}:h[c],p);if("accessor"===l){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw TypeError("Object expected");(s=o(y.get))&&(h.get=s),(s=o(y.set))&&(h.set=s),(s=o(y.init))&&i.unshift(s)}else(s=o(y))&&("field"===l?i.unshift(s):h[c]=s)}u&&Object.defineProperty(u,n.name,h),d=!0}function l(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function c(e){return"symbol"==typeof e?e:"".concat(e)}function u(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}function f(e,t){var r,n,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){var c=[s,l];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){a=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(6===c[0]&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}var p=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function g(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||p(t,e,r)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function w(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function x(e){return this instanceof x?(this.v=e,this):new x(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{var r;(r=i[e](t)).value instanceof x?Promise.resolve(r.value.v).then(l,c):u(a[0][2],r)}catch(e){u(a[0][3],e)}}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function j(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:x(e[n](t)),done:!1}:i?i(t):t}:i}}function O(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var a,o,s;a=n,o=i,s=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){a({value:e,done:s})},o)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},k=function(e){return(k=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=k(e),n=0;n<r.length;n++)"default"!==r[n]&&p(t,e,r[n]);return E(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function N(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function C(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function M(e,t,r){if(null!=t){var n,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var I="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function D(e){function t(t){e.error=e.hasError?new I(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function R(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,a){return r?t?".jsx":".js":!n||i&&a?n+i+"."+a.toLowerCase()+"js":e}):e}let $={__extends:r,__assign:n,__rest:i,__decorate:a,__param:o,__esDecorate:s,__runInitializers:l,__propKey:c,__setFunctionName:u,__metadata:h,__awaiter:d,__generator:f,__createBinding:p,__exportStar:g,__values:y,__read:m,__spread:v,__spreadArrays:b,__spreadArray:w,__await:x,__asyncGenerator:_,__asyncDelegator:j,__asyncValues:O,__makeTemplateObject:S,__importStar:P,__importDefault:T,__classPrivateFieldGet:A,__classPrivateFieldSet:N,__classPrivateFieldIn:C,__addDisposableResource:M,__disposeResources:D,__rewriteRelativeImportExtension:R};e.s(["__addDisposableResource",()=>M,"__assign",()=>n,"__asyncDelegator",()=>j,"__asyncGenerator",()=>_,"__asyncValues",()=>O,"__await",()=>x,"__awaiter",()=>d,"__classPrivateFieldGet",()=>A,"__classPrivateFieldIn",()=>C,"__classPrivateFieldSet",()=>N,"__createBinding",()=>p,"__decorate",()=>a,"__disposeResources",()=>D,"__esDecorate",()=>s,"__exportStar",()=>g,"__extends",()=>r,"__generator",()=>f,"__importDefault",()=>T,"__importStar",()=>P,"__makeTemplateObject",()=>S,"__metadata",()=>h,"__param",()=>o,"__propKey",()=>c,"__read",()=>m,"__rest",()=>i,"__rewriteRelativeImportExtension",()=>R,"__runInitializers",()=>l,"__setFunctionName",()=>u,"__spread",()=>v,"__spreadArray",()=>w,"__spreadArrays",()=>b,"__values",()=>y,"default",0,$])},54385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}},43173,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(90571),i=n.__importDefault(e.r(6085)),a=n.__importDefault(e.r(54385));r.default=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n,i;let o=null,s=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){let r=await e.text();""===r||(s="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null==(t=this.headers.get("Accept"))?void 0:t.includes("application/vnd.pgrst.plan+text"))?r:JSON.parse(r))}let i=null==(r=this.headers.get("Prefer"))?void 0:r.match(/count=(exact|planned|estimated)/),a=null==(n=e.headers.get("content-range"))?void 0:n.split("/");i&&a&&a.length>1&&(l=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(o={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,c=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{let t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(s=[],o=null,c=200,u="OK")}catch(r){404===e.status&&""===t?(c=204,u="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null==(i=null==o?void 0:o.details)?void 0:i.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&this.shouldThrowOnError)throw new a.default(o)}return{error:o,data:s,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!=(r=null==e?void 0:e.stack)?r:""}`,hint:"",code:`${null!=(n=null==e?void 0:e.code)?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},82191,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(90571).__importDefault(e.r(43173));class i extends n.default{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){let a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let i=void 0===n?"offset":`${n}.offset`,a=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;let s=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!=(o=this.headers.get("Accept"))?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${s};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}}r.default=i},14633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(90571).__importDefault(e.r(82191));class i extends n.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");let a=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}r.default=i},38290,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(90571).__importDefault(e.r(14633));r.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){let{head:r=!1,count:i}=null!=t?t:{},a=!1,o=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",o),i&&this.headers.append("Prefer",`count=${i}`),new n.default({method:r?"HEAD":"GET",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(i=this.fetch)?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new n.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(o=this.fetch)?o:fetch})}update(e,{count:t}={}){var r;return t&&this.headers.append("Prefer",`count=${t}`),new n.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch})}delete({count:e}={}){var t;return e&&this.headers.append("Prefer",`count=${e}`),new n.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch})}}},2259,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(90571),i=n.__importDefault(e.r(38290)),a=n.__importDefault(e.r(14633));class o{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=n}from(e){let t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:i}={}){var o;let s,l,c=new URL(`${this.url}/rpc/${e}`);r||n?(s=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{c.searchParams.append(e,t)})):(s="POST",l=t);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new a.default({method:s,url:c,headers:u,schema:this.schemaName,body:l,fetch:null!=(o=this.fetch)?o:fetch})}}r.default=o},82215,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PostgrestError=r.PostgrestBuilder=r.PostgrestTransformBuilder=r.PostgrestFilterBuilder=r.PostgrestQueryBuilder=r.PostgrestClient=void 0;let n=e.r(90571),i=n.__importDefault(e.r(2259));r.PostgrestClient=i.default;let a=n.__importDefault(e.r(38290));r.PostgrestQueryBuilder=a.default;let o=n.__importDefault(e.r(14633));r.PostgrestFilterBuilder=o.default;let s=n.__importDefault(e.r(82191));r.PostgrestTransformBuilder=s.default;let l=n.__importDefault(e.r(43173));r.PostgrestBuilder=l.default;let c=n.__importDefault(e.r(54385));r.PostgrestError=c.default,r.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:c.default}},67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,a=l(e),o=a[0],s=a[1],c=new i((o+s)*3/4-s),u=0,h=s>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(function(e,t,n){for(var i,a=[],o=t;o<n;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var a=0|f(n,i),l=o(a),c=l.write(n,i);return c!==a&&(l=l.slice(0,c)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(T(e,ArrayBuffer)||e&&T(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(T(e,SharedArrayBuffer)||e&&T(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var u=e.valueOf&&e.valueOf();if(null!=u&&u!==e)return s.from(u,t,r);var p=function(e){if(s.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(c(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||T(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return S(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(i)return n?-1:S(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){var i,a,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=A[e[a]];return i}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,a=t,o=r,0===a&&o===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(a,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){var a;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(a=r*=1)!=a&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return m(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else -1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var h=!0,d=0;d<l;d++)if(c(e,a+d)!==c(t,d)){h=!1;break}if(h)return a}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(T(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),T(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(T(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(T(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,l=Math.min(a,o),c=this.slice(n,i),u=e.slice(t,r),h=0;h<l;++h)if(c[h]!==u[h]){a=c[h],o=u[h];break}return a<o?-1:+(o<a)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:(192&(a=e[i+1]))==128&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],(192&a)==128&&(192&o)==128&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],(192&a)==128&&(192&o)==128&&(192&s)==128&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",g=0;g<f;)p+=String.fromCharCode.apply(String,d.slice(g,g+=4096));return p}function b(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,a){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function x(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function _(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,a){return t*=1,r>>>=0,a||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,a,o,s,l,c,u,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s,l=parseInt(t.substr(2*o,2),16);if((s=l)!=s)break;e[r+o]=l}return o}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,P(S(e,this.length-i),this,i,a);case"ascii":return o=t,s=r,P(E(e),this,o,s);case"latin1":case"binary":return function(e,t,r,n){return P(E(t),e,r,n)}(this,e,t,r);case"base64":return l=t,c=r,P(k(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,h=r,P(function(e,t){for(var r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return(e>>>=0,t||b(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;w(this,e,t,r,i,0)}var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);w(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||w(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=i-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,a=e.charCodeAt(0);("utf8"===n&&a<128||"latin1"===n)&&(e=a)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=s.isBuffer(e)?e:s.from(e,n),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%l]}return this};var O=/[^+/0-9A-Za-z-_]/g;function S(e,t){t=t||1/0;for(var r,n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function E(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function k(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function T(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var A=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),a-=c}return(f?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,h=u>>1,d=5960464477539062e-23*(23===i),f=n?0:a-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*g}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},o=!0;try{n[e](r,r.exports,a),o=!1}finally{o&&delete i[e]}return r.exports}a.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=a(72)},78756,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isUnsafeProperty=function(e){return"__proto__"===e}},33858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},96736,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toKey=function(e){return"string"==typeof e||"symbol"==typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},48018,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");let r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},79232,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(48018),i=e.r(96736);r.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"==typeof e)return[e];e=n.toString(e);let t=[],r=e.length;if(0===r)return t;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){let n=e[a];s?"\\"===n&&a+1<r?o+=e[++a]:n===s?s="":o+=n:l?'"'===n||"'"===n?s=n:"]"===n?(l=!1,t.push(o),o=""):o+=n:"["===n?(l=!0,o&&(t.push(o),o="")):"."===n?o&&(t.push(o),o=""):o+=n,a++}return o&&t.push(o),t}},18915,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(78756),i=e.r(33858),a=e.r(96736),o=e.r(79232);r.get=function e(t,r,s){if(null==t)return s;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return s;let a=t[r];if(void 0===a)if(i.isDeepKey(r))return e(t,o.toPath(r),s);else return s;return a}case"number":case"symbol":{"number"==typeof r&&(r=a.toKey(r));let e=t[r];if(void 0===e)return s;return e}default:{if(Array.isArray(r)){var l=t,c=r,u=s;if(0===c.length)return u;let e=l;for(let t=0;t<c.length;t++){if(null==e||n.isUnsafeProperty(c[t]))return u;e=e[c[t]]}return void 0===e?u:e}if(r=Object.is(r?.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return s;let e=t[r];if(void 0===e)return s;return e}}}},92068,(e,t,r)=>{t.exports=e.r(18915).get},14595,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,u){var h=o(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=a(e,(h=l(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==u&&u(t,r)?(a=e,t):(a=e,o=r)}var a,o,s=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,u]))[0],h[1]);return s(function(){d.hasValue=!0,d.value=f},[f]),c(f),f}},13027,(e,t,r)=>{"use strict";t.exports=e.r(14595)},55838,(e,t,r)=>{"use strict";var n=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),o(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},52822,(e,t,r)=>{"use strict";var n=e.r(71645),i=e.r(2239),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var h=s(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;var f=o(e,(h=c(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(o=e,t):(o=e,s=r)}var o,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],h[1]);return l(function(){d.hasValue=!0,d.value=f},[f]),u(f),f}},30224,(e,t,r)=>{"use strict";t.exports=e.r(52822)},45403,(e,t,r)=>{"use strict";function n(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:4*(e!=e)}Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.compareValues=(e,t,r)=>{if(e!==t){let i=n(e),a=n(t);if(i===a&&0===i){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?a-i:i-a}return 0}},9542,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}},38104,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;r.isKey=function(e,t){return!Array.isArray(e)&&(!!("number"==typeof e||"boolean"==typeof e||null==e||n.isSymbol(e))||"string"==typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e))}},910,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(45403),i=e.r(38104),a=e.r(79232);r.orderBy=function(e,t,r,o){if(null==e)return[];r=o?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));let s=(e,t)=>{let r=e;for(let e=0;e<t.length&&null!=r;++e)r=r[t[e]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||i.isKey(e))?e:{key:e,path:a.toPath(e)});return e.map(e=>({original:e,criteria:l.map(t=>{var r,n;return r=t,null==(n=e)||null==r?n:"object"==typeof r&&"key"in r?Object.hasOwn(n,r.key)?n[r.key]:s(n,r.path):"function"==typeof r?r(n):Array.isArray(r)?s(n,r):"object"==typeof n?n[r]:n})})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){let a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},44647,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.flatten=function(e,t=1){let r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){let o=e[a];Array.isArray(o)&&t<n?i(o,t+1):r.push(o)}};return i(e,0),r}},5257,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=/^(?:0|[1-9]\d*)$/;r.isIndex=function(e,t=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},70871,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},69642,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(70871);r.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&n.isLength(e.length)}},90820,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},23855,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},15111,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(5257),i=e.r(69642),a=e.r(90820),o=e.r(23855);r.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"==typeof t&&i.isArrayLike(r)&&n.isIndex(t))&&t<r.length||"string"==typeof t&&t in r)&&o.eq(r[t],e)}},69955,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(910),i=e.r(44647),a=e.r(15111);r.sortBy=function(e,...t){let r=t.length;return r>1&&a.isIterateeCall(e,t[0],t[1])?t=[]:r>2&&a.isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),n.orderBy(e,i.flatten(t),["asc"])}},42342,(e,t,r)=>{t.exports=e.r(69955).sortBy},24798,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.debounce=function(e,t,{signal:r,edges:n}={}){let i,a=null,o=null!=n&&n.includes("leading"),s=null==n||n.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)},c=null,u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),h()},t)},h=()=>{null!==c&&(clearTimeout(c),c=null),i=void 0,a=null},d=function(...e){if(r?.aborted)return;i=this,a=e;let t=null==c;u(),o&&t&&l()};return d.schedule=u,d.cancel=h,d.flush=()=>{l()},r?.addEventListener("abort",h,{once:!0}),d}},96074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(24798);r.debounce=function(e,t=0,r={}){let i;"object"!=typeof r&&(r={});let{leading:a=!1,trailing:o=!0,maxWait:s}=r,l=[,,];a&&(l[0]="leading"),o&&(l[1]="trailing");let c=null,u=n.debounce(function(...t){i=e.apply(this,t),c=null},t,{edges:l}),h=function(...t){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(i=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),i):(u.apply(this,t),i)};return h.cancel=u.cancel,h.flush=()=>(u.flush(),i),h}},46508,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(96074);r.throttle=function(e,t=0,r={}){let{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},58723,(e,t,r)=>{t.exports=e.r(46508).throttle},41015,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(9542);r.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},89793,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(41015);r.toFinite=function(e){return e?(e=n.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}},45264,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(15111),i=e.r(89793);r.range=function(e,t,r){r&&"number"!=typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);let a=Math.max(Math.ceil((t-e)/(r||1)),0),o=Array(a);for(let t=0;t<a;t++)o[t]=e,e+=r;return o}},66814,(e,t,r)=>{t.exports=e.r(45264).range},51655,(e,t,r)=>{!function(r){"use strict";var n,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,o="[DecimalError] ",s=o+"Invalid argument: ",l=o+"Exponent out of range: ",c=Math.floor,u=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,d=c(1286742750677284.5),f={};function p(e,t){var r,n,i,o,s,l,c,u,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),a?O(t,d):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),o=s-i){for(o<0?(n=c,o=-o,l=u.length):(n=u,i=s,l=c.length),o>(l=(s=Math.ceil(d/7))>l?s+1:l+1)&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((l=c.length)-(o=u.length)<0&&(o=l,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/1e7|0,c[o]%=1e7;for(r&&(c.unshift(r),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,a?O(t,d):t}function g(e,t,r){if(e!==~~e||e<t||e>r)throw Error(s+e)}function y(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=x(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=x(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},f.comparedTo=f.cmp=function(e){var t,r,n,i;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(n=this.d.length)<(i=e.d.length)?n:i;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return n===i?0:n>i^this.s<0?1:-1},f.decimalPlaces=f.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},f.dividedBy=f.div=function(e){return m(this,new this.constructor(e))},f.dividedToIntegerBy=f.idiv=function(e){var t=this.constructor;return O(m(this,new t(e),0,1),t.precision)},f.equals=f.eq=function(e){return!this.cmp(e)},f.exponent=function(){return b(this)},f.greaterThan=f.gt=function(e){return this.cmp(e)>0},f.greaterThanOrEqualTo=f.gte=function(e){return this.cmp(e)>=0},f.isInteger=f.isint=function(){return this.e>this.d.length-2},f.isNegative=f.isneg=function(){return this.s<0},f.isPositive=f.ispos=function(){return this.s>0},f.isZero=function(){return 0===this.s},f.lessThan=f.lt=function(e){return 0>this.cmp(e)},f.lessThanOrEqualTo=f.lte=function(e){return 1>this.cmp(e)},f.logarithm=f.log=function(e){var t,r=this.constructor,i=r.precision,s=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(n))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(n)?new r(0):(a=!1,t=m(_(this,s),_(e,s),s),a=!0,O(t,i))},f.minus=f.sub=function(e){return e=new this.constructor(e),this.s==e.s?S(this,e):p(this,(e.s=-e.s,e))},f.modulo=f.mod=function(e){var t,r=this.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(a=!1,t=m(this,e,0,1).times(e),a=!0,this.minus(t)):O(new r(this),n)},f.naturalExponential=f.exp=function(){return v(this)},f.naturalLogarithm=f.ln=function(){return _(this)},f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},f.plus=f.add=function(e){return e=new this.constructor(e),this.s==e.s?p(this,e):S(this,(e.s=-e.s,e))},f.precision=f.sd=function(e){var t,r,n;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(s+e);if(t=b(this)+1,r=7*(n=this.d.length-1)+1,n=this.d[n]){for(;n%10==0;n/=10)r--;for(n=this.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},f.squareRoot=f.sqrt=function(){var e,t,r,n,i,s,l,u=this.constructor;if(this.s<1){if(!this.s)return new u(0);throw Error(o+"NaN")}for(e=b(this),a=!1,0==(i=Math.sqrt(+this))||i==1/0?(((t=y(this.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=c((e+1)/2)-(e<0||e%2),n=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(i.toString()),i=l=(r=u.precision)+3;;)if(n=(s=n).plus(m(this,s,l+2)).times(.5),y(s.d).slice(0,l)===(t=y(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&"4999"==t){if(O(s,r+1,0),s.times(s).eq(this)){n=s;break}}else if("9999"!=t)break;l+=4}return a=!0,O(n,r)},f.times=f.mul=function(e){var t,r,n,i,o,s,l,c,u,h=this.constructor,d=this.d,f=(e=new h(e)).d;if(!this.s||!e.s)return new h(0);for(e.s*=this.s,r=this.e+e.e,(c=d.length)<(u=f.length)&&(o=d,d=f,f=o,s=c,c=u,u=s),o=[],n=s=c+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=o[i]+f[n]*d[i-n-1]+t,o[i--]=l%1e7|0,t=l/1e7|0;o[i]=(o[i]+t)%1e7|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,a?O(e,h.precision):e},f.toDecimalPlaces=f.todp=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(g(e,0,1e9),void 0===t?t=n.rounding:g(t,0,8),O(r,e+b(r)+1,t))},f.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=E(n,!0):(g(e,0,1e9),void 0===t?t=i.rounding:g(t,0,8),r=E(n=O(new i(n),e+1,t),!0,e+1)),r},f.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?E(this):(g(e,0,1e9),void 0===t?t=i.rounding:g(t,0,8),r=E((n=O(new i(this),e+b(this)+1,t)).abs(),!1,e+b(n)+1),this.isneg()&&!this.isZero()?"-"+r:r)},f.toInteger=f.toint=function(){var e=this.constructor;return O(new e(this),b(this)+1,e.rounding)},f.toNumber=function(){return+this},f.toPower=f.pow=function(e){var t,r,i,s,l,u,h=this,d=h.constructor,f=+(e=new d(e));if(!e.s)return new d(n);if(!(h=new d(h)).s){if(e.s<1)throw Error(o+"Infinity");return h}if(h.eq(n))return h;if(i=d.precision,e.eq(n))return O(h,i);if(u=(t=e.e)>=(r=e.d.length-1),l=h.s,u){if((r=f<0?-f:f)<=0x1fffffffffffff){for(s=new d(n),t=Math.ceil(i/7+4),a=!1;r%2&&k((s=s.times(h)).d,t),0!==(r=c(r/2));)k((h=h.times(h)).d,t);return a=!0,e.s<0?new d(n).div(s):O(s,i)}}else if(l<0)throw Error(o+"NaN");return l=l<0&&1&e.d[Math.max(t,r)]?-1:1,h.s=1,a=!1,s=e.times(_(h,i+12)),a=!0,(s=v(s)).s=l,s},f.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?(r=b(i),n=E(i,r<=a.toExpNeg||r>=a.toExpPos)):(g(e,1,1e9),void 0===t?t=a.rounding:g(t,0,8),r=b(i=O(new a(i),e,t)),n=E(i,e<=r||r<=a.toExpNeg,e)),n},f.toSignificantDigits=f.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(g(e,1,1e9),void 0===t?t=r.rounding:g(t,0,8)),O(new r(this),e,t)},f.toString=f.valueOf=f.val=f.toJSON=function(){var e=b(this),t=this.constructor;return E(this,e<=t.toExpNeg||e>=t.toExpPos)};var m=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%1e7|0,n=r/1e7|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=1e7*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s){var l,c,u,h,d,f,p,g,y,m,v,w,x,_,j,S,E,k,P=n.constructor,T=n.s==i.s?1:-1,A=n.d,N=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(o+"Division by zero");for(u=0,c=n.e-i.e,E=N.length,j=A.length,g=(p=new P(T)).d=[];N[u]==(A[u]||0);)++u;if(N[u]>(A[u]||0)&&--c,(w=null==a?a=P.precision:s?a+(b(n)-b(i))+1:a)<0)return new P(0);if(w=w/7+2|0,u=0,1==E)for(h=0,N=N[0],w++;(u<j||h)&&w--;u++)x=1e7*h+(A[u]||0),g[u]=x/N|0,h=x%N|0;else{for((h=1e7/(N[0]+1)|0)>1&&(N=e(N,h),A=e(A,h),E=N.length,j=A.length),_=E,m=(y=A.slice(0,E)).length;m<E;)y[m++]=0;(k=N.slice()).unshift(0),S=N[0],N[1]>=1e7/2&&++S;do h=0,(l=t(N,y,E,m))<0?(v=y[0],E!=m&&(v=1e7*v+(y[1]||0)),(h=v/S|0)>1?(h>=1e7&&(h=1e7-1),f=(d=e(N,h)).length,m=y.length,1==(l=t(d,y,f,m))&&(h--,r(d,E<f?k:N,f))):(0==h&&(l=h=1),d=N.slice()),(f=d.length)<m&&d.unshift(0),r(y,d,m),-1==l&&(m=y.length,(l=t(N,y,E,m))<1&&(h++,r(y,E<m?k:N,m))),m=y.length):0===l&&(h++,y=[0]),g[u++]=h,l&&y[0]?y[m++]=A[_]||0:(y=[A[_]],m=1);while((_++<j||void 0!==y[0])&&w--)}return g[0]||g.shift(),p.e=c,O(p,s?a+b(p)+1:a)}}();function v(e,t){var r,i,o,s,c,h=0,d=0,f=e.constructor,p=f.precision;if(b(e)>16)throw Error(l+b(e));if(!e.s)return new f(n);for(null==t?(a=!1,c=p):c=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(c+=Math.log(u(2,d))/Math.LN10*2+5|0,r=i=o=new f(n),f.precision=c;;){if(i=O(i.times(e),c),r=r.times(++h),y((s=o.plus(m(i,r,c))).d).slice(0,c)===y(o.d).slice(0,c)){for(;d--;)o=O(o.times(o),c);return f.precision=p,null==t?(a=!0,O(o,p)):o}o=s}}function b(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function w(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function x(e){for(var t="";e--;)t+="0";return t}function _(e,t){var r,i,s,l,c,u,h,d,f,p=1,g=e,v=g.d,x=g.constructor,j=x.precision;if(g.s<1)throw Error(o+(g.s?"NaN":"-Infinity"));if(g.eq(n))return new x(0);if(null==t?(a=!1,d=j):d=t,g.eq(10))return null==t&&(a=!0),w(x,d);if(x.precision=d+=10,i=(r=y(v)).charAt(0),!(15e14>Math.abs(l=b(g))))return h=w(x,d+2,j).times(l+""),g=_(new x(i+"."+r.slice(1)),d-10).plus(h),x.precision=j,null==t?(a=!0,O(g,j)):g;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=y((g=g.times(e)).d)).charAt(0),p++;for(l=b(g),i>1?(g=new x("0."+r),l++):g=new x(i+"."+r.slice(1)),u=c=g=m(g.minus(n),g.plus(n),d),f=O(g.times(g),d),s=3;;){if(c=O(c.times(f),d),y((h=u.plus(m(c,new x(s),d))).d).slice(0,d)===y(u.d).slice(0,d))return u=u.times(2),0!==l&&(u=u.plus(w(x,d+2,j).times(l+""))),u=m(u,new x(p),d),x.precision=j,null==t?(a=!0,O(u,j)):u;u=h,s+=2}}function j(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,e.e=c((r=r-n-1)/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),a&&(e.e>d||e.e<-d))throw Error(l+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,i,o,s,h,f,p,g,y=e.d;for(s=1,o=y[0];o>=10;o/=10)s++;if((n=t-s)<0)n+=7,i=t,p=y[g=0];else{if((g=Math.ceil((n+1)/7))>=(o=y.length))return e;for(s=1,p=o=y[g];o>=10;o/=10)s++;n%=7,i=n-7+s}if(void 0!==r&&(h=p/(o=u(10,s-i-1))%10|0,f=t<0||void 0!==y[g+1]||p%o,f=r<4?(h||f)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||f||6==r&&(n>0?i>0?p/u(10,s-i):0:y[g-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return f?(o=b(e),y.length=1,t=t-o-1,y[0]=u(10,(7-t%7)%7),e.e=c(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==n?(y.length=g,o=1,g--):(y.length=g+1,o=u(10,7-n),y[g]=i>0?(p/u(10,s-i)%u(10,i)|0)*o:0),f)for(;;)if(0==g){1e7==(y[0]+=o)&&(y[0]=1,++e.e);break}else{if(y[g]+=o,1e7!=y[g])break;y[g--]=0,o=1}for(n=y.length;0===y[--n];)y.pop();if(a&&(e.e>d||e.e<-d))throw Error(l+b(e));return e}function S(e,t){var r,n,i,o,s,l,c,u,h,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),a?O(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n){for((h=s<0)?(r=c,s=-s,l=d.length):(r=d,n=u,l=c.length),s>(i=Math.max(Math.ceil(p/7),l)+2)&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for((h=(i=c.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}s=0}for(h&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>s;){if(c[--i]<d[i]){for(o=i;o&&0===c[--o];)c[o]=1e7-1;--c[o],c[i]+=1e7}c[i]-=d[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,a?O(t,p):t):new f(0)}function E(e,t,r){var n,i=b(e),a=y(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+x(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+x(-i-1)+a,r&&(n=r-o)>0&&(a+=x(n))):i>=o?(a+=x(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+x(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=x(n))),e.s<0?"-"+a:a}function k(e,t){if(e.length>t)return e.length=t,!0}function P(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,n,i=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]]))if(c(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(s+r+": "+n);if(void 0!==(n=e[r="LN10"]))if(n==Math.LN10)this[r]=new this(n);else throw Error(s+r+": "+n);return this}if((i=function e(t){var r,n,i;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(s+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return j(this,e.toString())}if("string"!=typeof e)throw Error(s+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,h.test(e))j(this,e);else throw Error(s+e)}if(a.prototype=f,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=P,void 0===t&&(t={}),t)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","LN10"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(i)).default=i.Decimal=i,n=new i(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=i)&&e.v(t)}else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=i)}(e.e)},78492,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var s=new o(r,n||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=Array(a);n<a;n++)o[n]=r[n].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,a),!0;case 6:return u.fn.call(u.context,t,r,n,a,o),!0}for(c=1,l=Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,n);break;default:if(!l)for(d=1,l=Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,a);else{for(var s=0,c=[],u=o.length;s<u;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},52210,(e,t,r)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case y:case c:return e;default:return t}}case a:return t}}}function j(e){return _(e)===d}r.AsyncMode=h,r.ConcurrentMode=d,r.ContextConsumer=u,r.ContextProvider=c,r.Element=i,r.ForwardRef=f,r.Fragment=o,r.Lazy=m,r.Memo=y,r.Portal=a,r.Profiler=l,r.StrictMode=s,r.Suspense=p,r.isAsyncMode=function(e){return j(e)||_(e)===h},r.isConcurrentMode=j,r.isContextConsumer=function(e){return _(e)===u},r.isContextProvider=function(e){return _(e)===c},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},r.isForwardRef=function(e){return _(e)===f},r.isFragment=function(e){return _(e)===o},r.isLazy=function(e){return _(e)===m},r.isMemo=function(e){return _(e)===y},r.isPortal=function(e){return _(e)===a},r.isProfiler=function(e){return _(e)===l},r.isStrictMode=function(e){return _(e)===s},r.isSuspense=function(e){return _(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===l||e===s||e===p||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===v)},r.typeOf=_},35313,(e,t,r)=>{"use strict";t.exports=e.r(52210)},18256,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPlainObject=function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},7328,(e,t,r)=>{t.exports=e.r(18256).isPlainObject},43210,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.last=function(e){return e[e.length-1]}},75576,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},5518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(43210),i=e.r(75576),a=e.r(69642);r.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},4178,(e,t,r)=>{t.exports=e.r(5518).last},10185,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.uniqBy=function(e,t){let r=new Map;for(let n=0;n<e.length;n++){let i=e[n],a=t(i);r.has(a)||r.set(a,i)}return Array.from(r.values())}},36074,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.identity=function(e){return e}},52603,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isObjectLike=function(e){return"object"==typeof e&&null!==e}},44936,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(69642),i=e.r(52603);r.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},77473,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(18915);r.property=function(e){return function(t){return n.get(t,e)}}},75234,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}},44695,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(90820),i=e.r(75234),a=e.r(23855);function o(e,t,r,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return s(e,t,r,n);if(t instanceof Map){var a=e,o=t,c=r,u=n;if(0===o.size)return!0;if(!(a instanceof Map))return!1;for(let[e,t]of o.entries())if(!1===c(a.get(e),t,e,a,o,u))return!1;return!0}if(t instanceof Set)return l(e,t,r,n);let h=Object.keys(t);if(null==e)return 0===h.length;if(0===h.length)return!0;if(n?.has(t))return n.get(t)===e;n?.set(t,e);try{for(let a=0;a<h.length;a++){let o=h[a];if(!i.isPrimitive(e)&&!(o in e)||void 0===t[o]&&void 0!==e[o]||null===t[o]&&null!==e[o]||!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{n?.delete(t)}}(e,t,r,c);case"function":if(Object.keys(t).length>0)return o(e,{...t},r,c);return a.eq(e,t);default:if(!n.isObject(e))return a.eq(e,t);if("string"==typeof t)return""===t;return!0}}function s(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;let i=new Set;for(let a=0;a<t.length;a++){let o=t[a],s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=e[l],u=!1;if(r(c,o,a,e,t,n)&&(u=!0),u){i.add(l),s=!0;break}}if(!s)return!1}return!0}function l(e,t,r,n){return 0===t.size||e instanceof Set&&s([...e],[...t],r,n)}r.isMatchWith=function e(t,r,n){return"function"!=typeof n?e(t,r,()=>void 0):o(t,r,function e(t,r,i,a,s,l){let c=n(t,r,i,a,s,l);return void 0!==c?!!c:o(t,r,e,l)},new Map)},r.isSetMatch=l},3450,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(44695);r.isMatch=function(e,t){return n.isMatchWith(e,t,()=>void 0)}},9866,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},23678,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},55813,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.argumentsTag="[object Arguments]",r.arrayBufferTag="[object ArrayBuffer]",r.arrayTag="[object Array]",r.bigInt64ArrayTag="[object BigInt64Array]",r.bigUint64ArrayTag="[object BigUint64Array]",r.booleanTag="[object Boolean]",r.dataViewTag="[object DataView]",r.dateTag="[object Date]",r.errorTag="[object Error]",r.float32ArrayTag="[object Float32Array]",r.float64ArrayTag="[object Float64Array]",r.functionTag="[object Function]",r.int16ArrayTag="[object Int16Array]",r.int32ArrayTag="[object Int32Array]",r.int8ArrayTag="[object Int8Array]",r.mapTag="[object Map]",r.numberTag="[object Number]",r.objectTag="[object Object]",r.regexpTag="[object RegExp]",r.setTag="[object Set]",r.stringTag="[object String]",r.symbolTag="[object Symbol]",r.uint16ArrayTag="[object Uint16Array]",r.uint32ArrayTag="[object Uint32Array]",r.uint8ArrayTag="[object Uint8Array]",r.uint8ClampedArrayTag="[object Uint8ClampedArray]"},55424,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},92348,(e,t,r)=>{"use strict";var n=e.i(67034);Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let i=e.r(9866),a=e.r(23678),o=e.r(55813),s=e.r(75234),l=e.r(55424);function c(e,t,r,i=new Map,h){let d=h?.(e,t,r,i);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){let t=Array(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=c(e[n],n,r,i,h);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[n,a]of(i.set(e,t),e))t.set(n,c(a,n,r,i,h));return t}if(e instanceof Set){let t=new Set;for(let n of(i.set(e,t),e))t.add(c(n,void 0,r,i,h));return t}if(void 0!==n.Buffer&&n.Buffer.isBuffer(e))return e.subarray();if(l.isTypedArray(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);i.set(e,t);for(let n=0;n<e.length;n++)t[n]=c(e[n],n,r,i,h);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return i.set(e,t),u(t,e,r,i,h),t}if("undefined"!=typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return i.set(e,t),u(t,e,r,i,h),t}if("undefined"!=typeof Blob&&e instanceof Blob){let t=new Blob([e],{type:e.type});return i.set(e,t),u(t,e,r,i,h),t}if(e instanceof Error){let t=new e.constructor;return i.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,u(t,e,r,i,h),t}if(e instanceof Boolean){let t=new Boolean(e.valueOf());return i.set(e,t),u(t,e,r,i,h),t}if(e instanceof Number){let t=new Number(e.valueOf());return i.set(e,t),u(t,e,r,i,h),t}if(e instanceof String){let t=new String(e.valueOf());return i.set(e,t),u(t,e,r,i,h),t}if("object"==typeof e&&function(e){switch(a.getTag(e)){case o.argumentsTag:case o.arrayTag:case o.arrayBufferTag:case o.dataViewTag:case o.booleanTag:case o.dateTag:case o.float32ArrayTag:case o.float64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.mapTag:case o.numberTag:case o.objectTag:case o.regexpTag:case o.setTag:case o.stringTag:case o.symbolTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return i.set(e,t),u(t,e,r,i,h),t}return e}function u(e,t,r=e,n,a){let o=[...Object.keys(t),...i.getSymbols(t)];for(let i=0;i<o.length;i++){let s=o[i],l=Object.getOwnPropertyDescriptor(e,s);(null==l||l.writable)&&(e[s]=c(t[s],s,r,n,a))}}r.cloneDeepWith=function(e,t){return c(e,void 0,e,new Map,t)},r.cloneDeepWithImpl=c,r.copyProperties=u},99510,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348);r.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},67284,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(99510);r.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},68110,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(92348),i=e.r(55813);r.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,a,o,s)=>{let l=t?.(r,a,o,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case i.numberTag:case i.stringTag:case i.booleanTag:{let t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case i.argumentsTag:{let t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},93141,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(68110);r.cloneDeep=function(e){return n.cloneDeepWith(e)}},17858,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(23678);r.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===n.getTag(e)}},56518,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(33858),i=e.r(5257),a=e.r(17858),o=e.r(79232);r.has=function(e,t){let r;if(0===(r=Array.isArray(t)?t:"string"==typeof t&&n.isDeepKey(t)&&e?.[t]==null?o.toPath(t):[t]).length)return!1;let s=e;for(let e=0;e<r.length;e++){let t=r[e];if((null==s||!Object.hasOwn(s,t))&&!((Array.isArray(s)||a.isArguments(s))&&i.isIndex(t)&&t<s.length))return!1;s=s[t]}return!0}},40656,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(3450),i=e.r(96736),a=e.r(93141),o=e.r(18915),s=e.r(56518);r.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){let i=o.get(r,e);return void 0===i?s.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},27519,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(36074),i=e.r(77473),a=e.r(67284),o=e.r(40656);r.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":if(Array.isArray(e)&&2===e.length)return o.matchesProperty(e[0],e[1]);return a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},77008,(e,t,r)=>{"use strict";Object.defineProperty(r,Symbol.toStringTag,{value:"Module"});let n=e.r(10185),i=e.r(36074),a=e.r(44936),o=e.r(27519);r.uniqBy=function(e,t=i.identity){return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),o.iteratee(t)):[]}},92809,(e,t,r)=>{t.exports=e.r(77008).uniqBy},31713,e=>{"use strict";let t,r,n,i;var a,o,s,l,c,u,h,d,f,p,g,y,m,v,b,w,x,_,j,O,S,E,k,P,T,A,N,C,M,I,D,R,$,U,L=e.i(43476),B=e.i(71645),F=e.i(47167),q=e.i(90571);class z extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class K extends z{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class W extends z{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class V extends z{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(a=m||(m={})).Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2";class H{constructor(t,{headers:r={},customFetch:n,region:i=m.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=(t=>{let r;return r=t||("undefined"==typeof fetch?(...t)=>e.A(11737).then(({default:e})=>e(...t)):fetch),(...e)=>r(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return(0,q.__awaiter)(this,arguments,void 0,function*(e,t={}){var r;try{let n,{headers:i,method:a,body:o,signal:s}=t,l={},{region:c}=t;c||(c=this.region);let u=new URL(`${this.url}/${e}`);c&&"any"!==c&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c)),o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!=typeof Blob&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",n=o):"string"==typeof o?(l["Content-Type"]="text/plain",n=o):"undefined"!=typeof FormData&&o instanceof FormData?n=o:(l["Content-Type"]="application/json",n=JSON.stringify(o)):n=o;let h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:n,signal:s}).catch(e=>{if("AbortError"===e.name)throw e;throw new K(e)}),d=h.headers.get("x-relay-error");if(d&&"true"===d)throw new W(h);if(!h.ok)throw new V(h);let f=(null!=(r=h.headers.get("Content-Type"))?r:"text/plain").split(";")[0].trim();return{data:"application/json"===f?yield h.json():"application/octet-stream"===f||"application/pdf"===f?yield h.blob():"text/event-stream"===f?h:"multipart/form-data"===f?yield h.formData():yield h.text(),error:null,response:h}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return{data:null,error:new K(e)};return{data:null,error:e,response:e instanceof V||e instanceof W?e.context:void 0}}})}}let{PostgrestClient:G,PostgrestQueryBuilder:J,PostgrestFilterBuilder:Y,PostgrestTransformBuilder:X,PostgrestBuilder:Z,PostgrestError:Q}=e.i(82215).default,ee=class{static detectEnvironment(){var t;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==e.g.WebSocket)return{type:"native",constructor:e.g.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(t=navigator.userAgent)?void 0:t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(void 0!==F.default){let e=F.default.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};(o=v||(v={}))[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed",(s=b||(b={})).closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving",(l=w||(w={})).close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token",(x||(x={})).websocket="websocket",(c=_||(_={})).Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed";class et{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):"string"==typeof e?t(JSON.parse(e)):t({})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let n=t.getUint8(1),i=t.getUint8(2),a=this.HEADER_LENGTH+2,o=r.decode(e.slice(a,a+n));a+=n;let s=r.decode(e.slice(a,a+i));return a+=i,{ref:null,topic:o,event:s,payload:JSON.parse(r.decode(e.slice(a,e.byteLength)))}}}class er{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(u=j||(j={})).abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange";let en=(e,t,r={})=>{var n;let i=null!=(n=r.skipTypes)?n:[];return t?Object.keys(t).reduce((r,n)=>(r[n]=ei(n,e,t,i),r),{}):{}},ei=(e,t,r,n)=>{let i=t.find(t=>t.name===e),a=null==i?void 0:i.type,o=r[e];return a&&!n.includes(a)?ea(a,o):eo(o)},ea=(e,t)=>{if("_"===e.charAt(0))return eu(t,e.slice(1,e.length));switch(e){case j.bool:return es(t);case j.float4:case j.float8:case j.int2:case j.int4:case j.int8:case j.numeric:case j.oid:return el(t);case j.json:case j.jsonb:return ec(t);case j.timestamp:return eh(t);case j.abstime:case j.date:case j.daterange:case j.int4range:case j.int8range:case j.money:case j.reltime:case j.text:case j.time:case j.timestamptz:case j.timetz:case j.tsrange:case j.tstzrange:default:return eo(t)}},eo=e=>e,es=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},el=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ec=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){console.log(`JSON parse error: ${e}`)}return e},eu=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n,i=e.slice(1,r);try{n=JSON.parse("["+i+"]")}catch(e){n=i?i.split(","):[]}return n.map(e=>ea(t,e))}return e},eh=e=>"string"==typeof e?e.replace(" ","T"):e,ed=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ef{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null==(r=this.receivedResp)?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(h=O||(O={})).SYNC="sync",h.JOIN="join",h.LEAVE="leave";class ep{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ep.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=ep.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ep.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let r=i[e];if(r){let n=t.map(e=>e.presence_ref),i=r.map(e=>e.presence_ref),a=t.filter(e=>0>i.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));a.length>0&&(o[e]=a),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},r,n)}static syncDiff(e,t,r,n){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(t,n)=>{var i;let a=null!=(i=e[t])?i:[];if(e[t]=this.cloneDeep(n),a.length>0){let r=e[t].map(e=>e.presence_ref),n=a.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,a,n)}),this.map(a,(t,r)=>{let i=e[t];if(!i)return;let a=r.map(e=>e.presence_ref);i=i.filter(e=>0>a.indexOf(e.presence_ref)),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(d=S||(S={})).ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE",(f=E||(E={})).BROADCAST="broadcast",f.PRESENCE="presence",f.POSTGRES_CHANGES="postgres_changes",f.SYSTEM="system",(p=k||(k={})).SUBSCRIBED="SUBSCRIBED",p.TIMED_OUT="TIMED_OUT",p.CLOSED="CLOSED",p.CHANNEL_ERROR="CHANNEL_ERROR";class eg{constructor(e,t={config:{}},r){var n,i;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ef(this,w.join,this.params,this.timeout),this.rejoinTimer=new er(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())}),this._on(w.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ep(this),this.broadcastEndpointURL=ed(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(i=null==(n=this.params.config)?void 0:n.broadcast)?void 0:i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==b.closed){let{config:{broadcast:a,presence:o,private:s}}=this.params,l=null!=(n=null==(r=this.bindings.postgres_changes)?void 0:r.map(e=>e.filter))?n:[],c=!!this.bindings[E.PRESENCE]&&this.bindings[E.PRESENCE].length>0||(null==(i=this.params.config.presence)?void 0:i.enabled)===!0,u={},h={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(k.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(k.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0===t){null==e||e(k.SUBSCRIBED);return}{let n=this.bindings.postgres_changes,i=null!=(r=null==n?void 0:n.length)?r:0,a=[];for(let r=0;r<i;r++){let i=n[r],{filter:{event:o,schema:s,table:l,filter:c}}=i,u=t&&t[r];if(u&&u.event===o&&u.schema===s&&u.table===l&&u.filter===c)a.push(Object.assign(Object.assign({},i),{id:u.id}));else{this.unsubscribe(),this.state=b.errored,null==e||e(k.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=a,e&&e(k.SUBSCRIBED);return}}).receive("error",t=>{this.state=b.errored,null==e||e(k.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(k.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===b.joined&&e===E.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var n;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(null==t)return Promise.reject("Payload is required for httpSend()");let a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!=(n=r.timeout)?n:this.timeout);if(202===o.status)return{success:!0};let s=o.statusText;try{let e=await o.json();s=e.error||e.message||s}catch(e){}return Promise.reject(Error(s))}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,i,a;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(a=null==(i=null==(n=this.params)?void 0:n.config)?void 0:i.broadcast)?void 0:a.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!=(r=t.timeout)?r:this.timeout);return await (null==(n=e.body)?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=b.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{(r=new ef(this,w.leave,{},e)).receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=b.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let n=new AbortController,i=setTimeout(()=>n.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(i),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ef(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=w;if(r&&[o,s,l,c].indexOf(a)>=0&&r!==this._joinRef())return;let u=this._onMessage(a,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null==(n=this.bindings.postgres_changes)||n.filter(e=>{var t,r,n;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(n=null==(r=e.filter)?void 0:r.event)?void 0:n.toLocaleLowerCase())===a}).map(e=>e.callback(u,r)):null==(i=this.bindings[a])||i.filter(e=>{var r,n,i,o,s,l;if(!["broadcast","presence","postgres_changes"].includes(a))return e.type.toLocaleLowerCase()===a;if("id"in e){let a=e.id,o=null==(r=e.filter)?void 0:r.event;return a&&(null==(n=t.ids)?void 0:n.includes(a))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null==(i=t.data)?void 0:i.type.toLocaleLowerCase()))}{let r=null==(s=null==(o=null==e?void 0:e.filter)?void 0:o.event)?void 0:s.toLocaleLowerCase();return"*"===r||r===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof u&&"ids"in u){let e=u.data,{schema:t,table:r,commit_timestamp:n,type:i,errors:a}=e;u=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:i,new:{},old:{},errors:a}),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null==(n=e.type)?void 0:n.toLocaleLowerCase())===r&&eg.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=en(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=en(e.columns,e.old_record)),t}}let ey=()=>{},em=[1e3,2e3,5e3,1e4],ev=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eb{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ey,this.ref=0,this.reconnectTimer=null,this.logger=ey,this.conn=null,this.sendBuffer=[],this.serializer=new et,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=t=>{let r;return r=t||("undefined"==typeof fetch?(...t)=>e.A(11737).then(({default:e})=>e(...t)).catch(e=>{throw Error(`Failed to load @supabase/node-fetch: ${e.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...e)=>r(...e)},!(null==(n=null==r?void 0:r.params)?void 0:n.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${x.websocket}`,this.httpEndpoint=ed(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==r?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ee.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case v.connecting:return _.Connecting;case v.open:return _.Open;case v.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{let r=new eg(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:n,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},100);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(e){this.log("error","error in heartbeat callback",e)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:t,event:r,payload:n,ref:i}=e,a=i?`(${i})`:"",o=n.status||"";this.log("receive",`${o} ${t} ${r} ${a}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(w.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([ev],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;t=e||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t,version:"realtime-js/2.76.1"}),e.joinedOnce&&e._isJoined()&&e._push(w.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new er(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,i,a,o,s,l,c;if(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(r=null==e?void 0:e.timeout)?r:1e4,this.heartbeatIntervalMs=null!=(n=null==e?void 0:e.heartbeatIntervalMs)?n:25e3,this.worker=null!=(i=null==e?void 0:e.worker)&&i,this.accessToken=null!=(a=null==e?void 0:e.accessToken)?a:null,this.heartbeatCallback=null!=(o=null==e?void 0:e.heartbeatCallback)?o:ey,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(s=null==e?void 0:e.reconnectAfterMs)?s:e=>em[e-1]||1e4,this.encode=null!=(l=null==e?void 0:e.encode)?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(c=null==e?void 0:e.decode)?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var ew=e.i(67034);class ex extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function e_(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ej extends ex{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eO extends ex{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}let eS=t=>{let r;return r=t||("undefined"==typeof fetch?(...t)=>e.A(11737).then(({default:e})=>e(...t)):fetch),(...e)=>r(...e)},eE=e=>{if(Array.isArray(e))return e.map(e=>eE(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=eE(r)}),t},ek=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function eP(t,r,n,i,a,o){return(0,q.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,l)=>{let c;t(n,(c={method:r,headers:(null==i?void 0:i.headers)||{}},"GET"===r||!o?c:((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(o)?(c.headers=Object.assign({"Content-Type":"application/json"},null==i?void 0:i.headers),c.body=JSON.stringify(o)):c.body=o,(null==i?void 0:i.duplex)&&(c.duplex=i.duplex),Object.assign(Object.assign({},c),a)))).then(e=>{if(!e.ok)throw e;return(null==i?void 0:i.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(t=>(0,q.__awaiter)(void 0,void 0,void 0,function*(){t instanceof(yield(0,q.__awaiter)(void 0,void 0,void 0,function*(){return"undefined"==typeof Response?(yield e.A(11737)).Response:Response}))&&!(null==i?void 0:i.noResolveJson)?t.json().then(e=>{let r=t.status||500,n=(null==e?void 0:e.statusCode)||r+"";l(new ej(ek(e),r,n))}).catch(e=>{l(new eO(ek(e),e))}):l(new eO(ek(t),t))}))})})}function eT(e,t,r,n){return(0,q.__awaiter)(this,void 0,void 0,function*(){return eP(e,"GET",t,r,n)})}function eA(e,t,r,n,i){return(0,q.__awaiter)(this,void 0,void 0,function*(){return eP(e,"POST",t,n,i,r)})}function eN(e,t,r,n,i){return(0,q.__awaiter)(this,void 0,void 0,function*(){return eP(e,"PUT",t,n,i,r)})}function eC(e,t,r,n,i){return(0,q.__awaiter)(this,void 0,void 0,function*(){return eP(e,"DELETE",t,n,i,r)})}class eM{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}}P=Symbol.toStringTag;let eI=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[P]="BlobDownloadBuilder",this.promise=null}asStream(){return new eM(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}},eD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class e${constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=eS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,n){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let i,a=Object.assign(Object.assign({},eR),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)}),s=a.metadata;"undefined"!=typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",a.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?((i=r).append("cacheControl",a.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,s&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),(null==n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));let l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?eN:eA)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:o},(null==a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}upload(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return(0,q.__awaiter)(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let e,t=Object.assign({upsert:eR.upsert},n),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);let s=yield eN(this.fetch,o.toString(),e,{headers:a});return{data:{path:i,fullPath:s.Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");let i=yield eA(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new ex("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}update(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}copy(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield eA(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield eA(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let n=yield eA(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}download(e,t){let r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e);return new eI(()=>eT(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let e=yield eT(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:eE(e),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}exists(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield function(e,t,r,n){return(0,q.__awaiter)(this,void 0,void 0,function*(){return eP(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),void 0)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e)&&e instanceof eO){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],i=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&n.push(i);let a=void 0!==(null==t?void 0:t.transform),o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let s=n.join("&");return""!==s&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a?"render/image":"object"}/public/${r}${s}`)}}}remove(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}list(e,t,r){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let n=Object.assign(Object.assign(Object.assign({},eD),t),{prefix:e||""});return{data:yield eA(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}listV2(e,t){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield eA(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==ew.Buffer?ew.Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}let eU="2.76.1",eL={"X-Client-Info":`storage-js/${eU}`};class eB{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);(null==n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eL),t),this.fetch=eS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}getBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eT(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}createBucket(e){return(0,q.__awaiter)(this,arguments,void 0,function*(e,t={public:!1}){try{return{data:yield eA(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}emptyBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}deleteBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}}class eF{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eL),t),this.fetch=eS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}listBuckets(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{let t=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&t.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&t.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&t.set("search",e.search);let r=t.toString(),n=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,i=yield eT(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(e=>"ANALYTICS"===e.type):[],error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}deleteBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(e_(e))return{data:null,error:e};throw e}})}}let eq={"X-Client-Info":`storage-js/${eU}`,"Content-Type":"application/json"};class ez extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function eK(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class eW extends ez{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eV extends ez{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}(g=T||(T={})).InternalError="InternalError",g.S3VectorConflictException="S3VectorConflictException",g.S3VectorNotFoundException="S3VectorNotFoundException",g.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",g.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",g.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded";let eH=t=>{let r;return r=t||("undefined"==typeof fetch?(...t)=>e.A(11737).then(({default:e})=>e(...t)):fetch),(...e)=>r(...e)},eG=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function eJ(e,t,r,n,i){return(0,q.__awaiter)(this,void 0,void 0,function*(){return function(e,t,r,n,i,a){return(0,q.__awaiter)(this,void 0,void 0,function*(){return new Promise((o,s)=>{let l;e(r,(l={method:t,headers:(null==n?void 0:n.headers)||{}},"GET"===t||!a?l:((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(a)?(l.headers=Object.assign({"Content-Type":"application/json"},null==n?void 0:n.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),i)))).then(e=>{if(!e.ok)throw e;if(null==n?void 0:n.noResolveJson)return e;let t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>(0,q.__awaiter)(void 0,void 0,void 0,function*(){if(!(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status)||(null==n?void 0:n.noResolveJson))s(new eV(eG(e),e));else{let t=e.status||500;"function"==typeof e.json?e.json().then(e=>{let r=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||t+"";s(new eW(eG(e),t,r))}).catch(()=>{s(new eW(e.statusText||`HTTP ${t} error`,t,t+""))}):s(new eW(e.statusText||`HTTP ${t} error`,t,t+""))}}))})})}(e,"POST",t,n,i,r)})}class eY{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eq),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield eJ(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}getIndex(e,t){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}listIndexes(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}deleteIndex(e,t){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield eJ(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}}class eX{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eq),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return{data:(yield eJ(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}getVectors(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}listVectors(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield eJ(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}queryVectors(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}deleteVectors(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return{data:(yield eJ(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}}class eZ{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eq),t),this.fetch=eH(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield eJ(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}getBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield eJ(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}listBuckets(){return(0,q.__awaiter)(this,arguments,void 0,function*(e={}){try{return{data:yield eJ(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}deleteBucket(e){return(0,q.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield eJ(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eK(e))return{data:null,error:e};throw e}})}}class eQ extends eZ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new e0(this.url,this.headers,e,this.fetch)}}class e0 extends eY{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}createIndex(e){let t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,q.__awaiter)(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new e1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class e1 extends eX{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}putVectors(e){let t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,q.__awaiter)(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,q.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class e2 extends eB{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new e$(this.url,this.headers,e,this.fetch)}get vectors(){return new eQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eF(this.url+"/iceberg",this.headers,this.fetch)}}let e5="";e5="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let e3={headers:{"X-Client-Info":`supabase-js-${e5}/2.76.1`}},e6={schema:"public"},e4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e8={};var e7=e.i(6085);let e9="2.76.1",te={"X-Client-Info":`gotrue-js/${e9}`},tt="X-Supabase-Api-Version",tr={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ti extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ta(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class to extends ti{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class ts extends ti{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class tl extends ti{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class tc extends tl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class tu extends tl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class th extends tl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class td extends tl{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tf extends tl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tp extends tl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tg(e){return ta(e)&&"AuthRetryableFetchError"===e.name}class ty extends tl{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class tm extends tl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let tv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tb=" 	\n\r=".split(""),tw=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tb.length;t+=1)e[tb[t].charCodeAt(0)]=-2;for(let t=0;t<tv.length;t+=1)e[tv[t].charCodeAt(0)]=t;return e})();function tx(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(tv[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(tv[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function t_(e,t,r){let n=tw[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function tj(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let t=0;t<e.length;t+=1)t_(e.charCodeAt(t),i,a);return t.join("")}function tO(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)t_(e.charCodeAt(t),r,n);return new Uint8Array(t)}function tS(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>tx(e,r,n)),tx(null,r,n),t.join("")}let tE=()=>"undefined"!=typeof window&&"undefined"!=typeof document,tk={tested:!1,writable:!1},tP=()=>{if(!tE())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(tk.tested)return tk.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tk.tested=!0,tk.writable=!0}catch(e){tk.tested=!0,tk.writable=!1}return tk.writable},tT=t=>{let r;return r=t||("undefined"==typeof fetch?(...t)=>e.A(11737).then(({default:e})=>e(...t)):fetch),(...e)=>r(...e)},tA=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tN=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},tC=async(e,t)=>{await e.removeItem(t)};class tM{constructor(){this.promise=new tM.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tI(e){let t=e.split(".");if(3!==t.length)throw new tm("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!tn.test(t[e]))throw new tm("JWT not in base64url format");return{header:JSON.parse(tj(t[0])),payload:JSON.parse(tj(t[1])),signature:tO(t[2]),raw:{header:t[0],payload:t[1]}}}async function tD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tR(e){return("0"+e.toString(16)).substr(-2)}async function t$(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tU(e){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e):btoa(await t$(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tL(e,t,r=!1){let n=function(){let e=new Uint32Array(56);if("undefined"==typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,tR).join("")}(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await tA(e,`${t}-code-verifier`,i);let a=await tU(n),o=n===a?"plain":"s256";return[a,o]}tM.promiseConstructor=Promise;let tB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,tF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tq(e){if(!tF.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tz(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tK(e){return JSON.parse(JSON.stringify(e))}let tW=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tV=[502,503,504];async function tH(e){var t;let r,n;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new tp(tW(e),0);if(tV.includes(e.status))throw new tp(tW(e),e.status);try{r=await e.json()}catch(e){throw new ts(tW(e),e)}let i=function(e){let t=e.headers.get(tt);if(!t||!t.match(tB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=tr["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new ty(tW(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===n)throw new tc}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new ty(tW(r),e.status,r.weak_password.reasons);throw new to(tW(r),e.status||500,n)}async function tG(e,t,r,n){var i;let a=Object.assign({},null==n?void 0:n.headers);a[tt]||(a[tt]=tr["2024-01-01"].name),(null==n?void 0:n.jwt)&&(a.Authorization=`Bearer ${n.jwt}`);let o=null!=(i=null==n?void 0:n.query)?i:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tJ(e,t,r+s,{headers:a,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tJ(e,t,r,n,i,a){let o,s,l=(s={method:t,headers:(null==n?void 0:n.headers)||{}},"GET"===t?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==n?void 0:n.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),i)));try{o=await e(r,Object.assign({},l))}catch(e){throw console.error(e),new tp(tW(e),0)}if(o.ok||await tH(o),null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(e){await tH(e)}}function tY(e){var t,r,n;let i=null;(n=e).access_token&&n.refresh_token&&n.expires_in&&(i=Object.assign({},e),e.expires_at||(i.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:i,user:null!=(t=e.user)?t:e},error:null}}function tX(e){let t=tY(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tZ(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function tQ(e){return{data:e,error:null}}function t0(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},user:Object.assign({},(0,q.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function t1(e){return e}let t2=["global","local","others"];class t5{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=tT(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=t2[0]){if(0>t2.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${t2.join(", ")}`);try{return await tG(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(ta(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tG(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tZ})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=(0,q.__rest)(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await tG(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:t0,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(ta(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tZ})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,i,a,o,s;try{let l={nextPage:null,lastPage:0,total:0},c=await tG(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(i=null==(n=null==e?void 0:e.perPage)?void 0:n.toString())?i:""},xform:t1});if(c.error)throw c.error;let u=await c.json(),h=null!=(a=c.headers.get("x-total-count"))?a:0,d=null!=(s=null==(o=c.headers.get("link"))?void 0:o.split(","))?s:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(ta(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){tq(e);try{return await tG(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tZ})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){tq(e);try{return await tG(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tZ})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){tq(e);try{return await tG(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tZ})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){tq(e.userId);try{let{data:t,error:r}=await tG(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _deleteFactor(e){tq(e.userId),tq(e.id);try{return{data:await tG(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,n,i,a,o,s;try{let l={nextPage:null,lastPage:0,total:0},c=await tG(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(i=null==(n=null==e?void 0:e.perPage)?void 0:n.toString())?i:""},xform:t1});if(c.error)throw c.error;let u=await c.json(),h=null!=(a=c.headers.get("x-total-count"))?a:0,d=null!=(s=null==(o=c.headers.get("link"))?void 0:o.split(","))?s:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(e){if(ta(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await tG(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await tG(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await tG(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}}function t3(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let t6={debug:!!(globalThis&&tP()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class t4 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t8 extends t4{}async function t7(e,t,r){t6.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),t6.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){t6.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{t6.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}if(0===t)throw t6.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(t6.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function t9(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class re extends Error{constructor({message:e,code:t,cause:r,name:n}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!=(i=null!=n?n:r instanceof Error?r.name:void 0)?i:"Unknown Error",this.code=t}}class rt extends re{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}let rr=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function rn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ri(){var e,t;return!!(tE()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function ra(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new rt("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new rt("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,n,i;let{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(r=a.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(n=a.authenticatorSelection)?void 0:n.userVerification)==="required")return new re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(i=a.authenticatorSelection)?void 0:i.userVerification)==="required")return new re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new re(0===a.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rn(t))return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(a.rp.id!==t)return new re({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function ro(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new rt("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new rt("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new re({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rn(t))return new re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new re({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let rs={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},rl={userVerification:"preferred",hints:["security-key"]};function rc(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(let i of e)if(i)for(let e in i){let a=i[e];if(void 0!==a)if(Array.isArray(a))n[e]=a;else if(r(a))n[e]=a;else if(t(a)){let r=n[e];t(r)?n[e]=rc(r,a):n[e]=rc(a)}else n[e]=a}return n}class ru{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},i){try{var a,o,s,l;let{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:u};let h=null!=n?n:rr.createNewAbortSignal();if("create"===c.webauthn.type){let{user:e}=c.webauthn.credential_options.publicKey;e.name||(e.name=`${e.id}:${r}`),e.displayName||(e.displayName=e.name)}switch(c.webauthn.type){case"create":{let t=(a=c.webauthn.credential_options.publicKey,o=null==i?void 0:i.create,rc(rs,a,o||{})),{data:r,error:n}=await ra({publicKey:t,signal:h});if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}case"request":{let t=(s=c.webauthn.credential_options.publicKey,l=null==i?void 0:i.request,rc(rl,s,l||{})),{data:r,error:n}=await ro(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:t,signal:h}));if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}}}catch(e){if(ta(e))return{data:null,error:e};return{data:null,error:new ts("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:n}},i){if(!t)return{data:null,error:new ti("rpId is required for WebAuthn authentication")};try{if(!ri())return{data:null,error:new ts("Browser does not support WebAuthn",null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:r,credential_response:s.credential_response}})}catch(e){if(ta(e))return{data:null,error:e};return{data:null,error:new ts("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,rpId:t="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:r="undefined"!=typeof window?[window.location.origin]:void 0,signal:n},i){if(!t)return{data:null,error:new ti("rpId is required for WebAuthn registration")};try{if(!ri())return{data:null,error:new ts("Browser does not support WebAuthn",null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>{var r;return null==(r=t.data)?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:o};let{data:s,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:i});if(!s)return{data:null,error:l};return this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:r,type:s.webauthn.type,credential_response:s.webauthn.credential_response}})}catch(e){if(ta(e))return{data:null,error:e};return{data:null,error:new ts("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}let rh={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:te,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rd(e,t,r){return await r()}let rf={};class rp{get jwks(){var e,t;return null!=(t=null==(e=rf[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){rf[this.storageKey]=Object.assign(Object.assign({},rf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=rf[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rf[this.storageKey]=Object.assign(Object.assign({},rf[this.storageKey]),{cachedAt:e})}constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rp.nextInstanceID,rp.nextInstanceID+=1,this.instanceID>0&&tE()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},rh),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new t5({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=tT(n.fetch),this.lock=n.lock||rd,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:tE()&&(null==(t=null==globalThis?void 0:globalThis.navigator)?void 0:t.locks)?this.lock=t7:this.lock=rd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ru(this)},this.persistSession?(n.storage?this.storage=n.storage:tP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t3(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=t3(this.memoryStorage)),tE()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(r=this.broadcastChannel)||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e9}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),tE()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:i}=await this._getSessionFromURL(t,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ta(i)&&"AuthImplicitGrantRedirectError"===i.name){let t=null==(e=i.details)?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}let{session:a,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(ta(e))return{error:e};return{error:new ts("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:i,error:a}=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(n=null==e?void 0:e.options)?void 0:n.captchaToken}},xform:tY});if(a||!i)return{data:{user:null,session:null},error:a};let o=i.session,s=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:s,session:o},error:null}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let i;if("email"in e){let{email:r,password:n,options:a}=e,o=null,s=null;"pkce"===this.flowType&&([o,s]=await tL(this.storage,this.storageKey)),i=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==a?void 0:a.emailRedirectTo,body:{email:r,password:n,data:null!=(t=null==a?void 0:a.data)?t:{},gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:s},xform:tY})}else if("phone"in e){let{phone:t,password:a,options:o}=e;i=await tG(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!=(r=null==o?void 0:o.data)?r:{},channel:null!=(n=null==o?void 0:o.channel)?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:tY})}else throw new th("You must provide either an email or phone number and a password");let{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};let s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:i}=e;t=await tG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tX})}else if("phone"in e){let{phone:r,password:n,options:i}=e;t=await tG(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tX})}else throw new th("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return{data:{user:null,session:null},error:n};if(!r||!r.session||!r.user)return{data:{user:null,session:null},error:new tu};return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(n=e.options)?void 0:n.queryParams,skipBrowserRedirect:null==(i=e.options)?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,i,a,o,s,l,c,u,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let u,{chain:h,wallet:g,statement:y,options:m}=e;if(tE())if("object"==typeof g)u=g;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)u=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==m?void 0:m.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");u=g}let v=new URL(null!=(t=null==m?void 0:m.url)?t:window.location.href),b=await u.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let w=t9(b[0]),x=null==(r=null==m?void 0:m.signInWithEthereum)?void 0:r.chainId;x||(x=parseInt(await u.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=t9(e.address),p=u?`${u}://${n}`:n,g=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,m=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),s&&(m+=`
Not Before: ${s.toISOString()}`),l&&(m+=`
Request ID: ${l}`),c){let e="\nResources:";for(let t of c){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}m+=e}return`${y}
${m}`}({domain:v.host,address:w,statement:y,uri:v.href,version:"1",chainId:x,nonce:null==(n=null==m?void 0:m.signInWithEthereum)?void 0:n.nonce,issuedAt:null!=(a=null==(i=null==m?void 0:m.signInWithEthereum)?void 0:i.issuedAt)?a:new Date,expirationTime:null==(o=null==m?void 0:m.signInWithEthereum)?void 0:o.expirationTime,notBefore:null==(s=null==m?void 0:m.signInWithEthereum)?void 0:s.notBefore,requestId:null==(l=null==m?void 0:m.signInWithEthereum)?void 0:l.requestId,resources:null==(c=null==m?void 0:m.signInWithEthereum)?void 0:c.resources}),p=await u.request({method:"personal_sign",params:[(d=f,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),w]})}try{let{data:t,error:r}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null==(u=e.options)?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:tY});if(r)throw r;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new tu};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSolana(e){var t,r,n,i,a,o,s,l,c,u,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let h,{chain:d,wallet:g,statement:y,options:m}=e;if(tE())if("object"==typeof g)h=g;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==m?void 0:m.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=g}let v=new URL(null!=(t=null==m?void 0:m.url)?t:window.location.href);if("signIn"in h&&h.signIn){let e,t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==m?void 0:m.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),y?{statement:y}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),p=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!=(n=null==(r=null==m?void 0:m.signInWithSolana)?void 0:r.issuedAt)?n:new Date().toISOString()}`,...(null==(i=null==m?void 0:m.signInWithSolana)?void 0:i.notBefore)?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...(null==(a=null==m?void 0:m.signInWithSolana)?void 0:a.expirationTime)?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...(null==(o=null==m?void 0:m.signInWithSolana)?void 0:o.chainId)?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...(null==(s=null==m?void 0:m.signInWithSolana)?void 0:s.nonce)?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...(null==(l=null==m?void 0:m.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...(null==(u=null==(c=null==m?void 0:m.signInWithSolana)?void 0:c.resources)?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{let{data:t,error:r}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:tS(p)},(null==(h=e.options)?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:tY});if(r)throw r;if(!t||!t.session||!t.user)return{data:{user:null,session:null},error:new tu};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){let t=await tN(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{let{data:t,error:i}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tY});if(await tC(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!t||!t.session||!t.user)return{data:{user:null,session:null,redirectType:null},error:new tu};return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:i}}catch(e){if(ta(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:i,nonce:a}=e,{data:o,error:s}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tY});if(s)return{data:{user:null,session:null},error:s};if(!o||!o.session||!o.user)return{data:{user:null,session:null},error:new tu};return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:s}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,i,a;try{if("email"in e){let{email:n,options:i}=e,a=null,o=null;"pkce"===this.flowType&&([a,o]=await tL(this.storage,this.storageKey));let{error:s}=await tG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!=(t=null==i?void 0:i.data)?t:{},create_user:null==(r=null==i?void 0:i.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){let{phone:t,options:r}=e,{data:o,error:s}=await tG(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(n=null==r?void 0:r.data)?n:{},create_user:null==(i=null==r?void 0:r.shouldCreateUser)||i,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(a=null==r?void 0:r.channel)?a:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:s}}throw new th("You must provide either an email or phone number.")}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,i;"options"in e&&(n=null==(t=e.options)?void 0:t.redirectTo,i=null==(r=e.options)?void 0:r.captchaToken);let{data:a,error:o}=await tG(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tY});if(o)throw o;if(!a)throw Error("An error occurred on token verification.");let s=a.session,l=a.user;return(null==s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:l,session:s},error:null}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await tL(this.storage,this.storageKey)),await tG(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(n=null==e?void 0:e.options)?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:tQ})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new tc;let{error:n}=await tG(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:i}=e,{error:a}=await tG(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},redirectTo:null==i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){let{phone:r,type:n,options:i}=e,{data:a,error:o}=await tG(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null==a?void 0:a.message_id},error:o}}throw new th("You must provide either an email or phone number and a type")}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let e=null,t=await tN(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){let t=await tN(this.userStorage,this.storageKey+"-user");(null==t?void 0:t.user)?e.user=t.user:e.user=tz()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}let{data:n,error:i}=await this._callRefreshToken(e.refresh_token);if(i)return{data:{session:null},error:i};return{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{if(e)return await tG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tZ});return await this._useSession(async e=>{var t,r,n;let{data:i,error:a}=e;if(a)throw a;return(null==(t=i.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await tG(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(n=null==(r=i.session)?void 0:r.access_token)?n:void 0,xform:tZ}):{data:{user:null},error:new tc}})}catch(e){if(ta(e))return ta(e)&&"AuthSessionMissingError"===e.name&&(await this._removeSession(),await tC(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new tc;let a=n.session,o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await tL(this.storage,this.storageKey));let{data:l,error:c}=await tG(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:tZ});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(e){if(ta(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tc;let t=Date.now()/1e3,r=t,n=!0,i=null,{payload:a}=tI(e.access_token);if(a.exp&&(n=(r=a.exp)<=t),n){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:n,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(ta(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:i}=t;if(i)throw i;e=null!=(r=n.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new tc;let{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!tE())throw new td("No browser detected.");if(e.error||e.error_description||e.error_code)throw new td(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new tf("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new td("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tf("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:l}=e;if(!i||!o||!a||!l)throw new td("No session defined in URL");let c=Math.round(Date.now()/1e3),u=parseInt(o),h=c+u;s&&(h=parseInt(s));let d=h-c;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);let f=h-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,c);let{data:p,error:g}=await this._getUser(i);if(g)throw g;let y={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:u,expires_at:h,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(e){if(ta(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tN(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{error:i};let a=null==(r=n.session)?void 0:r.access_token;if(a){let{error:t}=await this.admin.signOut(a,e);if(t&&!(ta(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)))return{error:t}}return"others"!==e&&(await this._removeSession(),await tC(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:i}=t;if(i)throw i;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null==(n=this.stateChangeEmitters.get(e))?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await tL(this.storage,this.storageKey,!0));try{return await tG(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!=(e=t.user.identities)?e:[]},error:null}}catch(e){if(ta(e))return{data:null,error:e};throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,i,a,o;let{data:s,error:l}=t;if(l)throw l;let c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(n=e.options)?void 0:n.scopes,queryParams:null==(i=e.options)?void 0:i.queryParams,skipBrowserRedirect:!0});return await tG(this.fetch,"GET",c,{headers:this.headers,jwt:null!=(o=null==(a=s.session)?void 0:a.access_token)?o:void 0})});if(n)throw n;return!tE()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(ta(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:n,data:{session:i}}=t;if(n)throw n;let{options:a,provider:o,token:s,access_token:l,nonce:c}=e,{data:u,error:h}=await tG(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(r=null==i?void 0:i.access_token)?r:void 0,body:{provider:o,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:tY});if(h)return{data:{user:null,session:null},error:h};if(!u||!u.session||!u.user)return{data:{user:null,session:null},error:new tu};return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),{data:u,error:h}}catch(e){if(ta(e))return{data:{user:null,session:null},error:e};throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)throw a;return await tG(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(n=null==(r=i.session)?void 0:r.access_token)?n:void 0})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let i=Date.now();return await (r=async r=>(r>0&&await tD(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await tG(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tY})),n=(e,t)=>{let r=200*Math.pow(2,e);return t&&tg(t)&&Date.now()+r-i<3e4},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{let t=await r(i);if(!n(i,null,t))return void e(t)}catch(e){if(!n(i,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),ta(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tE()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let n=await tN(this.storage,this.storageKey);if(n&&this.userStorage){let t=await tN(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:n.user},await tA(this.userStorage,this.storageKey+"-user",t)),n.user=null!=(e=null==t?void 0:t.user)?e:tz()}else if(n&&!n.user&&!n.user){let e=await tN(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await tC(this.storage,this.storageKey+"-user"),await tA(this.storage,this.storageKey,n)):n.user=tz()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),null!==n&&await this._removeSession();return}let i=(null!=(t=n.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),tg(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new tc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tM;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new tc;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),ta(e)){let r={data:null,error:e};return tg(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(i),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await tA(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let n=tK(e);await tA(this.storage,this.storageKey,n)}else{let e=tK(t);await tA(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await tC(this.storage,this.storageKey),await tC(this.storage,this.storageKey+"-code-verifier"),await tC(this.storage,this.storageKey+"-user"),this.userStorage&&await tC(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tE()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t4)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tE()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await tL(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;return i?{data:null,error:i}:await tG(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:i,error:a}=t;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await tG(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===s.type&&(null==(n=null==s?void 0:s.totp)?void 0:n.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(e){if(ta(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r,n,i;let{data:a,error:o}=t;if(o)return{data:null,error:o};let s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(n=e.webauthn.credential_response,"toJSON"in n&&"function"==typeof n.toJSON?n.toJSON():{id:n.id,rawId:n.id,response:{attestationObject:tS(new Uint8Array(n.response.attestationObject)),clientDataJSON:tS(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:null!=(i=n.authenticatorAttachment)?i:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tS(new Uint8Array(n.authenticatorData)),clientDataJSON:tS(new Uint8Array(n.clientDataJSON)),signature:tS(new Uint8Array(n.signature)),userHandle:n.userHandle?tS(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await tG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:null==(r=null==a?void 0:a.session)?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(e){if(ta(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:i}=t;if(i)return{data:null,error:i};let a=await tG(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});if(a.error)return a;let{data:o}=a;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:n}=e,i=(0,q.__rest)(e,["challenge","user","excludeCredentials"]),a=tO(t).buffer,o=Object.assign(Object.assign({},r),{id:tO(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:tO(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,n=(0,q.__rest)(e,["challenge","allowCredentials"]),i=tO(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:tO(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(ta(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let n={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!=(e=null==t?void 0:t.factors)?e:[])n.all.push(r),"verified"===r.status&&n[r.factor_type].push(r);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;let{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=tI(n.access_token),o=null;a.aal&&(o=a.aal);let s=o;return(null!=(r=null==(t=n.user.factors)?void 0:t.filter(e=>"verified"===e.status))?r:[]).length>0&&(s="aal2"),{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let n=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>n)return r;let{data:i,error:a}=await tG(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return i.keys&&0!==i.keys.length&&(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{var r;let n,i=e;if(!i){let{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};i=e.session.access_token}let{header:a,payload:o,signature:s,raw:{header:l,payload:c}}=tI(i);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(o.exp);let u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!u){let{error:e}=await this.getUser(i);if(e)throw e;return{data:{claims:o,header:a,signature:s},error:null}}let h=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(a.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,s,(r=`${l}.${c}`,n=[],!function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}(r,e=>n.push(e)),new Uint8Array(n))))throw new tm("Invalid JWT signature");return{data:{claims:o,header:a,signature:s},error:null}}catch(e){if(ta(e))return{data:null,error:e};throw e}}}rp.nextInstanceID=0;let rg=rp;class ry extends rg{constructor(e){super(e)}}class rm{constructor(e,t,r){var n,i,a;this.supabaseUrl=e,this.supabaseKey=t;const o=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const s=`sb-${o.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,n;let{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},null!=(r=null==h?void 0:h.headers)?r:{}),null!=(n=null==s?void 0:s.headers)?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:e6,realtime:e8,auth:Object.assign(Object.assign({},e4),{storageKey:s}),global:e3});this.storageKey=null!=(n=l.auth.storageKey)?n:"",this.headers=null!=(i=l.global.headers)?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(a=l.auth)?a:{},this.headers,l.global.fetch),this.fetch=((e,t,r)=>{let n,i=(n=r||("undefined"==typeof fetch?e7.default:fetch),(...e)=>n(...e)),a="undefined"==typeof Headers?e7.Headers:Headers;return async(r,n)=>{var o;let s=null!=(o=await t())?o:e,l=new a(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${s}`),i(r,Object.assign(Object.assign({},n),{headers:l}))}})(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new G(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new e2(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new H(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return null!=(t=null==(e=r.session)?void 0:e.access_token)?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:s,debug:l},c,u){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ry({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:s,debug:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new eb(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}}(function(){if("undefined"!=typeof window||void 0===F.default)return!1;let e=F.default.version;if(null==e)return!1;let t=e.match(/^v(\d+)\./);return!!t&&18>=parseInt(t[1],10)})()&&console.warn(`⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);var rv=Symbol.for("immer-nothing"),rb=Symbol.for("immer-draftable"),rw=Symbol.for("immer-state");function rx(e){throw Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var r_=Object.getPrototypeOf;function rj(e){return!!e&&!!e[rw]}function rO(e){return!!e&&(rk(e)||Array.isArray(e)||!!e[rb]||!!e.constructor?.[rb]||rC(e)||rM(e))}var rS=Object.prototype.constructor.toString(),rE=new WeakMap;function rk(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let n=rE.get(r);return void 0===n&&(n=Function.toString.call(r),rE.set(r,n)),n===rS}function rP(e,t,r=!0){0===rT(e)?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function rT(e){let t=e[rw];return t?t.type_:Array.isArray(e)?1:rC(e)?2:3*!!rM(e)}function rA(e,t){return 2===rT(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rN(e,t,r){let n=rT(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function rC(e){return e instanceof Map}function rM(e){return e instanceof Set}function rI(e){return e.copy_||e.base_}function rD(e,t){if(rC(e))return new Map(e);if(rM(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=rk(e);if(!0!==t&&("class_only"!==t||r)){let t=r_(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[rw];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(r_(e),t)}}function rR(e,t=!1){return rU(e)||rj(e)||!rO(e)||(rT(e)>1&&Object.defineProperties(e,{set:r$,add:r$,clear:r$,delete:r$}),Object.freeze(e),t&&Object.values(e).forEach(e=>rR(e,!0))),e}var r$={value:function(){rx(2)}};function rU(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var rL={};function rB(e){let t=rL[e];return t||rx(0,e),t}function rF(e,t){t&&(rB("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rq(e){rz(e),e.drafts_.forEach(rW),e.drafts_=null}function rz(e){e===A&&(A=e.parent_)}function rK(e){return A={drafts_:[],parent_:A,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rW(e){let t=e[rw];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function rV(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[rw].modified_&&(rq(t),rx(4)),rO(e)&&(e=rH(t,e),t.parent_||rJ(t,e)),t.patches_&&rB("Patches").generateReplacementPatches_(r[rw].base_,e,t.patches_,t.inversePatches_)):e=rH(t,r,[]),rq(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rv?e:void 0}function rH(e,t,r){if(rU(t))return t;let n=e.immer_.shouldUseStrictIteration(),i=t[rw];if(!i)return rP(t,(n,a)=>rG(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return rJ(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;let t=i.copy_,a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),rP(a,(n,a)=>rG(e,i,t,n,a,r,o),n),rJ(e,t,!1),r&&e.patches_&&rB("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function rG(e,t,r,n,i,a,o){if(null==i||"object"!=typeof i&&!o)return;let s=rU(i);if(!s||o){if(rj(i)){let o=rH(e,i,a&&t&&3!==t.type_&&!rA(t.assigned_,n)?a.concat(n):void 0);if(rN(r,n,o),!rj(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(rO(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;rH(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&(rC(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&rJ(e,i)}}}function rJ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rR(t,r)}var rY={get(e,t){if(t===rw)return e;let r=rI(e);if(!rA(r,t)){var n;let i;return n=e,(i=rQ(r,t))?"value"in i?i.value:i.get?.call(n.draft_):void 0}let i=r[t];return e.finalized_||!rO(i)?i:i===rZ(e.base_,t)?(r1(e),e.copy_[t]=r2(i,e)):i},has:(e,t)=>t in rI(e),ownKeys:e=>Reflect.ownKeys(rI(e)),set(e,t,r){let n=rQ(rI(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=rZ(rI(e),t),i=n?.[rw];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||rA(e.base_,t)))return!0;r1(e),r0(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==rZ(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,r1(e),r0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=rI(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){rx(11)},getPrototypeOf:e=>r_(e.base_),setPrototypeOf(){rx(12)}},rX={};function rZ(e,t){let r=e[rw];return(r?rI(r):e)[t]}function rQ(e,t){if(!(t in e))return;let r=r_(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=r_(r)}}function r0(e){!e.modified_&&(e.modified_=!0,e.parent_&&r0(e.parent_))}function r1(e){e.copy_||(e.copy_=rD(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function r2(e,t){let r=rC(e)?rB("MapSet").proxyMap_(e,t):rM(e)?rB("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:+!!r,scope_:t?t.scope_:A,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=n,a=rY;r&&(i=[n],a=rX);let{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:A).drafts_.push(r),r}function r5(e){return rj(e)||rx(10,e),function e(t){let r;if(!rO(t)||rU(t))return t;let n=t[rw],i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=rD(t,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else r=rD(t,!0);return rP(r,(t,n)=>{rN(r,t,e(n))},i),n&&(n.finalized_=!1),r}(e)}rP(rY,(e,t)=>{rX[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rX.deleteProperty=function(e,t){return rX.set.call(this,e,t,void 0)},rX.set=function(e,t,r){return rY.set.call(this,e[0],t,r,e[0])};var r3=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&rx(6),void 0!==r&&"function"!=typeof r&&rx(7),rO(e)){let i=rK(this),a=r2(e,void 0),o=!0;try{n=t(a),o=!1}finally{o?rq(i):rz(i)}return rF(i,r),rV(n,i)}if(e&&"object"==typeof e)rx(1,e);else{if(void 0===(n=t(e))&&(n=e),n===rv&&(n=void 0),this.autoFreeze_&&rR(n,!0),r){let t=[],i=[];rB("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}},this.produceWithPatches=(e,t)=>{let r,n;return"function"==typeof e?(t,...r)=>this.produceWithPatches(t,t=>e(t,...r)):[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof e?.useStrictIteration&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rO(e)||rx(8),rj(e)&&(e=r5(e));let t=rK(this),r=r2(e,void 0);return r[rw].isManual_=!0,rz(t),r}finishDraft(e,t){let r=e&&e[rw];r&&r.isManual_||rx(9);let{scope_:n}=r;return rF(n,t),rV(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=rB("Patches").applyPatches_;return rj(e)?n(e,t):this.produce(e,e=>n(e,t))}}().produce,r6=e=>Array.isArray(e)?e:[e],r4=0,r8=class{revision=r4;_value;_lastValue;_isEqual=r7;constructor(e,t=r7){this._value=this._lastValue=e,this._isEqual=t}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++r4)}};function r7(e,t){return e===t}function r9(e){return e instanceof r8||console.warn("Not a valid cell! ",e),e.value}var ne=(e,t)=>!1;function nt(){return function(e,t=r7){return new r8(null,t)}(0,ne)}var nr=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=nt()),r9(t)};Symbol();var nn=0,ni=Object.getPrototypeOf({}),na=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy(this,no);tag=nt();tags={};children={};collectionTag=null;id=nn++},no={get:(e,t)=>(function(){let{value:r}=e,n=Reflect.get(r,t);if("symbol"==typeof t||t in ni)return n;if("object"==typeof n&&null!==n){var i;let r=e.children[t];return void 0===r&&(r=e.children[t]=Array.isArray(i=n)?new ns(i):new na(i)),r.tag&&r9(r.tag),r.proxy}{let r=e.tags[t];return void 0===r&&((r=e.tags[t]=nt()).value=n),r9(r),n}})(),ownKeys:e=>(nr(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},ns=class{constructor(e){this.value=e,this.value=e,this.tag.value=e}proxy=new Proxy([this],nl);tag=nt();tags={};children={};collectionTag=null;id=nn++},nl={get:([e],t)=>("length"===t&&nr(e),no.get(e,t)),ownKeys:([e])=>no.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>no.getOwnPropertyDescriptor(e,t),has:([e],t)=>no.has(e,t)},nc="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function nu(){return{s:0,v:void 0,o:null,p:null}}function nh(e,t={}){let r,n=nu(),{resultEqualityCheck:i}=t,a=0;function o(){let t,o=n,{length:s}=arguments;for(let e=0;e<s;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);let r=e.get(t);void 0===r?(o=nu(),e.set(t,o)):o=r}else{let e=o.p;null===e&&(o.p=e=new Map);let r=e.get(t);void 0===r?(o=nu(),e.set(t,o)):o=r}}let l=o;if(1===o.s)t=o.v;else if(t=e.apply(null,arguments),a++,i){let e=r?.deref?.()??r;null!=e&&i(e,t)&&(t=e,0!==a&&a--),r="object"==typeof t&&null!==t||"function"==typeof t?new nc(t):t}return l.s=1,l.v=t,t}return o.clearCache=()=>{n=nu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}var nd=function(e,...t){let r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n,i=0,a=0,o={},s=e.pop();"object"==typeof s&&(o=s,s=e.pop()),function(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);let{memoize:l,memoizeOptions:c=[],argsMemoize:u=nh,argsMemoizeOptions:h=[],devModeChecks:d={}}={...r,...o},f=r6(c),p=r6(h),g=(!function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${r}]`)}}(t=Array.isArray(e[0])?e[0]:e,"createSelector expects all input-selectors to be functions, but received the following types: "),t),y=l(function(){return i++,s.apply(null,arguments)},...f);return Object.assign(u(function(){a++;let e=function(e,t){let r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(g,arguments);return n=y.apply(null,e)},...p),{resultFunc:s,memoizedResultFunc:y,dependencies:g,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:u})};return Object.assign(n,{withTypes:()=>n}),n}(nh),nf=Object.assign((e,t=nd)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>nf});function np(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ng="function"==typeof Symbol&&Symbol.observable||"@@observable",ny=()=>Math.random().toString(36).substring(7).split("").join("."),nm={INIT:`@@redux/INIT${ny()}`,REPLACE:`@@redux/REPLACE${ny()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ny()}`};function nv(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function nb(e){let t,r=Object.keys(e),n={};for(let t=0;t<r.length;t++){let i=r[t];"function"==typeof e[i]&&(n[i]=e[i])}let i=Object.keys(n);try{Object.keys(n).forEach(e=>{let t=n[e];if(void 0===t(void 0,{type:nm.INIT}))throw Error(np(12));if(void 0===t(void 0,{type:nm.PROBE_UNKNOWN_ACTION()}))throw Error(np(13))})}catch(e){t=e}return function(e={},r){if(t)throw t;let a=!1,o={};for(let t=0;t<i.length;t++){let s=i[t],l=n[s],c=e[s],u=l(c,r);if(void 0===u)throw r&&r.type,Error(np(14));o[s]=u,a=a||u!==c}return(a=a||i.length!==Object.keys(e).length)?o:e}}function nw(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function nx(e){return nv(e)&&"type"in e&&"string"==typeof e.type}function n_(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var nj=n_(),nO="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?nw:nw.apply(null,arguments)};function nS(e,t){function r(...n){if(t){let r=t(...n);if(!r)throw Error(io(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>nx(t)&&t.type===e,r}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var nE=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function nk(e){return rO(e)?r3(e,()=>{}):e}function nP(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var nT="RTK_autoBatch",nA=()=>e=>({payload:e,meta:{[nT]:!0}}),nN=e=>t=>{setTimeout(t,e)},nC=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),i=!0,a=!1,o=!1,s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:nN(10):"callback"===e.type?e.queueNotification:nN(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){let t=n.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return(a=!(i=!e?.meta?.[nT]))&&!o&&(o=!0,l(c)),n.dispatch(e)}finally{i=!0}}})};function nM(e){let t,r={},n=[],i={addCase(e,t){let n="string"==typeof e?e:e.type;if(!n)throw Error(io(28));if(n in r)throw Error(io(29));return r[n]=t,i},addAsyncThunk:(e,t)=>(t.pending&&(r[e.pending.type]=t.pending),t.rejected&&(r[e.rejected.type]=t.rejected),t.fulfilled&&(r[e.fulfilled.type]=t.fulfilled),t.settled&&n.push({matcher:e.settled,reducer:t.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(t=e,i)};return e(i),[r,n,t]}var nI=Symbol.for("rtk-slice-createasyncthunk"),nD=((y=nD||{}).reducer="reducer",y.reducerWithPrepare="reducerWithPrepare",y.asyncThunk="asyncThunk",y),nR=function({creators:e}={}){let t=e?.asyncThunk?.[nI];return function(e){let r,{name:n,reducerPath:i=n}=e;if(!n)throw Error(io(11));let a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={},l={},c={},u=[],h={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(io(12));if(r in l)throw Error(io(13));return l[r]=t,h},addMatcher:(e,t)=>(u.push({matcher:e,reducer:t}),h),exposeAction:(e,t)=>(c[e]=t,h),exposeCaseReducer:(e,t)=>(s[e]=t,h)};function d(){let[t={},r=[],n]="function"==typeof e.extraReducers?nM(e.extraReducers):[e.extraReducers],i={...t,...l};return function(e,t){let r,[n,i,a]=nM(t);if("function"==typeof e)r=()=>nk(e());else{let t=nk(e);r=()=>t}function o(e=r(),t){let s=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,r)=>{if(r)if(rj(e)){let n=r(e,t);return void 0===n?e:n}else{if(rO(e))return r3(e,e=>r(e,t));let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of u)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}o.forEach(r=>{let i=a[r],o={reducerName:r,type:`${n}/${r}`,createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function({type:e,reducerName:t},r,n,i){if(!i)throw Error(io(18));let{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,h=i(e,a,u);n.exposeAction(t,h),o&&n.addCase(h.fulfilled,o),s&&n.addCase(h.pending,s),l&&n.addCase(h.rejected,l),c&&n.addMatcher(h.settled,c),n.exposeCaseReducer(t,{fulfilled:o||n$,pending:s||n$,rejected:l||n$,settled:c||n$})}(o,i,h,t):function({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&"reducerWithPrepare"!==n._reducerDefinitionType)throw Error(io(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?nS(e,o):nS(e))}(o,i,h)});let f=e=>e,p=new Map,g=new WeakMap;function y(e,t){return r||(r=d()),r(e,t)}function m(){return r||(r=d()),r.getInitialState()}function v(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=nP(g,n,m)),i}function i(t=f){let n=nP(p,r,()=>new WeakMap);return nP(n,t,()=>{let n={};for(let[i,a]of Object.entries(e.selectors??{}))n[i]=function(e,t,r,n){function i(a,...o){let s=t(a);return void 0===s&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}(a,t,()=>nP(g,t,m),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}let b={name:n,reducer:y,actions:c,caseReducers:s,getInitialState:m,...v(i),injectInto(e,{reducerPath:t,...r}={}){let n=t??i;return e.inject({reducerPath:n,reducer:y},r),{...b,...v(n,!0)}}};return b}}();function n$(){}var nU="listener",nL="completed",nB="cancelled",nF=`task-${nB}`,nq=`task-${nL}`,nz=`${nU}-${nB}`,nK=`${nU}-${nL}`,nW=class{constructor(e){this.code=e,this.message=`task ${nB} (reason: ${e})`}name="TaskAbortError";message},nV=(e,t)=>{if("function"!=typeof e)throw TypeError(io(32))},nH=()=>{},nG=(e,t=nH)=>(e.catch(t),e),nJ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),nY=(e,t)=>{let r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},nX=e=>{if(e.aborted){let{reason:t}=e;throw new nW(t)}};function nZ(e,t){let r=nH;return new Promise((n,i)=>{let a=()=>i(new nW(e.reason));e.aborted?a():(r=nJ(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=nH})}var nQ=async(e,t)=>{try{await Promise.resolve();let t=await e();return{status:"ok",value:t}}catch(e){return{status:e instanceof nW?"cancelled":"rejected",error:e}}finally{t?.()}},n0=e=>t=>nG(nZ(e,t).then(t=>(nX(e),t))),n1=e=>{let t=n0(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:n2}=Object,n5={},n3="listenerMiddleware",n6=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=nS(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(i);else throw Error(io(21));return nV(a,"options.listener"),{predicate:i,type:t,effect:a}},n4=n2(e=>{let{type:t,predicate:r,effect:n}=n6(e);return{id:((e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t})(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw Error(io(22))}}},{withTypes:()=>n4}),n8=(e,t)=>{let{type:r,effect:n,predicate:i}=n6(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n)},n7=e=>{e.pending.forEach(e=>{nY(e,nz)})},n9=(e,t,r)=>{try{e(t,r)}catch(e){setTimeout(()=>{throw e},0)}},ie=n2(nS(`${n3}/add`),{withTypes:()=>ie}),it=nS(`${n3}/removeAll`),ir=n2(nS(`${n3}/remove`),{withTypes:()=>ir}),ii=(...e)=>{console.error(`${n3}/error`,...e)},ia=(e={})=>{let t=new Map,r=new Map,{extra:n,onError:i=ii}=e;nV(i,"onError");let a=e=>{var r;return(r=n8(t,e)??n4(e)).unsubscribe=()=>t.delete(r.id),t.set(r.id,r),e=>{r.unsubscribe(),e?.cancelActive&&n7(r)}};n2(a,{withTypes:()=>a});let o=e=>{let r=n8(t,e);return r&&(r.unsubscribe(),e.cancelActive&&n7(r)),!!r};n2(o,{withTypes:()=>o});let s=async(e,o,s,l)=>{var c,u;let h,d=new AbortController,f=(c=d.signal,h=async(e,t)=>{nX(c);let r=()=>{},n=[new Promise((t,n)=>{let i=a({predicate:e,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});r=()=>{i(),n()}})];null!=t&&n.push(new Promise(e=>setTimeout(e,t,null)));try{let e=await nZ(c,Promise.race(n));return nX(c),e}finally{r()}},(e,t)=>nG(h(e,t))),p=[];try{let i;e.pending.add(d),i=r.get(e)??0,r.set(e,i+1),await Promise.resolve(e.effect(o,n2({},s,{getOriginalState:l,condition:(e,t)=>f(e,t).then(Boolean),take:f,delay:n1(d.signal),pause:n0(d.signal),extra:n,signal:d.signal,fork:(u=d.signal,(e,t)=>{nV(e,"taskExecutor");let r=new AbortController;nJ(u,()=>nY(r,u.reason));let n=nQ(async()=>{nX(u),nX(r.signal);let t=await e({pause:n0(r.signal),delay:n1(r.signal),signal:r.signal});return nX(r.signal),t},()=>nY(r,nq));return t?.autoJoin&&p.push(n.catch(nH)),{result:n0(u)(n),cancel(){nY(r,nF)}}}),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==d&&(nY(e,nz),r.delete(e))})},cancel:()=>{nY(d,nz),e.pending.delete(d)},throwIfCancelled:()=>{nX(d.signal)}})))}catch(e){e instanceof nW||n9(i,e,{raisedBy:"effect"})}finally{let t;await Promise.all(p),nY(d,nK),1===(t=r.get(e)??1)?r.delete(e):r.set(e,t-1),e.pending.delete(d)}},l=()=>{for(let e of r.keys())n7(e);t.clear()};return{middleware:e=>r=>n=>{let c;if(!nx(n))return r(n);if(ie.match(n))return a(n.payload);if(it.match(n))return void l();if(ir.match(n))return o(n.payload);let u=e.getState(),h=()=>{if(u===n5)throw Error(io(23));return u};try{if(c=r(n),t.size>0){let r=e.getState();for(let a of Array.from(t.values())){let t=!1;try{t=a.predicate(n,r,u)}catch(e){t=!1,n9(i,e,{raisedBy:"predicate"})}t&&s(a,n,e,h)}}}finally{u=n5}return c},startListening:a,stopListening:o,clearListeners:l}};function io(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}Symbol.for("rtk-state-proxy-original");var is=e.i(92068),il=e=>0===e?0:e>0?1:-1,ic=e=>"number"==typeof e&&e!=+e,iu=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,ih=e=>("number"==typeof e||e instanceof Number)&&!ic(e),id=e=>ih(e)||"string"==typeof e,ip=0,ig=e=>{var t=++ip;return"".concat(e||"").concat(t)},iy=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ih(e)&&"string"!=typeof e)return n;if(iu(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return ic(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},im=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(r[e[n]])return!0;else r[e[n]]=!0;return!1};function iv(e,t,r){return ih(e)&&ih(t)?e+r*(t-e):t}var ib=e=>null==e?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function iw(e,t){if(t){var r=Number.parseInt(t,10);if(!ic(r))return null==e?void 0:e[r]}}var ix=nR({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),i_=ix.reducer,{createEventEmitter:ij}=ix.actions,iO=(e.i(13027),{notify(){},get:()=>[]}),iS="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,iE="undefined"!=typeof navigator&&"ReactNative"===navigator.product,ik=iS||iE?B.useLayoutEffect:B.useEffect,iP=Symbol.for("react-redux-context"),iT="undefined"!=typeof globalThis?globalThis:{},iA=function(){if(!B.createContext)return{};let e=iT[iP]??=new Map,t=e.get(B.createContext);return t||(t=B.createContext(null),e.set(B.createContext,t)),t}(),iN=function(e){let{children:t,context:r,serverState:n,store:i}=e,a=B.useMemo(()=>{let e=function(e,t){let r,n=iO,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){if(i++,!r){let t,i;r=e.subscribe(o),t=null,i=null,n={clear(){t=null,i=null},notify(){let e=t;for(;e;)e.callback(),e=e.next},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0,n=i={callback:e,next:null,prev:i};return n.prev?n.prev.next=n:t=n,function(){r&&null!==t&&(r=!1,n.next?n.next.prev=n.prev:i=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=iO)}let c={addNestedSub:function(e){s();let t=n.subscribe(e),r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),o=B.useMemo(()=>i.getState(),[i]);return ik(()=>{let{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]),B.createElement((r||iA).Provider,{value:a},t)};function iC(e=iA){return function(){return B.useContext(e)}}var iM=iC(),iI={active:!1,index:null,dataKey:void 0,coordinate:void 0},iD=nR({name:"tooltip",initialState:{itemInteraction:{click:iI,hover:iI},axisInteraction:{click:iI,hover:iI},keyboardInteraction:iI,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:nA()},removeTooltipEntrySettings:{reducer(e,t){var r=r5(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:nA()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:iR,removeTooltipEntrySettings:i$,setTooltipSettingsState:iU,setActiveMouseOverItemIndex:iL,mouseLeaveItem:iB,mouseLeaveChart:iF,setActiveClickItemIndex:iq,setMouseOverAxisIndex:iz,setMouseClickAxisIndex:iK,setSyncInteraction:iW,setKeyboardInteraction:iV}=iD.actions,iH=iD.reducer,iG=nR({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:iJ,setDataStartEndIndexes:iY,setComputedData:iX}=iG.actions,iZ=iG.reducer,iQ=nR({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!=(r=t.payload.top)?r:0,e.margin.right=null!=(n=t.payload.right)?n:0,e.margin.bottom=null!=(i=t.payload.bottom)?i:0,e.margin.left=null!=(a=t.payload.left)?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:i0,setLayout:i1,setChartSize:i2,setScale:i5}=iQ.actions,i3=iQ.reducer,i6=e.i(30224),i4=(0,B.createContext)(null),i8=e=>e,i7=()=>{var e=(0,B.useContext)(i4);return e?e.store.dispatch:i8},i9=()=>{},ae=()=>i9,at=(e,t)=>e===t;function ar(e){var t=(0,B.useContext)(i4);return(0,i6.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:ae,t?t.store.getState:i9,t?t.store.getState:i9,t?e:i9,at)}var an=e.i(42342),ai=e=>e.legend.settings,aa=nd([e=>e.legend.payload,ai],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?(0,an.default)(n,r):n});function ao(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function as(e){return function(){return e}}function al(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function ac(e){for(var t=e.length,r=Array(t);--t>=0;)r[t]=t;return r}function au(e,t){return e[t]}function ah(e){let t=[];return t.key=e,t}function ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Array.prototype.slice;var ap=Math.PI/180,ag=(e,t,r,n)=>({x:e+Math.cos(-ap*n)*r,y:t+Math.sin(-ap*n)*r}),ay=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2};function am(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function av(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ab(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aw(e,t,r){return null==e||null==t?r:id(t)?(0,is.default)(e,t,r):"function"==typeof t?t(e):r}var ax=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,a_={sign:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,o=0;o<t;++o){var s=ic(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}al(e,t)}},none:al,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}al(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],h=u[o][1]||0,d=(h-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[o][1]||0)-(p[o-1][1]||0)}l+=h,c+=d*h}r[o-1][1]+=r[o-1][0]=a,l&&(a-=c/l)}r[o-1][1]+=r[o-1][0]=a,al(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var o=ic(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=i,e[a][r][1]=i+o,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},aj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/;function aS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return ab(ab({},t),{},{dataKey:r,payload:n,value:i,name:a})}function aE(e,t){return e?String(e):"string"==typeof t?t:void 0}var ak=e=>e.layout.width,aP=e=>e.layout.height,aT=e=>e.layout.scale,aA=e=>e.layout.margin,aN=nd(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),aC=nd(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aM="data-recharts-item-index",aI="data-recharts-item-data-key";function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a$=nd([ak,aP,aA,e=>e.brush.height,function(e){return aC(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return aC(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return aN(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return aN(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},ai,e=>e.legend.size],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},h=aR(aR({},{top:(r.top||0)+o,bottom:(r.bottom||0)+s}),u),d=h.bottom;h.bottom+=n;var f=e-(h=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&ih(e[a]))return ab(ab({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&ih(e[o]))return ab(ab({},e),{},{[o]:e[o]+(i||0)})}return e})(h,l,c)).left-h.right,p=t-h.top-h.bottom;return aR(aR({brushBottom:d},h),{},{width:Math.max(f,0),height:Math.max(p,0)})}),aU=nd(a$,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));nd(ak,aP,(e,t)=>({x:0,y:0,width:e,height:t}));var aL=(0,B.createContext)(null),aB=()=>null!=(0,B.useContext)(aL),aF=e=>e.brush,aq=nd([aF,a$,aA],(e,t,r)=>({height:e.height,x:ih(e.x)?e.x:t.left,y:ih(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:ih(e.width)?e.width:t.width}));function az(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}(e))&&(n&&(n+=" "),n+=t);return n}var aK=e.i(58723),aW=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]},aV=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=iu(n)?e:Number(n),l=iu(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},aH={width:0,height:0,overflow:"visible"},aG={width:0,overflowX:"visible"},aJ={height:0,overflowY:"visible"},aY={};function aX(e){return Number.isFinite(e)}function aZ(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function aQ(){return(aQ=Object.assign.bind()).apply(null,arguments)}function a0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a0(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a2=(0,B.createContext)({width:-1,height:-1});function a5(e){var{children:t,width:r,height:n}=e,i=(0,B.useMemo)(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:B.createElement(a2.Provider,{value:i},t)}var a3=()=>(0,B.useContext)(a2),a6=(0,B.forwardRef)((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:h,className:d,onResize:f,style:p={}}=e,g=(0,B.useRef)(null),y=(0,B.useRef)();y.current=f,(0,B.useImperativeHandle)(t,()=>g.current);var[m,v]=(0,B.useState)({containerWidth:n.width,containerHeight:n.height}),b=(0,B.useCallback)((e,t)=>{v(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,B.useEffect)(()=>{var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null==(t=y.current)||t.call(y,r,n)};u>0&&(e=(0,aK.default)(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return b(r,n),t.observe(g.current),()=>{t.disconnect()}},[b,u]);var{containerWidth:w,containerHeight:x}=m;aW(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:j}=aV(w,x,{width:i,height:a,aspect:r,maxHeight:l});return aW(_>0||j>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",_,j,i,a,o,s,r),B.createElement("div",{id:h?"".concat(h):void 0,className:az("recharts-responsive-container",d),style:a1(a1({},p),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},B.createElement("div",{style:(e=>{var{width:t,height:r}=e,n=iu(t),i=iu(r);return n&&i?aH:n?aG:i?aJ:aY})({width:i,height:a})},B.createElement(a5,{width:_,height:j},c)))}),a4=(0,B.forwardRef)((e,t)=>{var r=a3();if(aZ(r.width)&&aZ(r.height))return e.children;var{width:n,height:i}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=n&&n>0?void 0:"100%":void 0===a&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=aV(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ih(a)&&ih(o)?B.createElement(a5,{width:a,height:o},e.children):B.createElement(a6,aQ({},e,{width:n,height:i,ref:t}))}),a8=()=>{var e,t=aB(),r=ar(aU),n=ar(aq),i=null==(e=ar(aF))?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},a7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},a9=e=>e.layout.layoutType,oe=e=>{var t=i7(),r=aB(),{width:n,height:i}=e,a=a3(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),(0,B.useEffect)(()=>{!r&&aZ(o)&&aZ(s)&&t(i2({width:o,height:s}))},[t,r,o,s]),null},ot=e.i(66814);function or(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function on(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}e.s([],25212),e.i(25212),e.s([],67155),e.i(67155);class oi extends Map{constructor(e,t=oo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(oa(this,e))}has(e){return super.has(oa(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}(this,e))}}function oa({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function oo(e){return null!==e&&"object"==typeof e?e.valueOf():e}let os=Symbol("implicit");function ol(){var e=new oi,t=[],r=[],n=os;function i(i){let a=e.get(i);if(void 0===a){if(n!==os)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();for(let n of(t=[],e=new oi,r))e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return ol(t,r).unknown(n)},or.apply(i,arguments),i}function oc(){var e,t,r=ol().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function h(){var r=n().length,h=o<a,d=h?o:a,f=h?a:o;e=(f-d)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),d+=(f-d-e*(r-l))*u,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=(function(e,t,r){e*=1,t*=1,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=Array(i);++n<i;)a[n]=e+n*r;return a})(r).map(function(t){return d+e*t});return i(h?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),h()):n()},r.range=function(e){return arguments.length?([a,o]=e,a*=1,o*=1,h()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a*=1,o*=1,s=!0,h()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,h()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},r.copy=function(){return oc(n(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},or.apply(h(),arguments)}function ou(){return function e(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(r())},t}(oc.apply(null,arguments).paddingInner(1))}let oh=Math.sqrt(50),od=Math.sqrt(10),of=Math.sqrt(2);function op(e,t,r){let n,i,a,o=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),c=l>=oh?10:l>=od?5:l>=of?2:1;return(s<0?(n=Math.round(e*(a=Math.pow(10,-s)/c)),i=Math.round(t*a),n/a<e&&++n,i/a>t&&--i,a=-a):(n=Math.round(e/(a=Math.pow(10,s)*c)),i=Math.round(t/a),n*a<e&&++n,i*a>t&&--i),i<n&&.5<=r&&r<2)?op(e,t,2*r):[n,i,a]}function og(e,t,r){if(t*=1,e*=1,!((r*=1)>0))return[];if(e===t)return[e];let n=t<e,[i,a,o]=n?op(t,e,r):op(e,t,r);if(!(a>=i))return[];let s=a-i+1,l=Array(s);if(n)if(o<0)for(let e=0;e<s;++e)l[e]=-((a-e)/o);else for(let e=0;e<s;++e)l[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)l[e]=-((i+e)/o);else for(let e=0;e<s;++e)l[e]=(i+e)*o;return l}function oy(e,t,r){return op(e*=1,t*=1,r*=1)[2]}function om(e,t,r){t*=1,e*=1,r*=1;let n=t<e,i=n?oy(t,e,r):oy(e,t,r);return(n?-1:1)*(i<0?-(1/i):i)}function ov(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ob(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ow(e){let t,r,n;function i(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{let t=a+o>>>1;0>r(e[t],n)?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=ov,r=(t,r)=>ov(e(t),r),n=(t,r)=>e(t)-r):(t=e===ov||e===ob?e:ox,r=e,n=e),{left:i,center:function(e,t,r=0,a=e.length){let o=i(e,t,r,a-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{let t=i+a>>>1;0>=r(e[t],n)?i=t+1:a=t}while(i<a)}return i}}}function ox(){return 0}function o_(e){return null===e?NaN:+e}let oj=ow(ov),oO=oj.right;function oS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ok(){}oj.left,ow(o_).center;var oP="\\s*([+-]?\\d+)\\s*",oT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oN=/^#([0-9a-f]{3,8})$/,oC=RegExp(`^rgb\\(${oP},${oP},${oP}\\)$`),oM=RegExp(`^rgb\\(${oA},${oA},${oA}\\)$`),oI=RegExp(`^rgba\\(${oP},${oP},${oP},${oT}\\)$`),oD=RegExp(`^rgba\\(${oA},${oA},${oA},${oT}\\)$`),oR=RegExp(`^hsl\\(${oT},${oA},${oA}\\)$`),o$=RegExp(`^hsla\\(${oT},${oA},${oA},${oT}\\)$`),oU={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function oL(){return this.rgb().formatHex()}function oB(){return this.rgb().formatRgb()}function oF(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oN.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?oq(t):3===r?new oW(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?oz(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?oz(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oC.exec(e))?new oW(t[1],t[2],t[3],1):(t=oM.exec(e))?new oW(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=oI.exec(e))?oz(t[1],t[2],t[3],t[4]):(t=oD.exec(e))?oz(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=oR.exec(e))?oX(t[1],t[2]/100,t[3]/100,1):(t=o$.exec(e))?oX(t[1],t[2]/100,t[3]/100,t[4]):oU.hasOwnProperty(e)?oq(oU[e]):"transparent"===e?new oW(NaN,NaN,NaN,0):null}function oq(e){return new oW(e>>16&255,e>>8&255,255&e,1)}function oz(e,t,r,n){return n<=0&&(e=t=r=NaN),new oW(e,t,r,n)}function oK(e,t,r,n){var i;return 1==arguments.length?((i=e)instanceof ok||(i=oF(i)),i)?new oW((i=i.rgb()).r,i.g,i.b,i.opacity):new oW:new oW(e,t,r,null==n?1:n)}function oW(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function oV(){return`#${oY(this.r)}${oY(this.g)}${oY(this.b)}`}function oH(){let e=oG(this.opacity);return`${1===e?"rgb(":"rgba("}${oJ(this.r)}, ${oJ(this.g)}, ${oJ(this.b)}${1===e?")":`, ${e})`}`}function oG(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oJ(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oY(e){return((e=oJ(e))<16?"0":"")+e.toString(16)}function oX(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oQ(e,t,r,n)}function oZ(e){if(e instanceof oQ)return new oQ(e.h,e.s,e.l,e.opacity);if(e instanceof ok||(e=oF(e)),!e)return new oQ;if(e instanceof oQ)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+(r<n)*6:r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new oQ(o,s,l,e.opacity)}function oQ(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function o0(e){return(e=(e||0)%360)<0?e+360:e}function o1(e){return Math.max(0,Math.min(1,e||0))}function o2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function o5(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}oS(ok,oF,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oL,formatHex:oL,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return oZ(this).formatHsl()},formatRgb:oB,toString:oB}),oS(oW,oK,oE(ok,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new oW(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new oW(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oW(oJ(this.r),oJ(this.g),oJ(this.b),oG(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oV,formatHex:oV,formatHex8:function(){return`#${oY(this.r)}${oY(this.g)}${oY(this.b)}${oY((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:oH,toString:oH})),oS(oQ,function(e,t,r,n){return 1==arguments.length?oZ(e):new oQ(e,t,r,null==n?1:n)},oE(ok,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new oQ(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new oQ(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new oW(o2(e>=240?e-240:e+120,i,n),o2(e,i,n),o2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new oQ(o0(this.h),o1(this.s),o1(this.l),oG(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=oG(this.opacity);return`${1===e?"hsl(":"hsla("}${o0(this.h)}, ${100*o1(this.s)}%, ${100*o1(this.l)}%${1===e?")":`, ${e})`}`}}));let o3=e=>()=>e;function o6(e,t){var r=t-e;return r?function(t){return e+t*r}:o3(isNaN(e)?t:e)}let o4=function e(t){var r,n=1==(r=+t)?o6:function(e,t){var n,i,a;return t-e?(n=e,i=t,n=Math.pow(n,a=r),i=Math.pow(i,a)-n,a=1/a,function(e){return Math.pow(n+e*i,a)}):o3(isNaN(e)?t:e)};function i(e,t){var r=n((e=oK(e)).r,(t=oK(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=o6(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function o8(e){return function(t){var r,n,i=t.length,a=Array(i),o=Array(i),s=Array(i);for(r=0;r<i;++r)n=oK(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}function o7(e,t){return e*=1,t*=1,function(r){return e*(1-r)+t*r}}o8(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return o5((r-n/t)*t,o,i,a,s)}}),o8(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return o5((r-n/t)*t,i,a,o,s)}});var o9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=RegExp(o9.source,"g");function st(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?o3(t):("number"===i?o7:"string"===i?(n=oF(t))?(t=n,o4):function(e,t){var r,n,i,a,o,s=o9.lastIndex=se.lastIndex=0,l=-1,c=[],u=[];for(e+="",t+="";(i=o9.exec(e))&&(a=se.exec(t));)(o=a.index)>s&&(o=t.slice(s,o),c[l]?c[l]+=o:c[++l]=o),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,u.push({i:l,x:o7(i,a)})),s=se.lastIndex;return s<t.length&&(o=t.slice(s),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?(r=u[0].x,function(e){return r(e)+""}):(n=t,function(){return n}):(t=u.length,function(e){for(var r,n=0;n<t;++n)c[(r=u[n]).i]=r.x(e);return c.join("")})}:t instanceof oF?o4:t instanceof Date?function(e,t){var r=new Date;return e*=1,t*=1,function(n){return r.setTime(e*(1-n)+t*n),r}}:!ArrayBuffer.isView(r=t)||r instanceof DataView?Array.isArray(t)?function(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=Array(i),o=Array(n);for(r=0;r<i;++r)a[r]=st(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,n={},i={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?n[r]=st(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}:o7:function(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}})(e,t)}function sr(e,t){return e*=1,t*=1,function(r){return Math.round(e*(1-r)+t*r)}}function sn(e){return+e}var si=[0,1];function sa(e){return e}function so(e,t){var r;return(t-=e*=1)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r})}function ss(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=so(i,n),a=r(o,a)):(n=so(n,i),a=r(a,o)),function(e){return a(n(e))}}function sl(e,t,r){var n=Math.min(e.length,t.length)-1,i=Array(n),a=Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=so(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=oO(e,t,1,n)-1;return a[r](i[r](t))}}function sc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function su(){var e,t,r,n,i,a,o=si,s=si,l=st,c=sa;function u(){var e,t,r,l=Math.min(o.length,s.length);return c!==sa&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?sl:ss,i=a=null,h}function h(t){return null==t||isNaN(t*=1)?r:(i||(i=n(o.map(e),s,l)))(e(c(t)))}return h.invert=function(r){return c(t((a||(a=n(s,o.map(e),o7)))(r)))},h.domain=function(e){return arguments.length?(o=Array.from(e,sn),u()):o.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=sr,u()},h.clamp=function(e){return arguments.length?(c=!!e||sa,u()):c!==sa},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,n){return e=r,t=n,u()}}function sh(){return su()(sa,sa)}function sd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function sf(e){return(e=sd(Math.abs(e)))?e[1]:NaN}var sp=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sg(e){var t;if(!(t=sp.exec(e)))throw Error("invalid format: "+e);return new sy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function sy(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sm(e,t){var r=sd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+Array(i-n.length+2).join("0")}sg.prototype=sy.prototype,sy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let sv={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sm(100*e,t),r:sm,s:function(e,t){var r=sd(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(N=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+Array(1-a).join("0")+sd(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sb(e){return e}var sw=Array.prototype.map,sx=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s_(e,t,r,n){var i,a,o=om(e,t,r);switch((n=sg(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sf(s)/3)))-sf(Math.abs(o))))||(n.precision=a),I(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=Math.max(0,sf(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i=o)))-sf(i))+1)||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=Math.max(0,-sf(Math.abs(o))))||(n.precision=a-("%"===n.type)*2)}return M(n)}function sj(e){var t=e.domain;return e.ticks=function(e){var r=t();return og(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return s_(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=oy(l,c,r))===n)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else if(i<0)l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i;else break;n=i}return e},e}function sO(){var e=sh();return e.copy=function(){return sc(e,sO())},or.apply(e,arguments),sj(e)}function sS(e){var t;function r(e){return null==e||isNaN(e*=1)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,sn),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return sS(e).unknown(t)},e=arguments.length?Array.from(e,sn):[0,1],sj(r)}function sE(e,t){e=e.slice();var r,n=0,i=e.length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function sk(e){return Math.log(e)}function sP(e){return Math.exp(e)}function sT(e){return-Math.log(-e)}function sA(e){return-Math.exp(-e)}function sN(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sC(e){return(t,r)=>-e(-t,r)}function sM(e){let t,r,n=e(sk,sP),i=n.domain,a=10;function o(){var o,s;return t=(o=a)===Math.E?Math.log:10===o&&Math.log10||2===o&&Math.log2||(o=Math.log(o),e=>Math.log(e)/o),r=10===(s=a)?sN:s===Math.E?Math.exp:e=>Math.pow(s,e),i()[0]<0?(t=sC(t),r=sC(r),e(sT,sA)):e(sk,sP),n}return n.base=function(e){return arguments.length?(a=+e,o()):a},n.domain=function(e){return arguments.length?(i(e),o()):i()},n.ticks=e=>{let n,o,s=i(),l=s[0],c=s[s.length-1],u=c<l;u&&([l,c]=[c,l]);let h=t(l),d=t(c),f=null==e?10:+e,p=[];if(!(a%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),l>0){for(;h<=d;++h)for(n=1;n<a;++n)if(!((o=h<0?n/r(-h):n*r(h))<l)){if(o>c)break;p.push(o)}}else for(;h<=d;++h)for(n=a-1;n>=1;--n)if(!((o=h>0?n/r(-h):n*r(h))<l)){if(o>c)break;p.push(o)}2*p.length<f&&(p=og(l,c,f))}else p=og(h,d,Math.min(d-h,f)).map(r);return u?p.reverse():p},n.tickFormat=(e,i)=>{if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=sg(i)).precision||(i.trim=!0),i=M(i)),e===1/0)return i;let o=Math.max(1,a*e/n.ticks().length);return e=>{let n=e/r(Math.round(t(e)));return n*a<a-.5&&(n*=a),n<=o?i(e):""}},n.nice=()=>i(sE(i(),{floor:e=>r(Math.floor(t(e))),ceil:e=>r(Math.ceil(t(e)))})),n}function sI(){let e=sM(su()).domain([1,10]);return e.copy=()=>sc(e,sI()).base(e.base()),or.apply(e,arguments),e}function sD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s$(e){var t=1,r=e(sD(1),sR(t));return r.constant=function(r){return arguments.length?e(sD(t=+r),sR(t)):t},sj(r)}function sU(){var e=s$(su());return e.copy=function(){return sc(e,sU()).constant(e.constant())},or.apply(e,arguments)}function sL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sF(e){return e<0?-e*e:e*e}function sq(e){var t=e(sa,sa),r=1;return t.exponent=function(t){return arguments.length?1==(r=+t)?e(sa,sa):.5===r?e(sB,sF):e(sL(r),sL(1/r)):r},sj(t)}function sz(){var e=sq(su());return e.copy=function(){return sc(e,sz()).exponent(e.exponent())},or.apply(e,arguments),e}function sK(){return sz.apply(null,arguments).exponent(.5)}function sW(e){return Math.sign(e)*e*e}function sV(){var e,t=sh(),r=[0,1],n=!1;function i(r){var i,a=Math.sign(i=t(r))*Math.sqrt(Math.abs(i));return isNaN(a)?e:n?Math.round(a):a}return i.invert=function(e){return t.invert(sW(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,sn)).map(sW)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return sV(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},or.apply(i,arguments),sj(i)}function sH(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function sG(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function sJ(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:+(e>t))}function sY(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function sX(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=Array(i-1);++e<i;)n[e-1]=function(e,t,r=o_){if(!(!(n=e.length)||isNaN(t*=1))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(r(e[a+1],a+1,e)-o)*(i-a)}}(t,e/i);return a}function a(t){return null==t||isNaN(t*=1)?e:r[oO(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();for(let r of(t=[],e))null==r||isNaN(r*=1)||t.push(r);return t.sort(ov),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return sX().domain(t).range(r).unknown(e)},or.apply(a,arguments)}function sZ(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[oO(i,t,0,n)]:e}function s(){var e=-1;for(i=Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return o}return o.domain=function(e){return arguments.length?([t,r]=e,t*=1,r*=1,s()):[t,r]},o.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=n?[i[n-1],r]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length&&(e=t),o},o.thresholds=function(){return i.slice()},o.copy=function(){return sZ().domain([t,r]).range(a).unknown(e)},or.apply(sj(o),arguments)}function sQ(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[oO(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(n=Math.min((t=Array.from(e)).length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return sQ().domain(t).range(r).unknown(e)},or.apply(i,arguments)}M=(C=function(e){var t,r,n,i=void 0===e.grouping||void 0===e.thousands?sb:(t=sw.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?sb:(n=sw.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return n[+e]})}),c=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=sg(e)).fill,r=e.align,n=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,y=e.precision,m=e.trim,v=e.type;"n"===v?(g=!0,v="g"):sv[v]||(void 0===y&&(y=12),m=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===d?a:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?c:"",x=sv[v],_=/[defgprs%]/.test(v);function j(e){var a,o,c,d=b,j=w;if("c"===v)j=x(e)+j,e="";else{var O=(e*=1)<0||1/e<0;if(e=isNaN(e)?h:x(Math.abs(e),y),m&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),O&&0==+e&&"+"!==n&&(O=!1),d=(O?"("===n?n:u:"-"===n||"("===n?"":n)+d,j=("s"===v?sx[8+N/3]:"")+j+(O&&"("===n?")":""),_){for(a=-1,o=e.length;++a<o;)if(48>(c=e.charCodeAt(a))||c>57){j=(46===c?s+e.slice(a+1):e.slice(a))+j,e=e.slice(0,a);break}}}g&&!f&&(e=i(e,1/0));var S=d.length+e.length+j.length,E=S<p?Array(p-S+1).join(t):"";switch(g&&f&&(e=i(E+e,E.length?p-j.length:1/0),E=""),r){case"<":e=d+e+j+E;break;case"=":e=d+E+e+j;break;case"^":e=E.slice(0,S=E.length>>1)+d+e+j+E.slice(S);break;default:e=E+d+e+j}return l(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var r=d(((e=sg(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(sf(t)/3))),i=Math.pow(10,-n),a=sx[8+n/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,I=C.formatPrefix;let s0=new Date,s1=new Date;function s2(e,t,r,n){function i(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{let t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{let o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return s;do s.push(o=new Date(+r)),t(r,a),e(r);while(o<r&&r<n)return s},i.filter=r=>s2(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(s0.setTime(+t),s1.setTime(+n),e(s0),e(s1),Math.floor(r(s0,s1))),i.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null),i}let s5=s2(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());s5.every=e=>isFinite(e=Math.floor(e))&&e>0?s2(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,s5.range;let s3=s2(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());s3.every=e=>isFinite(e=Math.floor(e))&&e>0?s2(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,s3.range;let s6=s2(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());s6.range;let s4=s2(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s4.range;function s8(e){return s2(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}let s7=s8(0),s9=s8(1),le=s8(2),lt=s8(3),lr=s8(4),ln=s8(5),li=s8(6);function la(e){return s2(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/6048e5)}s7.range,s9.range,le.range,lt.range,lr.range,ln.range,li.range;let lo=la(0),ls=la(1),ll=la(2),lc=la(3),lu=la(4),lh=la(5),ld=la(6);lo.range,ls.range,ll.range,lc.range,lu.range,lh.range,ld.range;let lf=s2(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);lf.range;let lp=s2(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1);lp.range;let lg=s2(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5));lg.range;let ly=s2(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getHours());ly.range;let lm=s2(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+36e5*t)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours());lm.range;let lv=s2(e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getMinutes());lv.range;let lb=s2(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+6e4*t)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes());lb.range;let lw=s2(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+1e3*t)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds());lw.range;let lx=s2(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);function l_(e,t,r,n,i,a){let o=[[lw,1,1e3],[lw,5,5e3],[lw,15,15e3],[lw,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function s(t,r,n){let i=Math.abs(r-t)/n,a=ow(([,,e])=>e).right(o,i);if(a===o.length)return e.every(om(t/31536e6,r/31536e6,n));if(0===a)return lx.every(Math.max(om(t,r,n),1));let[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,r){let n=t<e;n&&([e,t]=[t,e]);let i=r&&"function"==typeof r.range?r:s(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},s]}lx.every=e=>isFinite(e=Math.floor(e))&&e>0?e>1?s2(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lx:null,lx.range;let[lj,lO]=l_(s3,s4,lo,lg,lm,lb),[lS,lE]=l_(s5,s6,s7,lf,ly,lv);function lk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lT(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var lA={"-":"",_:" ",0:"0"},lN=/^\s*\d+/,lC=/^%/,lM=/[\\^$*+?|[\]().{}]/g;function lI(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?Array(r-a+1).join(t)+i:i)}function lD(e){return e.replace(lM,"\\$&")}function lR(e){return RegExp("^(?:"+e.map(lD).join("|")+")","i")}function l$(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function lU(e,t,r){var n=lN.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function lL(e,t,r){var n=lN.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function lB(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lF(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function lq(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lz(e,t,r){var n=lN.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lK(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lV(e,t,r){var n=lN.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function lH(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function lG(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=lN.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lY(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lX(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lZ(e,t,r){var n=lN.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lQ(e,t,r){var n=lN.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function l0(e,t,r){var n=lN.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function l1(e,t,r){var n=lC.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function l2(e,t,r){var n=lN.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function l5(e,t,r){var n=lN.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function l3(e,t){return lI(e.getDate(),t,2)}function l6(e,t){return lI(e.getHours(),t,2)}function l4(e,t){return lI(e.getHours()%12||12,t,2)}function l8(e,t){return lI(1+lf.count(s5(e),e),t,3)}function l7(e,t){return lI(e.getMilliseconds(),t,3)}function l9(e,t){return l7(e,t)+"000"}function ce(e,t){return lI(e.getMonth()+1,t,2)}function ct(e,t){return lI(e.getMinutes(),t,2)}function cr(e,t){return lI(e.getSeconds(),t,2)}function cn(e){var t=e.getDay();return 0===t?7:t}function ci(e,t){return lI(s7.count(s5(e)-1,e),t,2)}function ca(e){var t=e.getDay();return t>=4||0===t?lr(e):lr.ceil(e)}function co(e,t){return e=ca(e),lI(lr.count(s5(e),e)+(4===s5(e).getDay()),t,2)}function cs(e){return e.getDay()}function cl(e,t){return lI(s9.count(s5(e)-1,e),t,2)}function cc(e,t){return lI(e.getFullYear()%100,t,2)}function cu(e,t){return lI((e=ca(e)).getFullYear()%100,t,2)}function ch(e,t){return lI(e.getFullYear()%1e4,t,4)}function cd(e,t){var r=e.getDay();return lI((e=r>=4||0===r?lr(e):lr.ceil(e)).getFullYear()%1e4,t,4)}function cf(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lI(t/60|0,"0",2)+lI(t%60,"0",2)}function cp(e,t){return lI(e.getUTCDate(),t,2)}function cg(e,t){return lI(e.getUTCHours(),t,2)}function cy(e,t){return lI(e.getUTCHours()%12||12,t,2)}function cm(e,t){return lI(1+lp.count(s3(e),e),t,3)}function cv(e,t){return lI(e.getUTCMilliseconds(),t,3)}function cb(e,t){return cv(e,t)+"000"}function cw(e,t){return lI(e.getUTCMonth()+1,t,2)}function cx(e,t){return lI(e.getUTCMinutes(),t,2)}function c_(e,t){return lI(e.getUTCSeconds(),t,2)}function cj(e){var t=e.getUTCDay();return 0===t?7:t}function cO(e,t){return lI(lo.count(s3(e)-1,e),t,2)}function cS(e){var t=e.getUTCDay();return t>=4||0===t?lu(e):lu.ceil(e)}function cE(e,t){return e=cS(e),lI(lu.count(s3(e),e)+(4===s3(e).getUTCDay()),t,2)}function ck(e){return e.getUTCDay()}function cP(e,t){return lI(ls.count(s3(e)-1,e),t,2)}function cT(e,t){return lI(e.getUTCFullYear()%100,t,2)}function cA(e,t){return lI((e=cS(e)).getUTCFullYear()%100,t,2)}function cN(e,t){return lI(e.getUTCFullYear()%1e4,t,4)}function cC(e,t){var r=e.getUTCDay();return lI((e=r>=4||0===r?lu(e):lu.ceil(e)).getUTCFullYear()%1e4,t,4)}function cM(){return"+0000"}function cI(){return"%"}function cD(e){return+e}function cR(e){return Math.floor(e/1e3)}function c$(e){return new Date(e)}function cU(e){return e instanceof Date?+e:+new Date(+e)}function cL(e,t,r,n,i,a,o,s,l,c){var u=sh(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),m=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?g:a(e)<e?y:n(e)<e?i(e)<e?m:v:r(e)<e?b:w)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,cU)):d().map(c$)},u.ticks=function(t){var r=d();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var r=d();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?d(sE(r,e)):u},u.copy=function(){return sc(u,cL(e,t,r,n,i,a,o,s,l,c))},u}function cB(){return or.apply(cL(lS,lE,s5,s6,s7,lf,ly,lv,lw,R).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cF(){return or.apply(cL(lj,lO,s3,s4,lo,lp,lm,lb,lw,$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cq(){var e,t,r,n,i,a=0,o=1,s=sa,l=!1;function c(t){return null==t||isNaN(t*=1)?i:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=n(a*=1),t=n(o*=1),r=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(st),c.rangeRound=u(sr),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),c}}function cz(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cK(){var e=sj(cq()(sa));return e.copy=function(){return cz(e,cK())},on.apply(e,arguments)}function cW(){var e=sM(cq()).domain([1,10]);return e.copy=function(){return cz(e,cW()).base(e.base())},on.apply(e,arguments)}function cV(){var e=s$(cq());return e.copy=function(){return cz(e,cV()).constant(e.constant())},on.apply(e,arguments)}function cH(){var e=sq(cq());return e.copy=function(){return cz(e,cH()).exponent(e.exponent())},on.apply(e,arguments)}function cG(){return cH.apply(null,arguments).exponent(.5)}function cJ(){var e=[],t=sa;function r(r){if(null!=r&&!isNaN(r*=1))return t((oO(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();for(let r of(e=[],t))null==r||isNaN(r*=1)||e.push(r);return e.sort(ov),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>(function(e,t,r){if(!(!(n=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t*=1)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n*=1)>=n&&(yield n)}}(e,void 0))).length)||isNaN(t*=1))){if(t<=0||n<2)return sG(e);if(t>=1)return sH(e);var n,i=(n-1)*t,a=Math.floor(i),o=sH((function e(t,r,n=0,i=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=r&&r<=i))return t;for(a=void 0===a?sJ:function(e=ov){if(e===ov)return sJ;if("function"!=typeof e)throw TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);i>n;){if(i-n>600){let o=i-n+1,s=r-n+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2<0?-1:1),h=Math.max(n,Math.floor(r-s*c/o+u)),d=Math.min(i,Math.floor(r+(o-s)*c/o+u));e(t,r,h,d,a)}let o=t[r],s=n,l=i;for(sY(t,n,r),a(t[i],o)>0&&sY(t,n,i);s<l;){for(sY(t,s,l),++s,--l;0>a(t[s],o);)++s;for(;a(t[l],o)>0;)--l}0===a(t[n],o)?sY(t,n,l):sY(t,++l,i),l<=r&&(n=l+1),r<=l&&(i=l-1)}return t})(e,a).subarray(0,a+1));return o+(sG(e.subarray(a+1))-o)*(i-a)}})(e,n/t))},r.copy=function(){return cJ(t).domain(e)},on.apply(r,arguments)}function cY(){var e,t,r,n,i,a,o,s=0,l=.5,c=1,u=1,h=sa,d=!1;function f(e){return isNaN(e*=1)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?n:i),h(d?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,h=function(e,t){void 0===t&&(t=e,e=st);for(var r=0,n=t.length-1,i=t[0],a=Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s*=1),t=a(l*=1),r=a(c*=1),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(h=e,f):h},f.range=p(st),f.rangeRound=p(sr),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function cX(){var e=sj(cY()(sa));return e.copy=function(){return cz(e,cX())},on.apply(e,arguments)}function cZ(){var e=sM(cY()).domain([.1,1,10]);return e.copy=function(){return cz(e,cZ()).base(e.base())},on.apply(e,arguments)}function cQ(){var e=s$(cY());return e.copy=function(){return cz(e,cQ()).constant(e.constant())},on.apply(e,arguments)}function c0(){var e=sq(cY());return e.copy=function(){return cz(e,c0()).exponent(e.exponent())},on.apply(e,arguments)}function c1(){return c0.apply(null,arguments).exponent(.5)}R=(D=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=lR(i),u=l$(i),h=lR(a),d=l$(a),f=lR(o),p=l$(o),g=lR(s),y=l$(s),m=lR(l),v=l$(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:l3,e:l3,f:l9,g:cu,G:cd,H:l6,I:l4,j:l8,L:l7,m:ce,M:ct,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:cD,s:cR,S:cr,u:cn,U:ci,V:co,w:cs,W:cl,x:null,X:null,y:cc,Y:ch,Z:cf,"%":cI},w={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:cp,e:cp,f:cb,g:cA,G:cC,H:cg,I:cy,j:cm,L:cv,m:cw,M:cx,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:cD,s:cR,S:c_,u:cj,U:cO,V:cE,w:ck,W:cP,x:null,X:null,y:cT,Y:cN,Z:cM,"%":cI},x={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=d.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return O(e,t,r,n)},d:lG,e:lG,f:l0,g:lK,G:lz,H:lY,I:lY,j:lJ,L:lQ,m:lH,M:lX,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:lV,Q:l2,s:l5,S:lZ,u:lL,U:lB,V:lF,w:lU,W:lq,x:function(e,t,n){return O(e,r,t,n)},X:function(e,t,r){return O(e,n,t,r)},y:lK,Y:lz,Z:lW,"%":l1};function _(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=lA[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function j(e,t){return function(r){var n,i,a=lT(1900,void 0,1);if(O(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!t||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(i=(n=lP(lT(a.y,0,1))).getUTCDay())>4||0===i?ls.ceil(n):ls(n),n=lp.offset(n,(a.V-1)*7),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(n=(i=(n=lk(lT(a.y,0,1))).getDay())>4||0===i?s9.ceil(n):s9(n),n=lf.offset(n,(a.V-1)*7),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:+("W"in a)),i="Z"in a?lP(lT(a.y,0,1)).getUTCDay():lk(lT(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,lP(a)):lk(a)}}function O(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return -1;if(37===(i=t.charCodeAt(o++))){if(!(a=x[(i=t.charAt(o++))in lA?t.charAt(o++):i])||(n=a(e,r,n))<0)return -1}else if(i!=r.charCodeAt(n++))return -1}return n}return b.x=_(r,b),b.X=_(n,b),b.c=_(t,b),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=j(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=j(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,D.parse,$=D.utcFormat,D.utcParse,e.s(["scaleBand",()=>oc,"scaleDiverging",()=>cX,"scaleDivergingLog",()=>cZ,"scaleDivergingPow",()=>c0,"scaleDivergingSqrt",()=>c1,"scaleDivergingSymlog",()=>cQ,"scaleIdentity",()=>sS,"scaleImplicit",0,os,"scaleLinear",()=>sO,"scaleLog",()=>sI,"scaleOrdinal",()=>ol,"scalePoint",()=>ou,"scalePow",()=>sz,"scaleQuantile",()=>sX,"scaleQuantize",()=>sZ,"scaleRadial",()=>sV,"scaleSequential",()=>cK,"scaleSequentialLog",()=>cW,"scaleSequentialPow",()=>cH,"scaleSequentialQuantile",()=>cJ,"scaleSequentialSqrt",()=>cG,"scaleSequentialSymlog",()=>cV,"scaleSqrt",()=>sK,"scaleSymlog",()=>sU,"scaleThreshold",()=>sQ,"scaleTime",()=>cB,"scaleUtc",()=>cF,"tickFormat",()=>s_],29061),e.i(29061),e.s(["scaleBand",()=>oc,"scaleDiverging",()=>cX,"scaleDivergingLog",()=>cZ,"scaleDivergingPow",()=>c0,"scaleDivergingSqrt",()=>c1,"scaleDivergingSymlog",()=>cQ,"scaleIdentity",()=>sS,"scaleImplicit",0,os,"scaleLinear",()=>sO,"scaleLog",()=>sI,"scaleOrdinal",()=>ol,"scalePoint",()=>ou,"scalePow",()=>sz,"scaleQuantile",()=>sX,"scaleQuantize",()=>sZ,"scaleRadial",()=>sV,"scaleSequential",()=>cK,"scaleSequentialLog",()=>cW,"scaleSequentialPow",()=>cH,"scaleSequentialQuantile",()=>cJ,"scaleSequentialSqrt",()=>cG,"scaleSequentialSymlog",()=>cV,"scaleSqrt",()=>sK,"scaleSymlog",()=>sU,"scaleThreshold",()=>sQ,"scaleTime",()=>cB,"scaleUtc",()=>cF,"tickFormat",()=>s_],79357);var c2=e.i(79357);function c5(e){return null!=e}var c3=e=>e.chartData,c6=nd([c3],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),c4=(e,t,r,n)=>n?c6(e):c3(e);function c8(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(aX(t)&&aX(r))return!0}return!1}function c7(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function c9(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(aX(i))r=i;else if("function"==typeof i)return;if(aX(a))n=a;else if("function"==typeof a)return;var o=[r,n];if(c8(o))return o}}var ue=e.i(51655),ut=e=>e,ur={},un=e=>function t(){let r;return 0==arguments.length||1==arguments.length&&(r=arguments.length<=0?void 0:arguments[0],r===ur)?t:e(...arguments)},ui=(e,t)=>1===e?t:un(function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==ur).length;return a>=e?t(...n):ui(e-a,un(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return t(...n.map(e=>e===ur?r.shift():e),...r)}))}),ua=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},uo=ui((t=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,t),us=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return ut;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}},ul=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),uc=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((e,r)=>{var n;return e===(null==(n=t)?void 0:n[r])})?r:(t=i,r=e(...i))}};function uu(e){return 0===e?1:Math.floor(new ue.default(e).abs().log(10).toNumber())+1}function uh(e,t,r){for(var n=new ue.default(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}ui((r=(e,t,r)=>{var n=+e;return n+r*(t-n)}).length,r),ui((n=(e,t,r)=>{var n=t-e;return(r-e)/(n=n||1/0)}).length,n),ui((i=(e,t,r)=>{var n=t-e;return Math.max(0,Math.min(1,(r-e)/(n=n||1/0)))}).length,i);var ud=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},uf=(e,t,r)=>{if(e.lte(0))return new ue.default(0);var n=uu(e.toNumber()),i=new ue.default(10).pow(n),a=e.div(i),o=1!==n?.05:.1,s=new ue.default(Math.ceil(a.div(o).toNumber())).add(r).mul(o).mul(i);return new ue.default(t?s.toNumber():Math.ceil(s.toNumber()))},up=function(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ue.default(0),tickMin:new ue.default(0),tickMax:new ue.default(0)};var o=uf(new ue.default(t).sub(e).div(r-1),n,a),s=Math.ceil((i=e<=0&&t>=0?new ue.default(0):(i=new ue.default(e).add(t).div(2)).sub(new ue.default(i).mod(o))).sub(e).div(o).toNumber()),l=Math.ceil(new ue.default(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?up(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new ue.default(s).mul(o)),tickMax:i.add(new ue.default(l).mul(o))})},ug=uc(function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=Math.max(n,2),[o,s]=ud([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...ua(0,n-1).map(()=>1/0)]:[...ua(0,n-1).map(()=>-1/0),s];return t>r?ul(l):l}if(o===s){var c=new ue.default(1),u=new ue.default(o);if(!u.isint()&&i){var h=Math.abs(o);h<1?(c=new ue.default(10).pow(uu(o)-1),u=new ue.default(Math.floor(u.div(c).toNumber())).mul(c)):h>1&&(u=new ue.default(Math.floor(o)))}else 0===o?u=new ue.default(Math.floor((n-1)/2)):i||(u=new ue.default(Math.floor(o)));var d=Math.floor((n-1)/2);return us(uo(e=>u.add(new ue.default(e-d).mul(c)).toNumber()),ua)(0,n)}var{step:f,tickMin:p,tickMax:g}=up(o,s,a,i,0),y=uh(p,g.add(new ue.default(.1).mul(f)),f);return t>r?ul(y):y}),uy=uc(function(e,t){var[r,n]=e,i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],[a,o]=ud([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=uf(new ue.default(o).sub(a).div(s-1),i,0),c=[...uh(new ue.default(a),new ue.default(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?ul(c):c}),um=e=>e.rootProps.stackOffset,uv=e=>e.options.chartName,ub=e=>e.rootProps.syncId,uw=e=>e.rootProps.syncMethod,ux=e=>e.options.eventEmitter,u_="auto",uj="auto",uO=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},uS={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:u_,tick:!0,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},uE={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:uj,tick:!0,tickCount:5,ticks:void 0,type:"number",unit:void 0},uk={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:u_,tick:!0,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uP={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:0,includeHidden:!1,name:void 0,reversed:!1,scale:uj,tick:!0,tickCount:5,ticks:void 0,type:"category",unit:void 0},uT=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?uk:uS,uA=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?uP:uE,uN=e=>e.polarOptions,uC=nd([ak,aP,a$],ay),uM=nd([uN,uC],(e,t)=>{if(null!=e)return iy(e.innerRadius,t,0)}),uI=nd([uN,uC],(e,t)=>{if(null!=e)return iy(e.outerRadius,t,.8*t)}),uD=nd([uN],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});nd([uT,uD],uO);var uR=nd([uC,uM,uI],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});nd([uA,uR],uO);var u$=nd([a9,uN,uM,uI,ak,aP],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:iy(o,i,i/2),cy:iy(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),uU=(e,t)=>t,uL=(e,t,r)=>r;function uB(e){return null==e?void 0:e.id}var uF=e=>{var t=a9(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},uq=e=>e.tooltip.settings.axisId,uz=e=>{var t=uF(e),r=uq(e);return u6(e,t,r)},uK=nd([uz],e=>null==e?void 0:e.dataKey);function uW(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(e=>{var t,r=null!=(t=e.data)?t:n;if(null!=r&&0!==r.length){var s=uB(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(aw(t,a,null)),c=aw(t,e.dataKey,0);Object.assign(n=o.has(l)?o.get(l):{},{[s]:c}),o.set(l,n)})}}),Array.from(o.values())}function uV(e){return null!=e.stackId&&null!=e.dataKey}var uH=(e,t)=>e===t||null!=e&&null!=t&&e[0]===t[0]&&e[1]===t[1];function uG(e,t){return!!(Array.isArray(e)&&Array.isArray(t))&&0===e.length&&0===t.length||e===t}function uJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uY(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uJ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var uX=[0,"auto"],uZ={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},uQ=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return null==r?uZ:r},u0={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uX,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},u1=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return null==r?u0:r},u2={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},u5=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?u2:r},u3=(e,t,r)=>{switch(t){case"xAxis":return uQ(e,r);case"yAxis":return u1(e,r);case"zAxis":return u5(e,r);case"angleAxis":return uT(e,r);case"radiusAxis":return uA(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},u6=(e,t,r)=>{switch(t){case"xAxis":return uQ(e,r);case"yAxis":return u1(e,r);case"angleAxis":return uT(e,r);case"radiusAxis":return uA(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},u4=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function u8(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var u7=nd([uU,uL],u8),u9=(e,t,r)=>e.filter(r).filter(e=>(null==t?void 0:t.includeHidden)===!0||!e.hide),he=nd([e=>e.graphicalItems.cartesianItems,u3,u7],u9,{memoizeOptions:{resultEqualityCheck:uG}}),ht=nd([he],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(uV)),hr=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),hn=nd([he],hr),hi=e=>e.map(e=>e.data).filter(Boolean).flat(1),ha=nd([he],hi,{memoizeOptions:{resultEqualityCheck:uG}}),ho=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},hs=nd([ha,c4],ho),hl=(e,t,r)=>(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:aw(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:aw(e,t)}))):e.map(e=>({value:e})),hc=nd([hs,u3,he],hl);function hu(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function hh(e){if(id(e)||e instanceof Date){var t=Number(e);if(aX(t))return t}}function hd(e){if(Array.isArray(e)){var t=[hh(e[0]),hh(e[1])];return c8(t)?t:void 0}var r=hh(e);if(null!=r)return[r,r]}function hf(e){return e.map(hh).filter(c5)}var hp=nd([ht,c4,uz],uW),hg=(e,t,r)=>Object.fromEntries(Object.entries(t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{})).map(t=>{var n,[i,a]=t,o=a.map(uB);return[i,{stackedData:(n=a_[r],(function(){var e=as([]),t=ac,r=al,n=au;function i(i){var a,o,s=Array.from(e.apply(this,arguments),ah),l=s.length,c=-1;for(let e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(e,s[a].key,c,i)]).data=e;for(a=0,o=ao(t(s));a<l;++a)s[o[a]].index=a;return r(s,o),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:as(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"==typeof e?e:as(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?ac:"function"==typeof e?e:as(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?al:e,i):r},i})().keys(o).value((e,t)=>+aw(e,t,0)).order(ac).offset(n)(e)),graphicalItems:a}]})),hy=nd([hp,ht,um],hg),hm=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var o=((e,t,r)=>{if(null!=e){let n;return[(n=Object.keys(e).reduce((n,i)=>{var{stackedData:a}=e[i],o=a.reduce((e,n)=>{var i,a=[Math.min(...i=am(n,t,r).flat(2).filter(ih)),Math.max(...i)];return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]}})(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},hv=nd([u3],e=>e.allowDataOverflow),hb=e=>{var t;if(null==e||!("domain"in e))return uX;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var r=hf(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!=(t=null==e?void 0:e.domain)?t:uX},hw=nd([u3],hb),hx=nd([hw,hv],c9),h_=nd([hy,c3,uU,hx],hm,{memoizeOptions:{resultEqualityCheck:uH}}),hj=e=>e.errorBars,hO=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},hS=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var s,l,c=null==(s=n[r.id])?void 0:s.filter(e=>hu(i,e)),u=aw(e,null!=(l=t.dataKey)?l:r.dataKey),h=!(!c||"number"!=typeof u||ic(u))&&c.length?hf(c.flatMap(t=>{var r,n,i=aw(e,t.dataKey);if(Array.isArray(i)?[r,n]=i:r=n=i,aX(r)&&aX(n))return[u-r,u+n]})):[];if(h.length>=2){var d=Math.min(...h),f=Math.max(...h);(null==a||d<a)&&(a=d),(null==o||f>o)&&(o=f)}var p=hd(u);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),o=null==o?p[1]:Math.max(o,p[1]))})}),(null==t?void 0:t.dataKey)!=null&&e.forEach(e=>{var r=hd(aw(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),o=null==o?r[1]:Math.max(o,r[1]))}),aX(a)&&aX(o))return[a,o]},hE=nd([hs,u3,hn,hj,uU],hS,{memoizeOptions:{resultEqualityCheck:uH}});function hk(e){var{value:t}=e;if(id(t)||t instanceof Date)return t}var hP=e=>e.referenceElements.dots,hT=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),hA=nd([hP,uU,uL],hT),hN=e=>e.referenceElements.areas,hC=nd([hN,uU,uL],hT),hM=e=>e.referenceElements.lines,hI=nd([hM,uU,uL],hT),hD=(e,t)=>{var r=hf(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},hR=nd(hA,uU,hD),h$=(e,t)=>{var r=hf(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},hU=nd([hC,uU],h$),hL=(e,t)=>{var r=hf(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]},hB=nd(hI,uU,hL),hF=nd(hR,hB,hU,(e,t,r)=>hO(e,r,t)),hq=(e,t,r,n,i,a,o,s)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(c8(n))return c7(n,t,r)}catch(e){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(ih(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(e){}else if("string"==typeof o&&aj.test(o)){var l=aj.exec(o);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(ih(s))a=s;else if("function"==typeof s)try{null!=t&&(a=s(null==t?void 0:t[1]))}catch(e){}else if("string"==typeof s&&aO.test(s)){var u=aO.exec(s);if(null==u||null==t)a=void 0;else{var h=+u[1];a=t[1]+h}}else a=null==t?void 0:t[1];var d=[i,a];if(c8(d))return null==t?d:c7(d,t,r)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?hO(n,a,i):hO(a,i),e.allowDataOverflow),hz=nd([u3,hw,hx,h_,hE,hF,a9,uU],hq,{memoizeOptions:{resultEqualityCheck:uH}}),hK=[0,1],hW=(e,t,r,n,i,a,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var s,{dataKey:l,type:c}=e,u=ax(t,a);return u&&null==l?(0,ot.default)(0,r.length):"category"===c?(s=n.map(hk).filter(e=>null!=e),u&&(null==e.dataKey||e.allowDuplicatedCategory&&im(s))?(0,ot.default)(0,n.length):e.allowDuplicatedCategory?s:Array.from(new Set(s))):"expand"===i?hK:o}},hV=nd([u3,a9,hs,hc,um,uU,hz],hW),hH=(e,t,r,n,i)=>{if(null!=e){var{scale:a,type:o}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"==typeof a){var s="scale".concat(ib(a));return s in c2?s:"point"}}},hG=nd([u3,a9,u4,uv,uU],hH);function hJ(e,t,r,n){if(null!=r&&null!=n){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(n);var i=function(e){if(null!=e){if(e in c2)return c2[e]();var t="scale".concat(ib(e));if(t in c2)return c2[t]()}}(t);if(null!=i){var a=i.domain(r).range(n);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-1e-4,a=Math.max(n[0],n[1])+1e-4,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}})(a),a}}}var hY=(e,t,r)=>{var n=hb(t);if("auto"===r||"linear"===r){if(null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&c8(e))return ug(e,t.tickCount,t.allowDecimals);if(null!=t&&t.tickCount&&"number"===t.type&&c8(e))return uy(e,t.tickCount,t.allowDecimals)}},hX=nd([hV,u6,hG],hY),hZ=(e,t,r,n)=>"angleAxis"!==n&&(null==e?void 0:e.type)==="number"&&c8(t)&&Array.isArray(r)&&r.length>0?[Math.min(t[0],r[0]),Math.max(t[1],r[r.length-1])]:t,hQ=nd([u3,hV,hX,uU],hZ),h0=nd(hc,u3,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(hf(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(0===i)return 1/0;for(var a=0;a<n.length-1;a++)r=Math.min(r,n[a+1]-n[a]);return r/i}}),h1=nd(h0,a9,e=>e.rootProps.barCategoryGap,a$,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!aX(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=iy(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),h2=nd(uQ,(e,t)=>{var r=uQ(e,t);return null==r||"string"!=typeof r.padding?0:h1(e,"xAxis",t,r.padding)},(e,t)=>{if(null==e)return{left:0,right:0};var r,n,{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!=(r=i.left)?r:0)+t,right:(null!=(n=i.right)?n:0)+t}}),h5=nd(u1,(e,t)=>{var r=u1(e,t);return null==r||"string"!=typeof r.padding?0:h1(e,"yAxis",t,r.padding)},(e,t)=>{if(null==e)return{top:0,bottom:0};var r,n,{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!=(r=i.top)?r:0)+t,bottom:(null!=(n=i.bottom)?n:0)+t}}),h3=nd([a$,h2,aq,aF,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),h6=nd([a$,a9,h5,aq,aF,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),h4=(e,t,r,n)=>{var i;switch(t){case"xAxis":return h3(e,r,n);case"yAxis":return h6(e,r,n);case"zAxis":return null==(i=u5(e,r))?void 0:i.range;case"angleAxis":return uD(e);case"radiusAxis":return uR(e,r);default:return}},h8=nd([u3,h4],uO),h7=nd([u3,hG,hQ,h8],hJ);function h9(e,t){return e.id<t.id?-1:+(e.id>t.id)}nd([he,hj,uU],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>hu(r,e)));var de=(e,t)=>t,dt=(e,t,r)=>r,dr=nd(aN,de,dt,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(h9)),dn=nd(aC,de,dt,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(h9)),di=(e,t)=>({width:e.width,height:t.height});nd(a$,uQ,di);var da=nd(aP,a$,dr,de,dt,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=di(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;o[r.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),ds=nd(ak,a$,dn,de,dt,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s={width:"number"==typeof r.width?r.width:60,height:t.height};null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;o[r.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o});nd([a$,uQ,(e,t)=>{var r=uQ(e,t);if(null!=r)return da(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),nd([a$,u1,(e,t)=>{var r=u1(e,t);if(null!=r)return ds(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),nd(a$,u1,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}));var dl=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=ax(e,n),l=t.map(e=>e.value);if(o&&s&&"category"===a&&i&&im(l))return l}},dc=nd([a9,hc,u3,uU],dl),du=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;if(ax(e,n)&&("number"===i||"auto"!==a))return t.map(e=>e.value)}},dh=nd([a9,hc,u6,uU],du);nd([a9,(e,t,r)=>{switch(t){case"xAxis":return uQ(e,r);case"yAxis":return u1(e,r);default:throw Error("Unexpected axis type: ".concat(t))}},hG,h7,dc,dh,h4,hX,uU],(e,t,r,n,i,a,o,s,l)=>{if(null==t)return null;var c=ax(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),nd([a9,u6,hG,h7,hX,h4,dc,dh,uU],(e,t,r,n,i,a,o,s,l)=>{if(null!=t&&null!=n){var c=ax(e,l),{type:u,ticks:h,tickCount:d}=t,f="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*il(a[0]-a[1])*p:p;var g=h||i;return g?g.map((e,t)=>({index:t,coordinate:n(o?o.indexOf(e):e)+p,value:e,offset:p})).filter(e=>!ic(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})):n.ticks?n.ticks(d).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),nd([a9,u6,h7,h4,dc,dh,uU],(e,t,r,n,i,a,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=ax(e,o),{tickCount:l}=t,c=0;return(c="angleAxis"===o&&(null==n?void 0:n.length)>=2?2*il(n[0]-n[1])*c:c,s&&a)?a.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),nd(u3,h7,(e,t)=>{if(null!=e&&null!=t)return uY(uY({},e),{},{scale:t})});var dd=nd([u3,hG,hV,h8],hJ);nd((e,t,r)=>u5(e,r),dd,(e,t)=>{if(null!=e&&null!=t)return uY(uY({},e),{},{scale:t})});var df=nd([a9,aN,aC],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dp=e=>e.options.defaultTooltipEventType,dg=e=>e.options.validateTooltipEventTypes;function dy(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function dm(e,t){return dy(t,dp(e),dg(e))}var dv=(e,t)=>{var r,n=Number(t);if(!ic(n)&&null!=t)return n>=0?null==e||null==(r=e[n])?void 0:r.value:void 0};function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var dx=(e,t,r,n)=>{if(null==t)return iI;var i,a,o,s=(i=e,a=t,o=r,"axis"===a?"click"===o?i.axisInteraction.click:i.axisInteraction.hover:"click"===o?i.itemInteraction.click:i.itemInteraction.hover);if(null==s)return iI;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var l=!0===e.settings.active;if(null!=s.index){if(l)return dw(dw({},s),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return dw(dw({},iI),{},{coordinate:s.coordinate})},d_=(e,t)=>{var r=null==e?void 0:e.index;if(null==r)return null;var n=Number(r);if(!aX(n))return r;var i=Infinity;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(n,i)))},dj=(e,t,r,n,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)if("horizontal"===r)return{x:u.coordinate,y:(n.top+t)/2};else return{x:(n.left+e)/2,y:u.coordinate}}},dO=(e,t,r,n)=>{var i;return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===r?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null==(t=e.settings)?void 0:t.dataKey)===i})},dS=e=>e.options.tooltipPayloadSearcher,dE=e=>e.tooltip;function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var dT=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var h,d,f,{dataDefinedOnItem:p,settings:g}=r,y=null!=p?p:s,m=Array.isArray(y)?am(y,c,u):y,v=null!=(h=null==g?void 0:g.dataKey)?h:n,b=null==g?void 0:g.nameKey;return Array.isArray(d=n&&Array.isArray(m)&&!Array.isArray(m[0])&&"axis"===o?function(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):(0,is.default)(e,t))===r)}(m,n,i):a(m,t,l,b))?d.forEach(t=>{var r=dP(dP({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(aS({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:aw(t.payload,t.dataKey),name:t.name}))}):e.push(aS({tooltipEntrySettings:g,dataKey:v,payload:d,value:aw(d,v),name:null!=(f=aw(d,b))?f:null==g?void 0:g.name})),e},[])}},dA=nd([uz,a9,u4,uv,uF],hH),dN=nd([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dC=nd([uF,uq],u8),dM=nd([dN,uz,dC],u9,{memoizeOptions:{resultEqualityCheck:uG}}),dI=nd([dM],e=>e.filter(uV)),dD=nd([dM],hi,{memoizeOptions:{resultEqualityCheck:uG}}),dR=nd([dD,c3],ho),d$=nd([dI,c3,uz],uW),dU=nd([dR,uz,dM],hl),dL=nd([uz],hb),dB=nd([uz],e=>e.allowDataOverflow),dF=nd([dL,dB],c9),dq=nd([dM],e=>e.filter(uV)),dz=nd([d$,dq,um],hg),dK=nd([dz,c3,uF,dF],hm),dW=nd([dM],hr),dV=nd([dR,uz,dW,hj,uF],hS,{memoizeOptions:{resultEqualityCheck:uH}}),dH=nd([hP,uF,uq],hT),dG=nd([dH,uF],hD),dJ=nd([hN,uF,uq],hT),dY=nd([dJ,uF],h$),dX=nd([hM,uF,uq],hT),dZ=nd([dX,uF],hL),dQ=nd([dG,dZ,dY],hO),d0=nd([uz,dL,dF,dK,dV,dQ,a9,uF],hq),d1=nd([uz,a9,dR,dU,um,uF,d0],hW),d2=nd([d1,uz,dA],hY),d5=nd([uz,d1,d2,uF],hZ),d3=e=>{var t=uF(e),r=uq(e);return h4(e,t,r,!1)},d6=nd([uz,d3],uO),d4=nd([uz,dA,d5,d6],hJ),d8=nd([a9,dU,uz,uF],dl),d7=nd([a9,dU,uz,uF],du),d9=nd([a9,uz,dA,d4,d3,d8,d7,uF],(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=ax(e,s);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,h="category"===l&&n.bandwidth?n.bandwidth()/u:0;return(h="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*il(i[0]-i[1])*h:h,c&&o)?o.map((e,t)=>({coordinate:n(e)+h,value:e,index:t,offset:h})):n.domain().map((e,t)=>({coordinate:n(e)+h,value:a?a[e]:e,index:t,offset:h}))}}}),fe=nd([dp,dg,e=>e.tooltip.settings],(e,t,r)=>dy(r.shared,e,t)),ft=e=>e.tooltip.settings.trigger,fr=e=>e.tooltip.settings.defaultIndex,fn=nd([dE,fe,ft,fr],dx),fi=nd([fn,dR],d_),fa=nd([d9,fi],dv),fo=nd([fn],e=>{if(e)return e.dataKey}),fs=nd([dE,fe,ft,fr],dO),fl=nd([ak,aP,a9,a$,d9,fr,fs,dS],dj),fc=nd([fn,fl],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),fu=nd([fn],e=>e.active),fh=nd([fs,fi,c3,uK,fa,dS,fe],dT);nd([fh],e=>{if(null!=e)return Array.from(new Set(e.map(e=>e.payload).filter(e=>null!=e)))});var fd=(e,t)=>t,ff=(e,t,r)=>r,fp=(e,t,r,n)=>n,fg=nd(d9,e=>(0,an.default)(e,e=>e.coordinate)),fy=nd([dE,fd,ff,fp],dx),fm=nd([fy,dR],d_),fv=nd([dE,fd,ff,fp],dO),fb=nd([ak,aP,a9,a$,d9,fp,fv,dS],dj),fw=nd([fy,fb],(e,t)=>{var r;return null!=(r=e.coordinate)?r:t}),fx=nd(d9,fm,dv),f_=nd([fv,fm,c3,uK,fx,dS,fd],dT),fj=nd([fy],e=>({isActive:e.active,activeIndex:e.index})),fO=nd([(e,t)=>t,a9,u$,uF,d6,d9,fg,a$],(e,t,r,n,i,a,o,s)=>{if(e&&t&&n&&i&&a){var l=(c=e.chartX,u=e.chartY,"horizontal"===t||"vertical"===t?c>=s.left&&c<=s.left+s.width&&u>=s.top&&u<=s.top+s.height?{x:c,y:u}:null:r?((e,t)=>{var r,{x:n,y:i}=e,{radius:a,angle:o}=((e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=Math.acos((r-i)/o);return n>a&&(s=2*Math.PI-s),{radius:o,angle:180*s/Math.PI,angleInRadian:s}})({x:n,y:i},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||0===a)return null;var{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.min(Math.floor(t/360),Math.floor(r/360));return{startAngle:t-360*n,endAngle:r-360*n}})(t),h=o;if(c<=u){for(;h>u;)h-=360;for(;h<c;)h+=360;r=h>=c&&h<=u}else{for(;h>c;)h-=360;for(;h<u;)h+=360;r=h>=u&&h<=c}return r?af(af({},t),{},{radius:a,angle:((e,t)=>{var{startAngle:r,endAngle:n}=t;return e+360*Math.min(Math.floor(r/360),Math.floor(n/360))})(h,t)}):null})({x:c,y:u},r):null);if(l){var c,u,h=((e,t,r,n,i)=>{var a,o=-1,s=null!=(a=null==t?void 0:t.length)?a:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&1e-6>=Math.abs(Math.abs(i[1]-i[0])-360))for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,h=l>=s-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(il(u-c)!==il(h-u)){var f=[];if(il(h-u)===il(i[1]-i[0])){d=h;var p=u+i[1]-i[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var g=h+i[1]-i[0];f[0]=Math.min(u,(g+u)/2),f[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>y[0]&&e<=y[1]||e>=f[0]&&e<=f[1]){({index:o}=r[l]);break}}else{var m=Math.min(c,h),v=Math.max(c,h);if(e>(m+u)/2&&e<=(v+u)/2){({index:o}=r[l]);break}}}else if(t){for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:o}=t[b]);break}}return o})("horizontal"===t?l.x:"vertical"===t?l.y:"centric"===t?l.angle:l.radius,o,a,n,i),d=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,{radius:o}=n;return ab(ab(ab({},n),ag(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return ab(ab(ab({},n),ag(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,a,h,l);return{activeIndex:String(h),activeCoordinate:d}}}}),fS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fE=nS("mouseClick"),fk=ia();fk.startListening({actionCreator:fE,effect:(e,t)=>{var r=e.payload,n=fO(t.getState(),fS(r));(null==n?void 0:n.activeIndex)!=null&&t.dispatch(iK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var fP=nS("mouseMove"),fT=ia();function fA(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}fT.startListening({actionCreator:fP,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=dm(n,n.tooltip.settings.shared),a=fO(n,fS(r));"axis"===i&&((null==a?void 0:a.activeIndex)!=null?t.dispatch(iz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(iF()))}});var fM=nR({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:nA()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:nA()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:nA()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:nA()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:nA()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:nA()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&1>=Math.abs(n-a[0]))return;var o=[...a,n].slice(-3);e.yAxis[r]=fC(fC({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:fI,removeXAxis:fD,addYAxis:fR,removeYAxis:f$,addZAxis:fU,removeZAxis:fL,updateYAxisWidth:fB}=fM.actions,fF=fM.reducer,fq=nR({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:nA()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=r5(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:nA()},removeCartesianGraphicalItem:{reducer(e,t){var r=r5(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:nA()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:nA()},removePolarGraphicalItem:{reducer(e,t){var r=r5(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:nA()}}}),{addCartesianGraphicalItem:fz,replaceCartesianGraphicalItem:fK,removeCartesianGraphicalItem:fW,addPolarGraphicalItem:fV,removePolarGraphicalItem:fH}=fq.actions,fG=fq.reducer,fJ=nR({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=r5(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=r5(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=r5(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:fY,removeDot:fX,addArea:fZ,removeArea:fQ,addLine:f0,removeLine:f1}=fJ.actions,f2=fJ.reducer,f5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},f3=nR({name:"brush",initialState:f5,reducers:{setBrushSettings:(e,t)=>null==t.payload?f5:t.payload}}),{setBrushSettings:f6}=f3.actions,f4=f3.reducer,f8=nR({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:nA()},removeLegendPayload:{reducer(e,t){var r=r5(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:nA()}}}),{setLegendSize:f7,setLegendSettings:f9,addLegendPayload:pe,removeLegendPayload:pt}=f8.actions,pr=f8.reducer,pn={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},pi=nR({name:"rootProps",initialState:pn,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!=(r=t.payload.barGap)?r:pn.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),pa=pi.reducer,{updateOptions:po}=pi.actions,ps=nR({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pl,removeRadiusAxis:pc,addAngleAxis:pu,removeAngleAxis:ph}=ps.actions,pd=ps.reducer,pf=nR({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:pp}=pf.actions,pg=pf.reducer,py=nS("keyDown"),pm=nS("focus"),pv=ia();pv.startListening({actionCreator:py,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=Number(d_(n,dR(r))),o=d9(r);if("Enter"===i){var s=fb(r,"axis","hover",String(n.index));t.dispatch(iV({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:s}));return}var l=a+("ArrowRight"===i?1:-1)*("left-to-right"===df(r)?1:-1);if(null!=o&&!(l>=o.length)&&!(l<0)){var c=fb(r,"axis","hover",String(l));t.dispatch(iV({active:!0,activeIndex:l.toString(),activeDataKey:void 0,activeCoordinate:c}))}}}}}),pv.startListening({actionCreator:pm,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=fb(r,"axis","hover",String("0"));t.dispatch(iV({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var pb=nS("externalEvent"),pw=ia();pw.startListening({actionCreator:pb,effect:(e,t)=>{if(null!=e.payload.handler){var r=t.getState(),n={activeCoordinate:fc(r),activeDataKey:fo(r),activeIndex:fi(r),activeLabel:fa(r),activeTooltipIndex:fi(r),isTooltipActive:fu(r)};e.payload.handler(n,e.payload.reactEvent)}}});var px=nd([dE],e=>e.tooltipItemPayloads),p_=nd([px,dS,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.dataKey===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),pj=nS("touchMove"),pO=ia();pO.startListening({actionCreator:pj,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=dm(n,n.tooltip.settings.shared);if("axis"===i){var a=fO(n,fS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(null==a?void 0:a.activeIndex)!=null&&t.dispatch(iz({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(aM),u=null!=(o=l.getAttribute(aI))?o:void 0,h=p_(t.getState(),c,u);t.dispatch(iL({activeDataKey:u,activeIndex:c,activeCoordinate:h}))}}});var pS=nR({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:pE,replaceErrorBar:pk,removeErrorBar:pP}=pS.actions,pT=pS.reducer,pA={devToolsEnabled:!1,isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout)},pN=nb({brush:f4,cartesianAxis:fF,chartData:iZ,errorBars:pT,graphicalItems:fG,layout:i3,legend:pr,options:i_,polarAxis:pd,polarOptions:pg,referenceElements:f2,rootProps:pa,tooltip:iH}),pC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart";return function(e){let t,r,n,i=function(e){let{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{},a=new nE;return t&&("boolean"==typeof t?a.push(nj):a.push(n_(t.extraArgument))),a},{reducer:a,middleware:o,devTools:s=!0,duplicateMiddlewareCheck:l=!0,preloadedState:c,enhancers:u}=e||{};if("function"==typeof a)t=a;else if(nv(a))t=nb(a);else throw Error(io(1));r="function"==typeof o?o(i):i();let h=nw;s&&(h=nO({trace:!1,..."object"==typeof s&&s}));let d=(n=function(...e){return t=>(r,n)=>{let i=t(r,n),a=()=>{throw Error(np(15))},o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)};return a=nw(...e.map(e=>e(o)))(i.dispatch),{...i,dispatch:a}}}(...r),function(e){let{autoBatch:t=!0}=e??{},r=new nE(n);return t&&r.push(nC("object"==typeof t?t:void 0)),r});return function e(t,r,n){if("function"!=typeof t)throw Error(np(2));if("function"==typeof r&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(np(0));if("function"==typeof r&&void 0===n&&(n=r,r=void 0),void 0!==n){if("function"!=typeof n)throw Error(np(1));return n(e)(t,r)}let i=t,a=r,o=new Map,s=o,l=0,c=!1;function u(){s===o&&(s=new Map,o.forEach((e,t)=>{s.set(t,e)}))}function h(){if(c)throw Error(np(3));return a}function d(e){if("function"!=typeof e)throw Error(np(4));if(c)throw Error(np(5));let t=!0;u();let r=l++;return s.set(r,e),function(){if(t){if(c)throw Error(np(6));t=!1,u(),s.delete(r),o=null}}}function f(e){if(!nv(e))throw Error(np(7));if(void 0===e.type)throw Error(np(8));if("string"!=typeof e.type)throw Error(np(17));if(c)throw Error(np(9));try{c=!0,a=i(a,e)}finally{c=!1}return(o=s).forEach(e=>{e()}),e}return f({type:nm.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw Error(np(10));i=e,f({type:nm.REPLACE})},[ng]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(np(11));function t(){e.next&&e.next(h())}return t(),{unsubscribe:d(t)}},[ng](){return this}}}}}(t,c,h(..."function"==typeof u?u(d):d()))}({reducer:pN,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([fk.middleware,fT.middleware,pv.middleware,pw.middleware,pO.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(nC({type:"raf"}))},devTools:pA.devToolsEnabled&&{serialize:{replacer:fA},name:"recharts-".concat(t)}})};function pM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=aB(),a=(0,B.useRef)(null);return i?r:(null==a.current&&(a.current=pC(t,n)),B.createElement(iN,{context:i4,store:a.current},r))}var pI=e=>{var{chartData:t}=e,r=i7(),n=aB();return(0,B.useEffect)(()=>n?()=>{}:(r(iJ(t)),()=>{r(iJ(void 0))}),[t,r,n]),null};function pD(e){var{layout:t,margin:r}=e,n=i7(),i=aB();return(0,B.useEffect)(()=>{i||(n(i1(t)),n(i0(r)))},[n,i,t,r]),null}function pR(e){var t=i7();return(0,B.useEffect)(()=>{t(po(e))},[t,e]),null}function p$(e){var t=i7();return(0,B.useEffect)(()=>{t(pp(e))},[t,e]),null}var pU=()=>ar(e=>e.rootProps.accessibilityLayer),pL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pB(e){return"string"==typeof e&&pL.includes(e)}var pF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pq(e){return"string"==typeof e&&pF.includes(e)}function pz(e){return"string"==typeof e&&e.startsWith("data-")}function pK(e){return Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return pq(t)||pz(t)}))}function pW(e){return null==e?null:(0,B.isValidElement)(e)&&"object"==typeof e.props&&null!==e.props?pK(e.props):"object"!=typeof e||Array.isArray(e)?null:pK(e)}function pV(e){return Object.fromEntries(Object.entries(e).filter(e=>{var[t]=e;return pq(t)||pz(t)||pB(t)}))}var pH=["children","width","height","viewBox","className","style","title","desc"];function pG(){return(pG=Object.assign.bind()).apply(null,arguments)}var pJ=(0,B.forwardRef)((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,pH),h=a||{width:n,height:i,x:0,y:0},d=az("recharts-surface",o);return B.createElement("svg",pG({},pV(u),{className:d,width:n,height:i,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),B.createElement("title",null,l),B.createElement("desc",null,c),r)}),pY=["children"];function pX(){return(pX=Object.assign.bind()).apply(null,arguments)}var pZ={width:"100%",height:"100%",display:"block"},pQ=(0,B.forwardRef)((e,t)=>{var r,n,i=ar(ak),a=ar(aP),o=pU();if(!aZ(i)||!aZ(a))return null;var{children:s,otherAttributes:l,title:c,desc:u}=e;return r="number"==typeof l.tabIndex?l.tabIndex:o?0:void 0,n="string"==typeof l.role?l.role:o?"application":void 0,B.createElement(pJ,pX({},l,{title:c,desc:u,role:n,tabIndex:r,width:i,height:a,style:pZ,ref:t}),s)}),p0=e=>{var{children:t}=e,r=ar(aq);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return B.createElement(pJ,{width:n,height:i,x:o,y:a},t)},p1=(0,B.forwardRef)((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,pY);return aB()?B.createElement(p0,null,r):B.createElement(pQ,pX({ref:t},n),r)}),p2=new(e.i(78492)).default,p5="recharts.syncEvent.tooltip",p3="recharts.syncEvent.brush";function p6(e){return e.tooltip.syncInteraction}var p4=["x","y"];function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p9=()=>{},ge=(0,B.createContext)(null),gt=(0,B.createContext)(null);function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gn(){return(gn=Object.assign.bind()).apply(null,arguments)}var gi=()=>{var e,t,r,n,i,a,o,s,l,c,u,h;return e=i7(),(0,B.useEffect)(()=>{e(ij())},[e]),t=ar(ub),r=ar(ux),n=i7(),i=ar(uw),a=ar(d9),o=ar(a9),s=a8(),l=ar(e=>e.rootProps.className),(0,B.useEffect)(()=>{if(null==t)return p9;var e=(e,l,c)=>{if(r!==c&&t===e){if("index"===i){if(s&&null!=l&&null!=(u=l.payload)&&u.coordinate&&l.payload.sourceViewBox){var u,h,d=l.payload.coordinate,{x:f,y:p}=d,g=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(d,p4),{x:y,y:m,width:v,height:b}=l.payload.sourceViewBox,w=p7(p7({},g),{},{x:s.x+(v?(f-y)/v:0)*s.width,y:s.y+(b?(p-m)/b:0)*s.height});n(p7(p7({},l),{},{payload:p7(p7({},l.payload),{},{coordinate:w})}))}else n(l);return}if(null!=a){if("function"==typeof i){var x=i(a,{activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate});h=a[x]}else"value"===i&&(h=a.find(e=>String(e.value)===l.payload.label));var{coordinate:_}=l.payload;if(null==h||!1===l.payload.active||null==_||null==s)return void n(iW({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));var{x:j,y:O}=_,S=Math.min(j,s.x+s.width),E=Math.min(O,s.y+s.height),k={x:"horizontal"===o?h.coordinate:S,y:"horizontal"===o?E:h.coordinate};n(iW({active:l.payload.active,coordinate:k,dataKey:l.payload.dataKey,index:String(h.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox}))}}};return p2.on(p5,e),()=>{p2.off(p5,e)}},[l,n,r,t,i,a,o,s]),c=ar(ub),u=ar(ux),h=i7(),(0,B.useEffect)(()=>{if(null==c)return p9;var e=(e,t,r)=>{u!==r&&c===e&&h(iY(t))};return p2.on(p3,e),()=>{p2.off(p3,e)}},[h,u,c]),null};function ga(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var go=(0,B.forwardRef)((e,t)=>{var r,n,i=(0,B.useRef)(null),[a,o]=(0,B.useState)({containerWidth:ga(null==(r=e.style)?void 0:r.width),containerHeight:ga(null==(n=e.style)?void 0:n.height)}),s=(0,B.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,B.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();s(r,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;s(t,r)});a.observe(e),i.current=a}},[t,s]);return(0,B.useEffect)(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[s]),B.createElement(B.Fragment,null,B.createElement(oe,{width:a.containerWidth,height:a.containerHeight}),B.createElement("div",gn({ref:l},e)))}),gs=(0,B.forwardRef)((e,t)=>{var{width:r,height:n}=e,[i,a]=(0,B.useState)({containerWidth:ga(r),containerHeight:ga(n)}),o=(0,B.useCallback)((e,t)=>{a(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),s=(0,B.useCallback)(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();o(r,n)}},[t,o]);return B.createElement(B.Fragment,null,B.createElement(oe,{width:i.containerWidth,height:i.containerHeight}),B.createElement("div",gn({ref:s},e)))}),gl=(0,B.forwardRef)((e,t)=>{var{width:r,height:n}=e;return B.createElement(B.Fragment,null,B.createElement(oe,{width:r,height:n}),B.createElement("div",gn({ref:t},e)))}),gc=(0,B.forwardRef)((e,t)=>{var{width:r,height:n}=e;return iu(r)||iu(n)?B.createElement(gs,gn({},e,{ref:t})):B.createElement(gl,gn({},e,{ref:t}))}),gu=(0,B.forwardRef)((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:h,onMouseUp:d,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:y,width:m,responsive:v,dispatchTouchEvents:b=!0}=e,w=(0,B.useRef)(null),x=i7(),[_,j]=(0,B.useState)(null),[O,S]=(0,B.useState)(null),E=function(){var e=i7(),[t,r]=(0,B.useState)(null),n=ar(aT);return(0,B.useEffect)(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;aX(r)&&r!==n&&e(i5(r))}},[t,e,n]),r}(),k=a3(),P=(null==k?void 0:k.width)>0?k.width:m,T=(null==k?void 0:k.height)>0?k.height:i,A=(0,B.useCallback)(e=>{E(e),"function"==typeof t&&t(e),j(e),S(e),null!=e&&(w.current=e)},[E,t,j,S]),N=(0,B.useCallback)(e=>{x(fE(e)),x(pb({handler:a,reactEvent:e}))},[x,a]),C=(0,B.useCallback)(e=>{x(fP(e)),x(pb({handler:c,reactEvent:e}))},[x,c]),M=(0,B.useCallback)(e=>{x(iF()),x(pb({handler:u,reactEvent:e}))},[x,u]),I=(0,B.useCallback)(e=>{x(fP(e)),x(pb({handler:h,reactEvent:e}))},[x,h]),D=(0,B.useCallback)(()=>{x(pm())},[x]),R=(0,B.useCallback)(e=>{x(py(e.key))},[x]),$=(0,B.useCallback)(e=>{x(pb({handler:o,reactEvent:e}))},[x,o]),U=(0,B.useCallback)(e=>{x(pb({handler:s,reactEvent:e}))},[x,s]),L=(0,B.useCallback)(e=>{x(pb({handler:l,reactEvent:e}))},[x,l]),F=(0,B.useCallback)(e=>{x(pb({handler:d,reactEvent:e}))},[x,d]),q=(0,B.useCallback)(e=>{x(pb({handler:g,reactEvent:e}))},[x,g]),z=(0,B.useCallback)(e=>{b&&x(pj(e)),x(pb({handler:p,reactEvent:e}))},[x,b,p]),K=(0,B.useCallback)(e=>{x(pb({handler:f,reactEvent:e}))},[x,f]);return B.createElement(ge.Provider,{value:_},B.createElement(gt.Provider,{value:O},B.createElement(!0===v?go:gc,{width:null!=P?P:null==y?void 0:y.width,height:null!=T?T:null==y?void 0:y.height,className:az("recharts-wrapper",n),style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({position:"relative",cursor:"default",width:P,height:T},y),onClick:N,onContextMenu:$,onDoubleClick:U,onFocus:D,onKeyDown:R,onMouseDown:L,onMouseEnter:C,onMouseLeave:M,onMouseMove:I,onMouseUp:F,onTouchEnd:K,onTouchMove:z,onTouchStart:q,ref:A},B.createElement(gi,null),r)))}),gh=nd([a$],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),gd=nd([gh,ak,aP],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),gf=(0,B.createContext)(void 0),gp=e=>{var{children:t}=e,[r]=(0,B.useState)("".concat(ig("recharts"),"-clip")),n=ar(gd);if(null==n)return null;var{x:i,y:a,width:o,height:s}=n;return B.createElement(gf.Provider,{value:r},B.createElement("defs",null,B.createElement("clipPath",{id:r},B.createElement("rect",{x:i,y:a,height:s,width:o}))),t)},gg=["width","height","responsive","children","className","style","compact","title","desc"],gy=(0,B.forwardRef)((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:c,desc:u}=e,h=pK(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,gg));return l?B.createElement(B.Fragment,null,B.createElement(oe,{width:r,height:n}),B.createElement(p1,{otherAttributes:h,title:c,desc:u},a)):B.createElement(gu,{className:o,style:s,width:r,height:n,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},B.createElement(p1,{otherAttributes:h,title:c,desc:u,ref:t},B.createElement(gp,null,a)))});function gm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gv(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).reduce((e,r)=>(void 0===e[r]&&void 0!==t[r]&&(e[r]=t[r]),e),r)}var gb=["layout"];function gw(){return(gw=Object.assign.bind()).apply(null,arguments)}var gx={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},g_=(0,B.forwardRef)(function(e,t){var r,n=gv(e.categoricalChartProps,gx),{layout:i}=n,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,gb),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e;return B.createElement(pM,{preloadedState:{options:{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0}},reduxStoreName:null!=(r=n.id)?r:o},B.createElement(pI,{chartData:n.data}),B.createElement(pD,{layout:i,margin:n.margin}),B.createElement(pR,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),B.createElement(p$,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),B.createElement(gy,gw({},a,{ref:t})))}),gj=["item"],gO={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},gS=(0,B.forwardRef)((e,t)=>{var r=gv(e,gO);return B.createElement(g_,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gj,tooltipPayloadSearcher:iw,categoricalChartProps:r,ref:t})}),gE=e=>e.graphicalItems.polarItems,gk=nd([uU,uL],u8),gP=nd([gE,u3,gk],u9),gT=nd([gP],hi),gA=nd([gT,c6],ho),gN=nd([gA,u3,gP],hl);nd([gA,u3,gP],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:aw(e,null!=(n=t.dataKey)?n:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:aw(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var gC=()=>void 0,gM=nd([gA,u3,gP,hj,uU],hS),gI=nd([u3,hw,hx,gC,gM,gC,a9,uU],hq),gD=nd([u3,a9,gA,gN,um,uU,gI],hW),gR=nd([gD,u3,hG],hY);function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}nd([u3,gD,gR,uU],hZ);var gL=nd([gE,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),gB=[],gF=(e,t,r)=>(null==r?void 0:r.length)===0?gB:r,gq=nd([c6,gL,gF],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>gU(gU({},t.presentationProps),e.props))),null!=n))return n}),gz=nd([gq,gL,gF],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,o=aw(e,t.nameKey,t.name);return a=null!=r&&null!=(i=r[n])&&null!=(i=i.props)&&i.fill?r[n].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:aE(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),gK=nd([gq,gL,gF,a$],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:h,nameKey:d,tooltipType:f}=i,p=Math.abs(i.minAngle),g=il(u-c)*Math.min(Math.abs(u-c),360),y=Math.abs(g),m=a.length<=1?0:null!=(t=i.paddingAngle)?t:0,v=a.filter(e=>0!==aw(e,h,0)).length,b=y-v*p-(y>=360?v:v-1)*m,w=a.reduce((e,t)=>{var r=aw(t,h,0);return e+(ih(r)?r:0)},0);return w>0&&(r=a.map((e,t)=>{var r,a=aw(e,h,0),u=aw(e,d,t),y=((e,t,r)=>{var n,{top:i,left:a,width:o,height:s}=t,l=ay(o,s),c=a+iy(e.cx,o,o/2),u=i+iy(e.cy,s,s/2),h=iy(e.innerRadius,l,0);return{cx:c,cy:u,innerRadius:h,outerRadius:(n=e.outerRadius,"function"==typeof n?iy(n(r),l,.8*l):iy(n,l,.8*l)),maxRadius:e.maxRadius||Math.sqrt(o*o+s*s)/2}})(i,s,e),v=(ih(a)?a:0)/w,x=vT(vT({},e),o&&o[t]&&o[t].props),_=(r=t?n.endAngle+il(g)*m*(0!==a):c)+il(g)*((0!==a?p:0)+v*b),j=(r+_)/2,O=(y.innerRadius+y.outerRadius)/2,S=[{name:u,value:a,payload:x,dataKey:h,type:f}],E=ag(y.cx,y.cy,O,j);return n=vT(vT(vT(vT({},i.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:S,midAngle:j,middleRadius:O,tooltipPosition:E},x),y),{},{value:a,startAngle:r,endAngle:_,payload:x,paddingAngle:il(g)*m})})),r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),gW=["children","className"];function gV(){return(gV=Object.assign.bind()).apply(null,arguments)}var gH=B.forwardRef((e,t)=>{var{children:r,className:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,gW),a=az("recharts-layer",n);return B.createElement("g",gV({className:a},pV(i),{ref:t}),r)});function gG(e){this._context=e}function gJ(e){return new gG(e)}gG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};let gY=Math.PI,gX=2*gY,gZ=gX-1e-6;function gQ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class g0{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?gQ:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return gQ;let r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e*=1,t*=1,r*=1,n*=1,(i*=1)<0)throw Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=r-e,l=n-t,c=a-e,u=o-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>1e-6)if(Math.abs(u*s-l*c)>1e-6&&i){let d=r-a,f=n-o,p=s*s+l*l,g=Math.sqrt(p),y=Math.sqrt(h),m=i*Math.tan((gY-Math.acos((p+h-(d*d+f*f))/(2*g*y)))/2),v=m/y,b=m/g;Math.abs(v-1)>1e-6&&this._append`L${e+v*c},${t+v*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,n,i,a){if(e*=1,t*=1,r*=1,a=!!a,r<0)throw Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^a,h=a?n-i:i-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%gX+gX),h>gZ?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:h>1e-6&&this._append`A${r},${r},0,${+(h>=gY)},${u},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+n}h${-r}Z`}toString(){return this._}}function g1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new g0(t)}function g2(e){return e[0]}function g5(e){return e[1]}function g3(e,t){var r=as(!0),n=null,i=gJ,a=null,o=g1(s);function s(s){var l,c,u,h=(s=ao(s)).length,d=!1;for(null==n&&(a=i(u=o())),l=0;l<=h;++l)!(l<h&&r(c=s[l],l,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?g2:as(e),t="function"==typeof t?t:void 0===t?g5:as(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:as(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:as(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:as(!!e),s):r},s.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),s):i},s.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),s):n},s}function g6(e,t,r){var n=null,i=as(!0),a=null,o=gJ,s=null,l=g1(c);function c(c){var u,h,d,f,p,g=(c=ao(c)).length,y=!1,m=Array(g),v=Array(g);for(null==a&&(s=o(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===y)if(y=!y)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(m[d],v[d]);s.lineEnd(),s.areaEnd()}y&&(m[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(n?+n(f,u,c):m[u],r?+r(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return g3().defined(i).curve(o).context(a)}return e="function"==typeof e?e:void 0===e?g2:as(+e),t="function"==typeof t?t:void 0===t?as(0):as(+t),r="function"==typeof r?r:void 0===r?g5:as(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:as(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:as(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:as(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:as(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:as(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:as(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:as(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function g4(){}function g8(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function g7(e){this._context=e}function g9(e){this._context=e}function ye(e){this._context=e}g0.prototype,g7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:g8(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:g8(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},g9.prototype={areaStart:g4,areaEnd:g4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:g8(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:g8(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class yt{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function yr(e){this._context=e}yr.prototype={areaStart:g4,areaEnd:g4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e*=1,t*=1,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yn(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0);return((a<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs((a*i+o*n)/(n+i)))||0}function yi(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ya(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function yo(e){this._context=e}function ys(e){this._context=new yl(e)}function yl(e){this._context=e}function yc(e){this._context=e}function yu(e){var t,r,n=e.length-1,i=Array(n),a=Array(n),o=Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(t=0,a[n-1]=(e[n]+i[n-1])/2;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function yh(e,t){this._context=e,this._t=t}yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ya(this,this._t0,yi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t*=1,(e*=1)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ya(this,yi(this,r=yn(this,e,t)),r);break;default:ya(this,this._t0,r=yn(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(ys.prototype=Object.create(yo.prototype)).point=function(e,t){yo.prototype.point.call(this,t,e)},yl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=yu(e),i=yu(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e*=1,t*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var yd=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];pB(i)&&"function"==typeof a&&(n||(n={}),n[i]=e=>(a(t,r,e),null))}),n};function yf(){return(yf=Object.assign.bind()).apply(null,arguments)}function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var yy={curveBasisClosed:function(e){return new g9(e)},curveBasisOpen:function(e){return new ye(e)},curveBasis:function(e){return new g7(e)},curveBumpX:function(e){return new yt(e,!0)},curveBumpY:function(e){return new yt(e,!1)},curveLinearClosed:function(e){return new yr(e)},curveLinear:gJ,curveMonotoneX:function(e){return new yo(e)},curveMonotoneY:function(e){return new ys(e)},curveNatural:function(e){return new yc(e)},curveStep:function(e){return new yh(e,.5)},curveStepAfter:function(e){return new yh(e,1)},curveStepBefore:function(e){return new yh(e,0)}},ym=e=>aX(e.x)&&aX(e.y),yv=e=>e.x,yb=e=>e.y,yw=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?(e=>{var t,{type:r="linear",points:n=[],baseLine:i,layout:a,connectNulls:o=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(ib(e));return("curveMonotone"===r||"curveBump"===r)&&t?yy["".concat(r).concat("vertical"===t?"Y":"X")]:yy[r]||gJ})(r,a),l=o?n.filter(ym):n;if(Array.isArray(i)){var c=o?i.filter(e=>ym(e)):i,u=l.map((e,t)=>yg(yg({},e),{},{base:c[t]}));return(t="vertical"===a?g6().y(yb).x1(yv).x0(e=>e.base.x):g6().x(yv).y1(yb).y0(e=>e.base.y)).defined(ym).curve(s),t(u)}return(t="vertical"===a&&ih(i)?g6().y(yb).x1(yv).x0(i):ih(i)?g6().x(yv).y1(yb).y0(i):g3().x(yv).y(yb)).defined(ym).curve(s),t(l)})(e):n;return B.createElement("path",yf({},pK(e),((e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,B.isValidElement)(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{pB(e)&&(n[e]=t||(t=>r[e](r,t)))}),n})(e),{className:az("recharts-curve",t),d:null===a?void 0:a,ref:i}))};function yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var y_=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yx(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),yj=new class{constructor(e){!function(e,t,r){var n;(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(y_.cacheSize),yO={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yS="recharts_measurement_span",yE=(e,t)=>{try{var r=document.getElementById(yS);r||((r=document.createElement("span")).setAttribute("id",yS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,yO,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(e){return{width:0,height:0}}},yk=function(e){var t,r,n,i,a,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||pA.isSsr)return{width:0,height:0};if(!y_.enableCache)return yE(e,s);var l=(t=s.fontSize||"",r=s.fontFamily||"",n=s.fontWeight||"",i=s.fontStyle||"",a=s.letterSpacing||"",o=s.textTransform||"","".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o)),c=yj.get(l);if(c)return c;var u=yE(e,s);return yj.set(l,u),u},yP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yA=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},yM=Object.keys(yC);class yI{static parse(e){var t,[,r,n]=null!=(t=yN.exec(e))?t:[];return new yI(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,ic(e)&&(this.unit=""),""===t||yA.test(t)||(this.num=NaN,this.unit=""),yM.includes(t)&&(this.num=e*yC[t],this.unit="px")}add(e){return this.unit!==e.unit?new yI(NaN,""):new yI(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new yI(NaN,""):new yI(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new yI(NaN,""):new yI(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new yI(NaN,""):new yI(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ic(this.num)}}function yD(e){if(e.includes("NaN"))return"NaN";for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!=(r=yP.exec(t))?r:[],o=yI.parse(null!=n?n:""),s=yI.parse(null!=a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return"NaN";t=t.replace(yP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,h,d]=null!=(c=yT.exec(t))?c:[],f=yI.parse(null!=u?u:""),p=yI.parse(null!=d?d:""),g="+"===h?f.add(p):f.subtract(p);if(g.isNaN())return"NaN";t=t.replace(yT,g.toString())}return t}var yR=/\(([^()]*)\)/;function y$(e){var t=function(e){try{var t;return t=e.replace(/\s+/g,""),t=function(e){for(var t,r=e;null!=(t=yR.exec(r));){var[,n]=t;r=r.replace(yR,yD(n))}return r}(t),t=yD(t)}catch(e){return"NaN"}}(e.slice(5,-1));return"NaN"===t?"":t}var yU=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yL=["dx","dy","angle","className","breakAll"];function yB(){return(yB=Object.assign.bind()).apply(null,arguments)}function yF(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yq=/[ \f\n\r\t\v\u2028\u2029]+/,yz=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];null!=t&&(i=r?t.toString().split(""):t.toString().split(yq));var a=i.map(e=>({word:e,width:yk(e,n).width})),o=r?0:yk(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch(e){return null}},yK=e=>[{words:null==e?[]:e.toString().split(yq)}],yW="#808080",yV=(0,B.forwardRef)((e,t)=>{var r,{x:n=0,y:i=0,lineHeight:a="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=yW}=e,h=yF(e,yU),d=(0,B.useMemo)(()=>(e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!pA.isSsr){var s=yz({breakAll:a,children:n,style:i});if(!s)return yK(n);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,n,i)=>{var a,{maxLines:o,children:s,style:l,breakAll:c}=e,u=ih(o),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t)=>{var{word:a,width:o}=t,s=e[e.length-1];return s&&(null==n||i||s.width+o+r<Number(n))?(s.words.push(a),s.width+=o+r):e.push({words:[a],width:o}),e},[])},d=h(t),f=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!u||i||!(d.length>o||f(d).width>Number(n)))return d;for(var p=e=>{var t=h(yz({breakAll:c,style:l,children:s.slice(0,e)+"…"}).wordsWithComputedWidth);return[t.length>o||f(t).width>Number(n),t]},g=0,y=s.length-1,m=0;g<=y&&m<=s.length-1;){var v=Math.floor((g+y)/2),[b,w]=p(v-1),[x]=p(v);if(b||x||(g=v+1),b&&x&&(y=v-1),!b&&x){a=w;break}m++}return a||d})({breakAll:a,children:n,maxLines:o,style:i},l,c,t,r)}return yK(n)})({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:s,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,s,h.style,h.width]),{dx:f,dy:p,angle:g,className:y,breakAll:m}=h,v=yF(h,yL);if(!id(n)||!id(i)||0===d.length)return null;var b=n+(ih(f)?f:0),w=i+(ih(p)?p:0);switch(c){case"start":r=y$("calc(".concat(o,")"));break;case"middle":r=y$("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:r=y$("calc(".concat(d.length-1," * -").concat(a,")"))}var x=[];if(s){var _=d[0].width,{width:j}=h;x.push("scale(".concat(ih(j)?j/_:1,")"))}return g&&x.push("rotate(".concat(g,", ").concat(b,", ").concat(w,")")),x.length&&(v.transform=x.join(" ")),B.createElement("text",yB({},pV(v),{ref:t,x:b,y:w,className:az("recharts-text",y),textAnchor:l,fill:u.includes("url")?yW:u}),d.map((e,t)=>{var n=e.words.join(m?"":" ");return B.createElement("tspan",{x:b,dy:0===t?r:a,key:"".concat(n,"-").concat(t)},n)}))});yV.displayName="Text";var yH=e=>null;yH.displayName="Cell";var yG=e.i(35313),yJ=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",yY=null,yX=null,yZ=e=>{if(e===yY&&Array.isArray(yX))return yX;var t=[];return B.Children.forEach(e,e=>{null!=e&&((0,yG.isFragment)(e)?t=t.concat(yZ(e.props.children)):t.push(e))}),yX=t,yY=e,t};function yQ(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>yJ(e)):[yJ(t)],yZ(e).forEach(e=>{var t=(0,is.default)(e,"type.displayName")||(0,is.default)(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}var y0=e.i(7328);function y1(){}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y3=(e,t,r)=>e.map(e=>"".concat(e.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase()))," ").concat(t,"ms ").concat(r)).join(","),y6=(e,t)=>Object.keys(t).reduce((r,n)=>y5(y5({},r),{},{[n]:e(n,t[n])}),{});function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var y7=(e,t,r)=>e+(t-e)*r,y9=e=>{var{from:t,to:r}=e;return t!==r},me=(e,t,r)=>{var n=y6((t,r)=>{if(y9(r)){var[n,i]=e(r.from,r.to,r.velocity);return y8(y8({},r),{},{from:n,velocity:i})}return r},t);return r<1?y6((e,t)=>y9(t)?y8(y8({},t),{},{velocity:y7(t.velocity,n[e].velocity,r),from:y7(t.from,n[e].from,r)}):t,t):me(e,n,r-1)},mt=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],mr=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),mn=(e,t)=>r=>mr(mt(e,t),r),mi=function(){let e,t;for(var r,n,i,a,o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];if(1===s.length)switch(s[0]){case"linear":[r,i,n,a]=[0,0,1,1];break;case"ease":[r,i,n,a]=[.25,.1,.25,1];break;case"ease-in":[r,i,n,a]=[.42,0,1,1];break;case"ease-out":[r,i,n,a]=[.42,0,.58,1];break;case"ease-in-out":[r,i,n,a]=[0,0,.58,1];break;default:var c=s[0].split("(");"cubic-bezier"===c[0]&&4===c[1].split(")")[0].split(",").length&&([r,i,n,a]=c[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===s.length&&([r,i,n,a]=s);var u=mn(r,n),h=mn(i,a),d=(e=r,t=n,r=>mr([...mt(e,t).map((e,t)=>e*t).slice(1),0],r)),f=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=u(r)-t,a=d(r);if(1e-4>Math.abs(i-t)||a<1e-4)break;r=f(r-i/a)}return h(r)};return p.isStepper=!1,p},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*r)*n/1e3,s=a*n/1e3+e;return 1e-4>Math.abs(s-i)&&1e-4>Math.abs(o)?[i,0]:[s,o]};return i.isStepper=!0,i.dt=n,i};class mo{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}var ms=(0,B.createContext)(function(){var e,t,r,n,i;return e=new mo,t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var[o,...s]=a;if("number"==typeof o){n=e.setTimeout(i.bind(null,s),o);return}i(o),n=e.setTimeout(i.bind(null,s));return}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}),ml={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mc={t:0},mu={t:1};function mh(e){var t,r,n,i=gv(e,ml),{isActive:a,canBegin:o,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:h,children:d}=i,f=(t=i.animationId,r=i.animationManager,n=(0,B.useContext)(ms),(0,B.useMemo)(()=>null!=r?r:n(t),[t,r,n])),[p,g]=(0,B.useState)(a?mc:mu),y=(0,B.useRef)(null);return(0,B.useEffect)(()=>{a||g(mu)},[a]),(0,B.useEffect)(()=>{if(!a||!o)return y1;var e,t,r,n,i,d,p,m,v,b,w,x=(e=(e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mi(e);case"spring":return ma();default:if("cubic-bezier"===e.split("(")[0])return mi(e)}return"function"==typeof e?e:null})(l),t=f.getTimeoutController(),r=[Object.keys(mc),Object.keys(mu)].reduce((e,t)=>e.filter(e=>t.includes(e))),!0===e.isStepper?(i=r.reduce((e,t)=>y8(y8({},e),{},{[t]:{from:mc[t],velocity:0,to:mu[t]}}),{}),d=null,p=r=>{n||(n=r);var a=(r-n)/e.dt;i=me(e,i,a),g(y8(y8(y8({},mc),mu),y6((e,t)=>t.from,i))),n=r,Object.values(i).filter(y9).length&&(d=t.setTimeout(p))},()=>(d=t.setTimeout(p),()=>{d()})):(v=null,b=r.reduce((e,t)=>y8(y8({},e),{},{[t]:[mc[t],mu[t]]}),{}),w=r=>{m||(m=r);var n=(r-m)/s,i=y6((t,r)=>y7(...r,e(n)),b);if(g(y8(y8(y8({},mc),mu),i)),n<1)v=t.setTimeout(w);else{var a=y6((t,r)=>y7(...r,e(1)),b);g(y8(y8(y8({},mc),mu),a))}},()=>(v=t.setTimeout(w),()=>{v()})));return f.start([h,c,()=>{y.current=x()},s,u]),()=>{f.stop(),y.current&&y.current(),u()}},[a,o,s,l,c,h,u,f]),d(p.t)}function md(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=(0,B.useRef)(ig(t)),n=(0,B.useRef)(e);return n.current!==e&&(r.current=ig(t),n.current=e),r.current}var mf=["radius"],mp=["radius"];function mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mm(){return(mm=Object.assign.bind()).apply(null,arguments)}function mv(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mb=(e,t,r,n,i)=>{var a,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=+(n>=0&&r>=0||n<0&&r<0);if(o>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>o?o:i[h];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),a+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),a+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var d=Math.min(o,i);a="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+r-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*d,"\n            L ").concat(e+r,",").concat(t+n-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e+r-l*d,",").concat(t+n,"\n            L ").concat(e+l*d,",").concat(t+n,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*d," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},mw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mx=e=>{var t=gv(e,mw),r=(0,B.useRef)(null),[n,i]=(0,B.useState)(-1);(0,B.useEffect)(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(e){}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:h,animationDuration:d,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=(0,B.useRef)(s),m=(0,B.useRef)(l),v=(0,B.useRef)(a),b=(0,B.useRef)(o),w=md((0,B.useMemo)(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||0===s||0===l)return null;var x=az("recharts-rectangle",u);if(!g){var _=pV(t),{radius:j}=_,O=mv(_,mf);return B.createElement("path",mm({},O,{radius:"number"==typeof c?c:void 0,className:x,d:mb(a,o,s,l,c)}))}var S=y.current,E=m.current,k=v.current,P=b.current,T="0px ".concat(-1===n?1:n,"px"),A="".concat(n,"px 0px"),N=y3(["strokeDasharray"],d,"string"==typeof h?h:void 0);return B.createElement(mh,{animationId:w,key:w,canBegin:n>0,duration:d,easing:h,isActive:g,begin:f},e=>{var n,i=iv(S,s,e),u=iv(E,l,e),h=iv(k,a,e),d=iv(P,o,e);r.current&&(y.current=i,m.current=u,v.current=h,b.current=d),n=p?e>0?{transition:N,strokeDasharray:A}:{strokeDasharray:T}:{strokeDasharray:A};var f=pV(t),{radius:g}=f,w=mv(f,mp);return B.createElement("path",mm({},w,{radius:"number"==typeof c?c:void 0,className:x,d:mb(h,d,i,u,c),ref:r,style:my(my({},n),t.style)}))})};function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mO(){return(mO=Object.assign.bind()).apply(null,arguments)}var mS=(e,t,r,n,i)=>{var a=r-n;return"M ".concat(e,",").concat(t)+"L ".concat(e+r,",").concat(t)+"L ".concat(e+r-a/2,",").concat(t+i)+"L ".concat(e+r-a/2-n,",").concat(t+i)+"L ".concat(e,",").concat(t," Z")},mE={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mk=e=>{var t=gv(e,mE),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:h}=t,d=(0,B.useRef)(null),[f,p]=(0,B.useState)(-1),g=(0,B.useRef)(i),y=(0,B.useRef)(a),m=(0,B.useRef)(o),v=(0,B.useRef)(r),b=(0,B.useRef)(n),w=md(e,"trapezoid-");if((0,B.useEffect)(()=>{if(d.current&&d.current.getTotalLength)try{var e=d.current.getTotalLength();e&&p(e)}catch(e){}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||0===i&&0===a||0===o)return null;var x=az("recharts-trapezoid",s);if(!h)return B.createElement("g",null,B.createElement("path",mO({},pV(t),{className:x,d:mS(r,n,i,a,o)})));var _=g.current,j=y.current,O=m.current,S=v.current,E=b.current,k="0px ".concat(-1===f?1:f,"px"),P="".concat(f,"px 0px"),T=y3(["strokeDasharray"],c,l);return B.createElement(mh,{animationId:w,key:w,canBegin:f>0,duration:c,easing:l,isActive:h,begin:u},e=>{var s=iv(_,i,e),l=iv(j,a,e),c=iv(O,o,e),u=iv(S,r,e),h=iv(E,n,e);d.current&&(g.current=s,y.current=l,m.current=c,v.current=u,b.current=h);var f=e>0?{transition:T,strokeDasharray:P}:{strokeDasharray:k};return B.createElement("path",mO({},pV(t),{className:x,d:mS(u,h,s,l,c),ref:d,style:mj(mj({},f),t.style)}))})};function mP(){return(mP=Object.assign.bind()).apply(null,arguments)}var mT=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/ap,h=l?i:i+a*u,d=ag(t,r,c,h);return{center:d,circleTangency:ag(t,r,n,h),lineTangency:ag(t,r,c*Math.cos(u*ap),l?i-a*u:i),theta:u}},mA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=il(o-a)*Math.min(Math.abs(o-a),359.999),l=a+s,c=ag(t,r,i,a),u=ag(t,r,i,l),h="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(a>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(n>0){var d=ag(t,r,n,a),f=ag(t,r,n,l);h+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(a<=l),",\n            ").concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(t,",").concat(r," Z");return h},mN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mC=e=>{var t,r=gv(e,mN),{cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h,className:d}=r;if(o<a||u===h)return null;var f=az("recharts-sector",d),p=o-a,g=iy(s,p,0,!0);return t=g>0&&360>Math.abs(u-h)?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=il(c-l),{circleTangency:h,lineTangency:d,theta:f}=mT({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:y}=mT({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),m=s?Math.abs(l-c):Math.abs(l-c)-f-y;if(m<0)return o?"M ".concat(d.x,",").concat(d.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(-(2*a),",0\n      "):mA({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(d.x,",").concat(d.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var{circleTangency:b,lineTangency:w,theta:x}=mT({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:j,theta:O}=mT({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),S=s?Math.abs(l-c):Math.abs(l-c)-x-O;if(S<0&&0===a)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v})({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):mA({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:h}),B.createElement("path",mP({},pV(r),{className:f,d:t}))};let mM=Math.cos,mI=Math.sin,mD=Math.sqrt,mR=Math.PI,m$=2*mR;mD(3);let mU={draw(e,t){let r=mD(t/mR);e.moveTo(r,0),e.arc(0,0,r,0,m$)}},mL=mD(1/3),mB=2*mL,mF=mI(mR/10)/mI(7*mR/10),mq=mI(m$/10)*mF,mz=-mM(m$/10)*mF,mK=mD(3);mD(3);let mW=mD(3)/2,mV=1/mD(12),mH=(mV/2+1)*3;var mG=["type","size","sizeType"];function mJ(){return(mJ=Object.assign.bind()).apply(null,arguments)}function mY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mY(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var mZ={symbolCircle:mU,symbolCross:{draw(e,t){let r=mD(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},symbolDiamond:{draw(e,t){let r=mD(t/mB),n=r*mL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},symbolSquare:{draw(e,t){let r=mD(t),n=-r/2;e.rect(n,n,r,r)}},symbolStar:{draw(e,t){let r=mD(.8908130915292852*t),n=mq*r,i=mz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let t=1;t<5;++t){let a=m$*t/5,o=mM(a),s=mI(a);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*i,s*n+o*i)}e.closePath()}},symbolTriangle:{draw(e,t){let r=-mD(t/(3*mK));e.moveTo(0,2*r),e.lineTo(-mK*r,-r),e.lineTo(mK*r,-r),e.closePath()}},symbolWye:{draw(e,t){let r=mD(t/mH),n=r/2,i=r*mV,a=r*mV+r,o=-n;e.moveTo(n,i),e.lineTo(n,a),e.lineTo(o,a),e.lineTo(-.5*n-mW*i,mW*n+-.5*i),e.lineTo(-.5*n-mW*a,mW*n+-.5*a),e.lineTo(-.5*o-mW*a,mW*o+-.5*a),e.lineTo(-.5*n+mW*i,-.5*i-mW*n),e.lineTo(-.5*n+mW*a,-.5*a-mW*n),e.lineTo(-.5*o+mW*a,-.5*a-mW*o),e.closePath()}}},mQ=Math.PI/180,m0=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=mX(mX({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,mG)),{},{type:t,size:r,sizeType:n}),a="circle";"string"==typeof t&&(a=t);var{className:o,cx:s,cy:l}=i,c=pV(i);return s===+s&&l===+l&&r===+r?B.createElement("path",mJ({},c,{className:az("recharts-symbols",o),transform:"translate(".concat(s,", ").concat(l,")"),d:(()=>{var e,t=(e=a,mZ["symbol".concat(ib(e))]||mU),i=(function(e,t){let r=null,n=g1(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"==typeof e?e:as(e||mU),t="function"==typeof t?t:as(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:as(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:as(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i})().type(t).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*mQ;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,n,a))();if(null!==i)return i})()})):null};m0.registerSymbol=(e,t)=>{mZ["symbol".concat(ib(e))]=t};var m1=["option","shapeType","propTransformer","activeClassName","isActive"];function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m3(e,t){return m5(m5({},t),e)}function m6(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return B.createElement(mx,r);case"trapezoid":return B.createElement(mk,r);case"sector":return B.createElement(mC,r);case"symbols":if("symbols"===t)return B.createElement(m0,r);break;default:return null}}function m4(e){var t,{option:r,shapeType:n,propTransformer:i=m3,activeClassName:a="recharts-active-shape",isActive:o}=e,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,m1);if((0,B.isValidElement)(r))t=(0,B.cloneElement)(r,m5(m5({},s),(0,B.isValidElement)(r)?r.props:r));else if("function"==typeof r)t=r(s);else if((0,y0.default)(r)&&"boolean"!=typeof r){var l=i(r,s);t=B.createElement(m6,{shapeType:n,elementProps:l})}else t=B.createElement(m6,{shapeType:n,elementProps:s});return o?B.createElement(gH,{className:a},t):t}function m8(e){var{fn:t,args:r}=e,n=i7(),i=aB();return(0,B.useLayoutEffect)(()=>{if(!i){var e=t(r);return n(iR(e)),()=>{n(i$(e))}}},[t,r,n,i]),null}var m7=()=>{};function m9(e){var{legendPayload:t}=e,r=i7(),n=ar(a9);return(0,B.useLayoutEffect)(()=>"centric"!==n&&"radial"!==n?m7:(r(pe(t)),()=>{r(pt(t))}),[r,n,t]),null}var ve=null!=(U=B["useId".toString()])?U:()=>{var[e]=B.useState(()=>ig("uid-"));return e},vt=(0,B.createContext)(void 0),vr=e=>{var t,r,{id:n,type:i,children:a}=e,o=(t="recharts-".concat(i),r=ve(),n||(t?"".concat(t,"-").concat(r):r));return B.createElement(vt.Provider,{value:o},a(o))};function vn(e){var t=i7();return(0,B.useLayoutEffect)(()=>(t(fV(e)),()=>{t(fH(e))}),[t,e]),null}var vi=e.i(4178),va=["labelRef"];function vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vo(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vl(){return(vl=Object.assign.bind()).apply(null,arguments)}var vc=(0,B.createContext)(null),vu=(0,B.createContext)(null),vh=e=>"cx"in e&&ih(e.cx),vd={offset:5};function vf(e){var t,r,n,i,a,o=gv(e,vd),{viewBox:s,position:l,value:c,children:u,content:h,className:d="",textBreakAll:f,labelRef:p}=o,g=(t=(0,B.useContext)(vu),r=ar(u$),t||r),y=(n=(0,B.useContext)(vc),i=a8(),n||i),m=s||("center"===l?y:null!=g?g:y);if(!m||null==c&&null==u&&!(0,B.isValidElement)(h)&&"function"!=typeof h)return null;var v=vs(vs({},o),{},{viewBox:m});if((0,B.isValidElement)(h)){var{labelRef:b}=v,w=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(v,va);return(0,B.cloneElement)(h,w)}if("function"==typeof h){if(a=(0,B.createElement)(h,v),(0,B.isValidElement)(a))return a}else a=(e=>{var{value:t,formatter:r}=e,n=null==e.children?t:e.children;return"function"==typeof r?r(n):n})(o);var x=vh(m),_=pV(o);if(x&&("insideStart"===l||"insideEnd"===l||"end"===l))return((e,t,r,n,i)=>{var a,o,{offset:s,className:l}=e,{cx:c,cy:u,innerRadius:h,outerRadius:d,startAngle:f,endAngle:p,clockWise:g}=i,y=(h+d)/2,m=il(p-f)*Math.min(Math.abs(p-f),360),v=m>=0?1:-1;switch(t){case"insideStart":a=f+v*s,o=g;break;case"insideEnd":a=p-v*s,o=!g;break;case"end":a=p+v*s,o=g;break;default:throw Error("Unsupported position ".concat(t))}o=m<=0?o:!o;var b=ag(c,u,y,a),w=ag(c,u,y,a+(o?1:-1)*359),x="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(+!o,",\n    ").concat(w.x,",").concat(w.y),_=null==e.id?ig("recharts-radial-line-"):e.id;return B.createElement("text",vl({},n,{dominantBaseline:"central",className:az("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:_,d:x})),B.createElement("textPath",{xlinkHref:"#".concat(_)},r))})(o,l,a,_,m);var j=x?((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===r){var{x:u,y:h}=ag(n,i,o+t,c);return{x:u,y:h,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var{x:d,y:f}=ag(n,i,(a+o)/2,c);return{x:d,y:f,textAnchor:"middle",verticalAnchor:"middle"}})(m,o.offset,o.position):((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||vh(n)||(r=n);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,h=u*i,d=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,g=p*i,y=p>0?"end":"start",m=p>0?"start":"end";if("top"===a)return vs(vs({},{x:o+l/2,y:s-u*i,textAnchor:"middle",verticalAnchor:d}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return vs(vs({},{x:o+l/2,y:s+c+h,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return vs(vs({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var b={x:o+l+g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"};return vs(vs({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:c}:{})}var w=r?{width:l,height:c}:{};return"insideLeft"===a?vs({x:o+g,y:s+c/2,textAnchor:m,verticalAnchor:"middle"},w):"insideRight"===a?vs({x:o+l-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},w):"insideTop"===a?vs({x:o+l/2,y:s+h,textAnchor:"middle",verticalAnchor:f},w):"insideBottom"===a?vs({x:o+l/2,y:s+c-h,textAnchor:"middle",verticalAnchor:d},w):"insideTopLeft"===a?vs({x:o+g,y:s+h,textAnchor:m,verticalAnchor:f},w):"insideTopRight"===a?vs({x:o+l-g,y:s+h,textAnchor:y,verticalAnchor:f},w):"insideBottomLeft"===a?vs({x:o+g,y:s+c-h,textAnchor:m,verticalAnchor:d},w):"insideBottomRight"===a?vs({x:o+l-g,y:s+c-h,textAnchor:y,verticalAnchor:d},w):a&&"object"==typeof a&&(ih(a.x)||iu(a.x))&&(ih(a.y)||iu(a.y))?vs({x:o+iy(a.x,l),y:s+iy(a.y,c),textAnchor:"end",verticalAnchor:"end"},w):vs({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)})(o,m);return B.createElement(yV,vl({ref:p,className:az("recharts-label",d)},_,j,{breakAll:f}),a)}vf.displayName="Label";var vp=["valueAccessor"],vg=["dataKey","clockWise","id","textBreakAll"];function vy(){return(vy=Object.assign.bind()).apply(null,arguments)}function vm(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var vv=e=>Array.isArray(e.value)?(0,vi.default)(e.value):e.value,vb=(0,B.createContext)(void 0);vb.Provider;var vw=(0,B.createContext)(void 0),vx=vw.Provider;function v_(e){var{valueAccessor:t=vv}=e,r=vm(e,vp),{dataKey:n,clockWise:i,id:a,textBreakAll:o}=r,s=vm(r,vg),l=(0,B.useContext)(vb),c=(0,B.useContext)(vw),u=l||c;return u&&u.length?B.createElement(gH,{className:"recharts-label-list"},u.map((e,i)=>{var l,c=null==n?t(e,i):aw(e&&e.payload,n),u=null==a?{}:{id:"".concat(a,"-").concat(i)};return B.createElement(vf,vy({key:"label-".concat(i)},pV(e),s,u,{fill:null!=(l=r.fill)?l:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:o,viewBox:e.viewBox,index:i}))})):null}function vj(e){var{label:t}=e;return t?!0===t?B.createElement(v_,{key:"labelList-implicit"}):B.isValidElement(t)||null!=t&&"function"==typeof t?B.createElement(v_,{key:"labelList-implicit",content:t}):"object"==typeof t?B.createElement(v_,vy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}v_.displayName="LabelList";var vO=["onMouseEnter","onClick","onMouseLeave"],vS=["id"],vE=["id"];function vk(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vA(){return(vA=Object.assign.bind()).apply(null,arguments)}function vN(e){var t=(0,B.useMemo)(()=>yQ(e.children,yH),[e.children]),r=ar(r=>gz(r,e.id,t));return null==r?null:B.createElement(m9,{legendPayload:r})}function vC(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:aE(s,t),hide:l,type:c,color:o,unit:""}}}function vM(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=pK(r),l=pW(i),c=pW(a),u="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,h=t.map((e,t)=>{var r,n,h=(e.startAngle+e.endAngle)/2,d=ag(e.cx,e.cy,e.outerRadius+u,h),f=vT(vT(vT(vT({},s),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(r=d.x)>(n=e.cx)?"start":r<n?"end":"middle"},d),p=vT(vT(vT(vT({},s),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[ag(e.cx,e.cy,e.outerRadius,h),d],key:"line"});return B.createElement(gH,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a&&((e,t)=>{if(B.isValidElement(e))return B.cloneElement(e,t);if("function"==typeof e)return e(t);var r=az("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return B.createElement(yw,vA({},t,{type:"linear",className:r}))})(a,p),((e,t,r)=>{if(B.isValidElement(e))return B.cloneElement(e,t);var n=r;if("function"==typeof e&&(n=e(t),B.isValidElement(n)))return n;var i=az("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return B.createElement(yV,vA({},t,{alignmentBaseline:"middle",className:i}),n)})(i,f,aw(e,o)))});return B.createElement(gH,{className:"recharts-pie-labels"},h)}function vI(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return"object"==typeof i&&null!=i&&"position"in i?B.createElement(vj,{label:i}):B.createElement(vM,{sectors:t,props:r,showLabels:n})}function vD(e){var t,r,n,i,a,{sectors:o,activeShape:s,inactiveShape:l,allOtherPieProps:c}=e,u=ar(fi),{onMouseEnter:h,onClick:d,onMouseLeave:f}=c,p=vk(c,vO),g=(t=c.dataKey,r=i7(),(e,n)=>i=>{null==h||h(e,n,i),r(iL({activeIndex:String(n),activeDataKey:t,activeCoordinate:e.tooltipPosition}))}),y=(n=i7(),(e,t)=>r=>{null==f||f(e,t,r),n(iB())}),m=(i=c.dataKey,a=i7(),(e,t)=>r=>{null==d||d(e,t,r),a(iq({activeIndex:String(t),activeDataKey:i,activeCoordinate:e.tooltipPosition}))});return null==o||0===o.length?null:B.createElement(B.Fragment,null,o.map((e,t)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==o.length)return null;var r=s&&String(t)===u,n=r?s:u?l:null,i=vT(vT({},e),{},{stroke:e.stroke,tabIndex:-1,[aM]:t,[aI]:c.dataKey});return B.createElement(gH,vA({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(t),tabIndex:-1,className:"recharts-pie-sector"},yd(p,e,t),{onMouseEnter:g(e,t),onMouseLeave:y(e,t),onClick:m(e,t)}),B.createElement(m4,vA({option:n,isActive:r,shapeType:"sector"},i)))}))}function vR(e){var{showLabels:t,sectors:r,children:n}=e,i=(0,B.useMemo)(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return B.createElement(vx,{value:t?i:void 0},n)}function v$(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:h}=t,d=md(t,"recharts-pie-"),f=r.current,[p,g]=(0,B.useState)(!1),y=(0,B.useCallback)(()=>{"function"==typeof h&&h(),g(!1)},[h]),m=(0,B.useCallback)(()=>{"function"==typeof u&&u(),g(!0)},[u]);return B.createElement(vR,{showLabels:!p,sectors:n},B.createElement(mh,{animationId:d,begin:a,duration:o,isActive:i,easing:s,onAnimationStart:m,onAnimationEnd:y,key:d},e=>{var i=[],a=n&&n[0],o=null==a?void 0:a.startAngle;return null==n||n.forEach((t,r)=>{var n=f&&f[r],a=r>0?(0,is.default)(t,"paddingAngle",0):0;if(n){var s=iv(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),l=vT(vT({},t),{},{startAngle:o+a,endAngle:o+s+a});i.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:u}=t,h=iv(0,c-u,e),d=vT(vT({},t),{},{startAngle:o+a,endAngle:o+h+a});i.push(d),o=d.endAngle}}),r.current=i,B.createElement(gH,null,B.createElement(vD,{sectors:i,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),B.createElement(vI,{showLabels:!p,sectors:n,props:t}),t.children)}var vU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!pA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function vL(e){var{id:t}=e,r=vk(e,vS),{hide:n,className:i,rootTabIndex:a}=e,o=(0,B.useMemo)(()=>yQ(e.children,yH),[e.children]),s=ar(e=>gK(e,t,o)),l=(0,B.useRef)(null),c=az("recharts-pie",i);return n||null==s?(l.current=null,B.createElement(gH,{tabIndex:a,className:c})):B.createElement(B.Fragment,null,B.createElement(m8,{fn:vC,args:vT(vT({},e),{},{sectors:s})}),B.createElement(gH,{tabIndex:a,className:c},B.createElement(v$,{props:vT(vT({},r),{},{sectors:s}),previousSectorsRef:l})))}function vB(e){var t=gv(e,vU),{id:r}=t,n=vk(t,vE),i=pK(n);return B.createElement(vr,{id:r,type:"pie"},e=>B.createElement(B.Fragment,null,B.createElement(vn,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),B.createElement(vN,vA({},n,{id:e})),B.createElement(vL,vA({},n,{id:e}))))}vB.displayName="Pie";var vF=e.i(74080);function vq(){return(vq=Object.assign.bind()).apply(null,arguments)}function vz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vz(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vW(e){return Array.isArray(e)&&id(e[0])&&id(e[1])?e.join(" ~ "):e}var vV=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:h,accessibilityLayer:d=!1}=e,f=vK({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=vK({margin:0},i),g=null!=u,y=g?u:"",m=az("recharts-default-tooltip",l),v=az("recharts-tooltip-label",c);return g&&h&&null!=a&&(y=h(u,a)),B.createElement("div",vq({className:m,style:f},d?{role:"status","aria-live":"assertive"}:{}),B.createElement("p",{className:v,style:p},B.isValidElement(y)?y:"".concat(y)),(()=>{if(a&&a.length){var e=(s?(0,an.default)(a,s):a).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||o||vW,{value:s,name:l}=e,c=s,u=l;if(i){var h=i(s,l,e,r,a);if(Array.isArray(h))[c,u]=h;else{if(null==h)return null;c=h}}var d=vK({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:d},id(u)?B.createElement("span",{className:"recharts-tooltip-item-name"},u):null,id(u)?B.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,B.createElement("span",{className:"recharts-tooltip-item-value"},c),B.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},vH=B,vG="recharts-tooltip-wrapper",vJ={visibility:"hidden"};function vY(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&ih(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),h=r[n]+i;if(t[n])return o[n]?u:h;var d=l[n];return null==d?0:o[n]?u<d?Math.max(h,d):Math.max(u,d):null==c?0:h+s>d+c?Math.max(u,d):Math.max(h,d)}function vX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vZ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vX(Object(r),!0).forEach(function(t){vQ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vQ(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v0 extends vH.PureComponent{constructor(){super(...arguments),vQ(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vQ(this,"handleKeyDown",e=>{if("Escape"===e.key){var t,r,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(t=null==(r=this.props.coordinate)?void 0:r.x)?t:0,y:null!=(n=null==(i=this.props.coordinate)?void 0:i.y)?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null==(e=this.props.coordinate)?void 0:e.x)!==this.state.dismissedAtCoordinate.x||(null==(t=this.props.coordinate)?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:i,coordinate:a,hasPayload:o,isAnimationActive:s,offset:l,position:c,reverseDirection:u,useTranslate3d:h,viewBox:d,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:m,cssProperties:v}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:h}=e;return{cssProperties:t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=vY({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),translateY:n=vY({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),useTranslate3d:u}):vJ,cssClasses:function(e){var{coordinate:t,translateX:r,translateY:n}=e;return az(vG,{["".concat(vG,"-right")]:ih(r)&&t&&ih(t.x)&&r>=t.x,["".concat(vG,"-left")]:ih(r)&&t&&ih(t.x)&&r<t.x,["".concat(vG,"-bottom")]:ih(n)&&t&&ih(t.y)&&n>=t.y,["".concat(vG,"-top")]:ih(n)&&t&&ih(t.y)&&n<t.y})}({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:h,viewBox:d}),b=y?{}:vZ(vZ({transition:s&&e?"transform ".concat(r,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),w=vZ(vZ({},b),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return vH.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:m,style:w,ref:g},i)}}var v1=e.i(92809);function v2(e,t,r){return!0===t?(0,v1.default)(e,r):"function"==typeof t?(0,v1.default)(e,t):e}function v5(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=(0,B.useState)({height:0,left:0,top:0,width:0}),n=(0,B.useCallback)(e=>{if(null!=e){var n=e.getBoundingClientRect(),i={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var v3=["x","y","top","left","width","height","className"];function v6(){return(v6=Object.assign.bind()).apply(null,arguments)}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var v8=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:i,width:a,height:o},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,v3));return ih(t)&&ih(r)&&ih(a)&&ih(o)&&ih(n)&&ih(i)?B.createElement("path",v6({},pV(l),{className:az("recharts-cross",s),d:"M".concat(t,",").concat(n,"v").concat(o,"M").concat(i,",").concat(r,"h").concat(a)})):null};function v7(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[ag(t,r,n,i),ag(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function v9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v9(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bt(){return(bt=Object.assign.bind()).apply(null,arguments)}function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bi(e){var t,r,n,{coordinate:i,payload:a,index:o,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:h,chartName:d}=e;if(!u||!i||"ScatterChart"!==d&&"axis"!==h)return null;if("ScatterChart"===d)r=i,n=v8;else if("BarChart"===d)t=l/2,r={stroke:"none",fill:"#ccc",x:"horizontal"===c?i.x-t:s.left+.5,y:"horizontal"===c?s.top+.5:i.y-t,width:"horizontal"===c?l:s.width-1,height:"horizontal"===c?s.height-1:l},n=mx;else if("radial"===c){var{cx:f,cy:p,radius:g,startAngle:y,endAngle:m}=v7(i);r={cx:f,cy:p,startAngle:y,endAngle:m,innerRadius:g,outerRadius:g},n=mC}else r={points:function(e,t,r){var n,i,a,o;if("horizontal"===e)a=n=t.x,i=r.top,o=r.top+r.height;else if("vertical"===e)o=i=t.y,n=r.left,a=r.left+r.width;else if(null!=t.cx&&null!=t.cy)if("centric"!==e)return v7(t);else{var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:h}=t,d=ag(s,l,c,h),f=ag(s,l,u,h);n=d.x,i=d.y,a=f.x,o=f.y}return[{x:n,y:i},{x:a,y:o}]}(c,i,s)},n=yw;var v="object"==typeof u&&"className"in u?u.className:void 0,b=bn(bn(bn(bn({stroke:"#ccc",pointerEvents:"none"},s),r),pW(u)),{},{payload:a,payloadIndex:o,className:az("recharts-tooltip-cursor",v)});return(0,B.isValidElement)(u)?(0,B.cloneElement)(u,b):(0,B.createElement)(n,b)}function ba(e){var t,r,n,i,a=(t=ar(uz),r=ar(d9),n=ar(d4),((e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=(0,an.default)(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0})(be(be({},t),{},{scale:n}),r)),o=null!=(i=ar(a$))?i:a7,s=ar(a9),l=ar(uv);return B.createElement(bi,bt({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:o,layout:s,tooltipAxisBandSize:a,chartName:l}))}function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bl(e){return e.dataKey}var bc=[],bu={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bh(e){var t,r,n,i,a,o,s,l,c=gv(e,bu),{active:u,allowEscapeViewBox:h,animationDuration:d,animationEasing:f,content:p,filterNull:g,isAnimationActive:y,offset:m,payloadUniqBy:v,position:b,reverseDirection:w,useTranslate3d:x,wrapperStyle:_,cursor:j,shared:O,trigger:S,defaultIndex:E,portal:k,axisId:P}=c,T=i7(),A="number"==typeof E?String(E):E;(0,B.useEffect)(()=>{T(iU({shared:O,trigger:S,axisId:P,active:u,defaultIndex:A}))},[T,O,S,P,u,A]);var N=a8(),C=pU(),M=ar(e=>dm(e,O)),{activeIndex:I,isActive:D}=ar(e=>fj(e,M,S,A)),R=ar(e=>f_(e,M,S,A)),$=ar(e=>fx(e,M,S,A)),U=ar(e=>fw(e,M,S,A)),L=(0,B.useContext)(ge),F=null!=u?u:D,[q,z]=v5([R,F]),K="axis"===M?$:void 0;t=ar(e=>((e,t,r)=>{if(null!=t){var n=dE(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(e,M,S)),r=ar(ux),n=ar(ub),i=ar(uw),o=null==(a=ar(p6))?void 0:a.active,s=a8(),(0,B.useEffect)(()=>{if(!o&&null!=n&&null!=r){var e=iW({active:F,coordinate:U,dataKey:t,index:I,label:"number"==typeof K?String(K):K,sourceViewBox:s});p2.emit(p5,n,e,r)}},[o,U,t,I,K,r,n,i,F,s]);var W=null!=k?k:L;if(null==W)return null;var V=null!=R?R:bc;F||(V=bc),g&&V.length&&(V=v2(R.filter(e=>null!=e.value&&(!0!==e.hide||c.includeHidden)),v,bl));var H=V.length>0,G=B.createElement(v0,{allowEscapeViewBox:h,animationDuration:d,animationEasing:f,isAnimationActive:y,active:F,coordinate:U,hasPayload:H,offset:m,position:b,reverseDirection:w,useTranslate3d:x,viewBox:N,wrapperStyle:_,lastBoundingBox:q,innerRef:z,hasPortalFromProps:!!k},(l=bs(bs({},c),{},{payload:V,label:K,active:F,coordinate:U,accessibilityLayer:C}),B.isValidElement(p)?B.cloneElement(p,l):"function"==typeof p?B.createElement(p,l):B.createElement(vV,l)));return B.createElement(B.Fragment,null,(0,vF.createPortal)(G,W),F&&B.createElement(ba,{cursor:j,tooltipEventType:M,coordinate:U,payload:R,index:I}))}var bd=B,bf=B;function bp(){return(bp=Object.assign.bind()).apply(null,arguments)}function bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function by(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class bm extends bf.PureComponent{renderIcon(e,t){var{inactiveColor:r}=this.props,n=32/6,i=32/3,a=e.inactive?r:e.color,o=null!=t?t:e.type;if("none"===o)return null;if("plainline"===o)return bf.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===o)return bf.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(16,"h").concat(i,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*i,",").concat(16,"\n            H").concat(32,"M").concat(2*i,",").concat(16,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(i,",").concat(16),className:"recharts-legend-icon"});if("rect"===o)return bf.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(bf.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bg(Object(r),!0).forEach(function(t){by(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete s.legendIcon,bf.cloneElement(e.legendIcon,s)}return bf.createElement(m0,{fill:a,cx:16,cy:16,size:32,sizeType:"diameter",type:o})}renderItems(){var{payload:e,iconSize:t,layout:r,formatter:n,inactiveColor:i,iconType:a}=this.props,o={x:0,y:0,width:32,height:32},s={display:"horizontal"===r?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,r)=>{var c=e.formatter||n,u=az({"recharts-legend-item":!0,["legend-item-".concat(r)]:!0,inactive:e.inactive});if("none"===e.type)return null;var h=e.inactive?i:e.color,d=c?c(e.value,e,r):e.value;return bf.createElement("li",bp({className:u,style:s,key:"legend-item-".concat(r)},yd(this.props,e,r)),bf.createElement(pJ,{width:t,height:t,viewBox:o,style:l,"aria-label":"".concat(d," legend icon")},this.renderIcon(e,a)),bf.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},d))})}render(){var{payload:e,layout:t,align:r}=this.props;return e&&e.length?bf.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===t?r:"left"}},this.renderItems()):null}}by(bm,"displayName","Legend"),by(bm,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var bv=["contextPayload"];function bb(){return(bb=Object.assign.bind()).apply(null,arguments)}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(t){b_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b_(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bj(e){return e.value}function bO(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,bv),n=v2(t,e.payloadUniqBy,bj),i=bx(bx({},r),{},{payload:n});return bd.isValidElement(e.content)?bd.cloneElement(e.content,i):"function"==typeof e.content?bd.createElement(e.content,i):bd.createElement(bm,i)}function bS(e){var t=i7();return(0,bd.useEffect)(()=>{t(f9(e))},[t,e]),null}function bE(e){var t=i7();return(0,bd.useEffect)(()=>(t(f7(e)),()=>{t(f7({width:0,height:0}))}),[t,e]),null}function bk(e){var t=ar(aa),r=(0,B.useContext)(gt),n=ar(e=>e.layout.margin),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,c]=v5([t]),u=ar(ak),h=ar(aP);if(null==u||null==h)return null;var d=u-(n.left||0)-(n.right||0),f=bP.getWidthOrHeight(e.layout,a,i,d),p=s?o:bx(bx({position:"absolute",width:(null==f?void 0:f.width)||i||"auto",height:(null==f?void 0:f.height)||a||"auto"},function(e,t,r,n,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),bx(bx({},o),s)}(o,e,n,u,h,l)),o),g=null!=s?s:r;if(null==g)return null;var y=bd.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},bd.createElement(bS,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),bd.createElement(bE,{width:l.width,height:l.height}),bd.createElement(bO,bb({},e,f,{margin:n,chartWidth:u,chartHeight:h,contextPayload:t})));return(0,vF.createPortal)(y,g)}class bP extends bd.PureComponent{static getWidthOrHeight(e,t,r,n){return"vertical"===e&&ih(t)?{height:t}:"horizontal"===e?{width:r||n}:null}render(){return bd.createElement(bk,this.props)}}b_(bP,"displayName","Legend"),b_(bP,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});let bT=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},bA=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var bN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let bC=(0,B.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},l)=>(0,B.createElement)("svg",{ref:l,...bN,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:bA("lucide",i),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(s)&&{"aria-hidden":"true"},...s},[...o.map(([e,t])=>(0,B.createElement)(e,t)),...Array.isArray(a)?a:[a]])),bM=(e,t)=>{let r=(0,B.forwardRef)(({className:r,...n},i)=>(0,B.createElement)(bC,{ref:i,iconNode:t,className:bA(`lucide-${bT(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=bT(e),r},bI=bM("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),bD=bM("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bR=bM("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),b$=bM("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bU=bM("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),bL=bM("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),bB=bM("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),bF=bM("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bq=bM("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),bz=bM("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function bK(){let[e,t]=(0,B.useState)("config"),[r,n]=(0,B.useState)(""),[i,a]=(0,B.useState)(""),[o,s]=(0,B.useState)(""),[l,c]=(0,B.useState)(null),[u,h]=(0,B.useState)(!1),[d,f]=(0,B.useState)({tipo:"",texto:""}),[p,g]=(0,B.useState)(!1),[y,m]=(0,B.useState)([]),[v,b]=(0,B.useState)([]),[w,x]=(0,B.useState)([]),[_,j]=(0,B.useState)([]),[O,S]=(0,B.useState)([]),[E,k]=(0,B.useState)(4500),[P,T]=(0,B.useState)(50),[A,N]=(0,B.useState)(!1),[C,M]=(0,B.useState)(null),[I,D]=(0,B.useState)({categoria:"alimentacion"}),[R,$]=(0,B.useState)(!1),[U,F]=(0,B.useState)({monto:"",categoria:"salario",descripcion:"",fecha:new Date().toISOString().split("T")[0]}),[q,z]=(0,B.useState)(!1),[K,W]=(0,B.useState)(!1),[V,H]=(0,B.useState)(!1),[G,J]=(0,B.useState)(null),[Y,X]=(0,B.useState)(null),[Z,Q]=(0,B.useState)({nombre:"",monto:"",dia_mes:1,telefono:"591",categoria:"alquiler",notas:""}),[ee,et]=(0,B.useState)({nombre:"",monto_total:"",cuota_mensual:"",tiene_interes:!1,fecha_inicio:""}),[er,en]=(0,B.useState)({monto:"",tipo:"pago",notas:""}),ei=async()=>{if(!r||!i)return void ea("error","❌ Completa URL y API Key");try{let e,t=new rm(r,i,e),{data:n,error:a}=await t.from("configuracion").select("*").limit(1);if(a)return void ea("error","❌ Error: "+a.message);c(t),h(!0),ea("success","✅ Conectado a Supabase"),eo(t)}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},ea=(e,t)=>{f({tipo:e,texto:t}),setTimeout(()=>f({tipo:"",texto:""}),5e3)},eo=async(e=l)=>{if(e)try{g(!0);let{data:t}=await e.from("recordatorios").select("*").order("dia_mes",{ascending:!0});m(t||[]);let{data:r}=await e.from("deudas").select("*").eq("activo",!0).order("created_at",{ascending:!1});j(r||[]);let n=new Date;n.setDate(1);let{data:i}=await e.from("gastos").select("categoria, monto").gte("fecha",n.toISOString().split("T")[0]),a=(i||[]).reduce((e,t)=>{let r=t.categoria||"Sin categoría",n=e.find(e=>e.categoria===r);return n?n.monto+=Number.parseFloat(t.monto):e.push({categoria:r,monto:Number.parseFloat(t.monto)}),e},[]);b(a);let{data:o}=await e.from("gastos").select("*").gte("fecha",n.toISOString().split("T")[0]).order("fecha",{ascending:!1}).order("hora",{ascending:!1});x(o||[]);let{data:s}=await e.from("ingresos").select("*").gte("fecha",n.toISOString().split("T")[0]).order("fecha",{ascending:!1});S(s||[]);let{data:l}=await e.from("configuracion").select("*"),c=(l||[]).reduce((e,t)=>(e[t.clave]=t.valor,e),{});c.ingreso_mensual&&k(Number.parseFloat(c.ingreso_mensual)),c.limite_gastos_porcentaje&&T(Number.parseFloat(c.limite_gastos_porcentaje)),g(!1),ea("success","✅ Datos cargados")}catch(e){g(!1),e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},es=async()=>{if(!l||!U.monto)return void ea("error","❌ Completa el monto del ingreso");try{if(g(!0),Y){let{error:e}=await l.from("ingresos").update(U).eq("id",Y);if(e)throw e;ea("success","✅ Ingreso actualizado")}else{let{error:e}=await l.from("ingresos").insert([U]);if(e)throw e;ea("success","✅ Ingreso registrado")}$(!1),X(null),F({monto:"",categoria:"salario",descripcion:"",fecha:new Date().toISOString().split("T")[0]}),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}g(!1)},el=async e=>{if(l)try{let{error:t}=await l.from("ingresos").delete().eq("id",e);if(t)throw t;ea("success","✅ Ingreso eliminado"),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},ec=async e=>{if(l)try{let{error:t}=await l.from("gastos").delete().eq("id",e);if(t)throw t;ea("success","✅ Gasto eliminado"),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},eu=async()=>{if(l){try{if(g(!0),Y){let{error:e}=await l.from("recordatorios").update(Z).eq("id",Y);if(e)throw e;ea("success","✅ Recordatorio actualizado")}else{let{error:e}=await l.from("recordatorios").insert([{...Z,activo:!0}]);if(e)throw e;ea("success","✅ Recordatorio creado")}z(!1),X(null),Q({nombre:"",monto:"",dia_mes:1,telefono:"591",categoria:"alquiler",notas:""}),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}g(!1)}},eh=async e=>{if(l)try{let{error:t}=await l.from("recordatorios").delete().eq("id",e);if(t)throw t;ea("success","✅ Eliminado"),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},ed=async e=>{if(!l)return;let t=y.find(t=>t.id===e);if(t)try{let{error:r}=await l.from("recordatorios").update({activo:!t.activo}).eq("id",e);if(r)throw r;await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},ef=async()=>{if(l){try{if(g(!0),Y){let{error:e}=await l.from("deudas").update(ee).eq("id",Y);if(e)throw e;ea("success","✅ Deuda actualizada")}else{let{error:e}=await l.from("deudas").insert([{...ee,activo:!0,monto_pagado:0,monto_ahorrado:0}]);if(e)throw e;ea("success","✅ Deuda creada")}W(!1),X(null),et({nombre:"",monto_total:"",cuota_mensual:"",tiene_interes:!1,fecha_inicio:""}),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}g(!1)}},ep=async()=>{if(l&&G&&er.monto){try{g(!0);let{error:e}=await l.from("pagos_deudas").insert([{deuda_id:G.id,monto:Number.parseFloat(er.monto),tipo:er.tipo,notas:er.notas,fecha:new Date().toISOString().split("T")[0]}]);if(e)throw e;let t=_.find(e=>e.id===G.id),r="pago"===er.tipo?"monto_pagado":"monto_ahorrado",n=t&&"number"==typeof t[r]?t[r]+Number.parseFloat(er.monto):Number.parseFloat(er.monto),{error:i}=await l.from("deudas").update({[r]:n}).eq("id",G.id);if(i)throw i;if(o)try{await fetch(`${o}/pago-deuda`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deuda_id:G.id,deuda_nombre:G.nombre,monto:Number.parseFloat(er.monto),tipo:er.tipo,notas:er.notas})})}catch(e){console.log("Webhook N8N no disponible")}ea("success",`✅ ${"pago"===er.tipo?"Pago":"Ahorro"} registrado`),H(!1),J(null),en({monto:"",tipo:"pago",notas:""}),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}g(!1)}},eg=async()=>{if(l){if(Y){if(!I.monto)return void ea("error","❌ Completa el monto del gasto");try{g(!0);let{error:e}=await l.from("gastos").update({monto:Number.parseFloat(I.monto),categoria:I.categoria,descripcion:I.descripcion,metodo_pago:I.metodo_pago}).eq("id",Y);if(e)throw e;ea("success","✅ Gasto actualizado"),N(!1),D({categoria:"alimentacion"}),X(null),await eo()}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}return void g(!1)}if(!C)return void ea("error","❌ Debes subir una foto del comprobante");try{if(g(!0),o){let e=new FileReader;e.readAsDataURL(C),e.onload=async()=>{let t=e.result;try{await fetch(`${o}/gasto-foto`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imagen:t,categoria:I.categoria})}),ea("success","✅ Comprobante enviado a N8N para procesamiento automático")}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}N(!1),M(null),D({categoria:"alimentacion"}),setTimeout(()=>eo(),3e3)}}else ea("error","❌ Configura la URL del webhook de N8N primero")}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}g(!1)}},ey=async()=>{if(l)try{await l.from("configuracion").update({valor:E.toString()}).eq("clave","ingreso_mensual"),await l.from("configuracion").update({valor:P.toString()}).eq("clave","limite_gastos_porcentaje"),ea("success","✅ Configuración guardada")}catch(e){e instanceof Error?ea("error","❌ Error de conexión: "+e.message):ea("error","❌ Error desconocido: "+String(e))}},em=O.reduce((e,t)=>e+Number.parseFloat(t.monto||0),0),ev=v.reduce((e,t)=>e+Number.parseFloat(t.monto||0),0),eb=em-ev,ew=em>0?(ev/em*100).toFixed(1):0,ex=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];return(0,L.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 p-4",children:[(0,L.jsx)("div",{className:"max-w-7xl mx-auto mb-6",children:(0,L.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:(0,L.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"💰 Panel de Control Financiero"}),(0,L.jsx)("p",{className:"text-gray-600",children:"Santa Cruz de la Sierra, Bolivia 🇧🇴"})]}),u&&(0,L.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,L.jsx)("button",{onClick:()=>t("dashboard"),className:`px-4 py-2 rounded-lg transition ${"dashboard"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Dashboard"}),(0,L.jsx)("button",{onClick:()=>t("ingresos"),className:`px-4 py-2 rounded-lg transition ${"ingresos"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Ingresos"}),(0,L.jsx)("button",{onClick:()=>t("recordatorios"),className:`px-4 py-2 rounded-lg transition ${"recordatorios"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Recordatorios"}),(0,L.jsx)("button",{onClick:()=>t("gastos"),className:`px-4 py-2 rounded-lg transition ${"gastos"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Gastos"}),(0,L.jsx)("button",{onClick:()=>t("deudas"),className:`px-4 py-2 rounded-lg transition ${"deudas"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Deudas"}),(0,L.jsx)("button",{onClick:()=>t("config"),className:`px-4 py-2 rounded-lg transition ${"config"===e?"bg-indigo-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"Config"})]})]})})}),d.texto&&(0,L.jsx)("div",{className:`max-w-7xl mx-auto mb-4 p-4 rounded-lg shadow ${"success"===d.tipo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.texto}),(0,L.jsxs)("div",{className:"max-w-7xl mx-auto",children:[!u&&(0,L.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[(0,L.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"🔐 Configuración Inicial"}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Supabase URL"}),(0,L.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"https://xxxxx.supabase.co",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Supabase API Key (anon/public)"}),(0,L.jsx)("input",{type:"password",value:i,onChange:e=>a(e.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-2",children:"N8N Webhook URL (opcional)"}),(0,L.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"https://tu-n8n.com/webhook",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,L.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Para OCR de comprobantes y automatizaciones"})]}),(0,L.jsx)("button",{onClick:ei,disabled:p,className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition font-semibold",children:p?"⏳ Conectando...":"🔌 Conectar a Supabase"})]})]}),"dashboard"===e&&u&&(0,L.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,L.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:[(0,L.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,L.jsx)(bD,{className:"w-8 h-8"}),(0,L.jsx)("h3",{className:"text-lg font-semibold",children:"Ingresos del Mes"})]}),(0,L.jsxs)("p",{className:"text-4xl font-bold",children:["Bs ",em.toLocaleString()]}),(0,L.jsxs)("p",{className:"text-sm opacity-90",children:[O.length," ingreso(s) registrado(s)"]})]}),(0,L.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg p-6 text-white",children:[(0,L.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,L.jsx)(bz,{className:"w-8 h-8"}),(0,L.jsx)("h3",{className:"text-lg font-semibold",children:"Gastos del Mes"})]}),(0,L.jsxs)("p",{className:"text-4xl font-bold",children:["Bs ",ev.toFixed(2)]}),(0,L.jsxs)("p",{className:"text-sm opacity-90",children:[ew,"% de ingresos"]})]}),(0,L.jsxs)("div",{className:`bg-gradient-to-br ${eb>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-xl shadow-lg p-6 text-white`,children:[(0,L.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,L.jsx)(bR,{className:"w-8 h-8"}),(0,L.jsx)("h3",{className:"text-lg font-semibold",children:"Balance"})]}),(0,L.jsxs)("p",{className:"text-4xl font-bold",children:["Bs ",eb.toFixed(2)]}),(0,L.jsx)("p",{className:"text-sm opacity-90",children:eb>=0?"Superávit":"Déficit"})]}),(0,L.jsxs)("div",{className:"md:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsx)("h3",{className:"text-xl font-bold mb-4",children:"📊 Distribución de Gastos"}),v.length>0?(0,L.jsx)(a4,{width:"100%",height:300,children:(0,L.jsxs)(gS,{children:[(0,L.jsx)(vB,{data:v,dataKey:"monto",nameKey:"categoria",cx:"50%",cy:"50%",outerRadius:100,label:!0,children:v.map((e,t)=>(0,L.jsx)(yH,{fill:ex[t%ex.length]},`cell-${t}`))}),(0,L.jsx)(bh,{formatter:e=>`Bs ${Number(e).toFixed(2)}`}),(0,L.jsx)(bP,{})]})}):(0,L.jsx)("p",{className:"text-center text-gray-500 py-20",children:"No hay gastos registrados este mes"})]}),(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsx)("h3",{className:"text-xl font-bold mb-4",children:"🔔 Recordatorios Activos"}),(0,L.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:y.filter(e=>e.activo).length>0?y.filter(e=>e.activo).map(e=>(0,L.jsxs)("div",{className:"flex items-center justify-between p-3 bg-indigo-50 rounded-lg",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("p",{className:"font-semibold",children:e.nombre}),(0,L.jsxs)("p",{className:"text-sm text-gray-600",children:["Día ",e.dia_mes," - Bs ",e.monto]})]}),(0,L.jsx)(bI,{className:"w-5 h-5 text-indigo-600"})]},e.id)):(0,L.jsx)("p",{className:"text-center text-gray-500 py-4",children:"Sin recordatorios activos"})})]})]}),"ingresos"===e&&u&&(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"💵 Mis Ingresos"}),(0,L.jsxs)("p",{className:"text-gray-600",children:["Total del mes: Bs ",em.toFixed(2)]})]}),(0,L.jsxs)("button",{onClick:()=>$(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 transition",children:[(0,L.jsx)(b$,{className:"w-5 h-5"})," Nuevo Ingreso"]})]}),(0,L.jsx)("div",{className:"grid gap-4",children:O.length>0?O.map(e=>(0,L.jsx)("div",{className:"p-4 rounded-lg border-2 border-green-200 bg-green-50",children:(0,L.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,L.jsxs)("div",{className:"flex-1",children:[(0,L.jsxs)("div",{className:"flex items-center gap-3",children:[(0,L.jsxs)("h3",{className:"font-bold text-xl text-green-700",children:["Bs ",Number.parseFloat(e.monto).toFixed(2)]}),(0,L.jsx)("span",{className:"px-3 py-1 bg-green-200 text-green-800 rounded-full text-sm font-medium",children:e.fuente})]}),e.descripcion&&(0,L.jsx)("p",{className:"text-gray-700 mt-1",children:e.descripcion}),(0,L.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["📅 ",new Date(e.fecha).toLocaleDateString("es-BO")]})]}),(0,L.jsxs)("div",{className:"flex gap-2",children:[(0,L.jsx)("button",{onClick:()=>{X(e.id),F(e),$(!0)},className:"p-2 bg-blue-100 rounded hover:bg-blue-200 transition",children:(0,L.jsx)(bU,{className:"w-5 h-5 text-blue-600"})}),(0,L.jsx)("button",{onClick:()=>el(e.id),className:"p-2 bg-red-100 rounded hover:bg-red-200 transition",children:(0,L.jsx)(bL,{className:"w-5 h-5 text-red-600"})})]})]})},e.id)):(0,L.jsxs)("div",{className:"text-center py-20",children:[(0,L.jsx)(bD,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,L.jsx)("p",{className:"text-gray-500 text-lg",children:"No hay ingresos registrados este mes"}),(0,L.jsx)("p",{className:"text-gray-400 text-sm",children:"Comienza registrando tu primer ingreso"})]})})]}),"recordatorios"===e&&u&&(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"📋 Mis Recordatorios"}),(0,L.jsxs)("button",{onClick:()=>z(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition",children:[(0,L.jsx)(b$,{className:"w-5 h-5"})," Nuevo"]})]}),(0,L.jsx)("div",{className:"grid gap-4",children:y.length>0?y.map(e=>(0,L.jsx)("div",{className:`p-4 rounded-lg border-2 transition ${e.activo?"border-green-300 bg-green-50":"border-gray-300 bg-gray-50"}`,children:(0,L.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,L.jsxs)("div",{className:"flex-1",children:[(0,L.jsx)("h3",{className:"font-bold text-lg",children:e.nombre}),(0,L.jsxs)("p",{className:"text-gray-600",children:["Bs ",e.monto," - Día ",e.dia_mes," de cada mes"]}),(0,L.jsxs)("p",{className:"text-sm text-gray-500",children:[e.categoria," • ",e.telefono]}),e.notas&&(0,L.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["📝 ",e.notas]})]}),(0,L.jsxs)("div",{className:"flex gap-2",children:[(0,L.jsx)("button",{onClick:()=>ed(e.id),className:`px-3 py-1 rounded transition ${e.activo?"bg-green-600 text-white hover:bg-green-700":"bg-gray-400 text-white hover:bg-gray-500"}`,children:e.activo?"Activo":"Inactivo"}),(0,L.jsx)("button",{onClick:()=>{X(e.id),Q(e),z(!0)},className:"p-2 bg-blue-100 rounded hover:bg-blue-200 transition",children:(0,L.jsx)(bU,{className:"w-5 h-5 text-blue-600"})}),(0,L.jsx)("button",{onClick:()=>eh(e.id),className:"p-2 bg-red-100 rounded hover:bg-red-200 transition",children:(0,L.jsx)(bL,{className:"w-5 h-5 text-red-600"})})]})]})},e.id)):(0,L.jsx)("p",{className:"text-center text-gray-500 py-10",children:"No hay recordatorios. Crea uno nuevo."})})]}),"gastos"===e&&u&&(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"💳 Mis Gastos"}),(0,L.jsxs)("p",{className:"text-gray-600",children:["Total del mes: Bs ",ev.toFixed(2)]})]}),(0,L.jsxs)("button",{onClick:()=>{X(null),D({categoria:"alimentacion"}),M(null),N(!0)},className:"bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-red-700 transition",children:[(0,L.jsx)(b$,{className:"w-5 h-5"})," Nuevo Gasto"]})]}),(0,L.jsx)("div",{className:"grid gap-4",children:w.length>0?w.map(e=>(0,L.jsx)("div",{className:"p-4 rounded-lg border-2 border-red-200 bg-red-50",children:(0,L.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,L.jsxs)("div",{className:"flex-1",children:[(0,L.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,L.jsxs)("h3",{className:"font-bold text-xl text-red-700",children:["Bs ",Number.parseFloat(e.monto).toFixed(2)]}),(0,L.jsx)("span",{className:"px-3 py-1 bg-red-200 text-red-800 rounded-full text-sm font-medium",children:e.categoria}),(0,L.jsx)("span",{className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-sm",children:e.metodo_pago})]}),e.descripcion&&(0,L.jsx)("p",{className:"text-gray-700 mt-2",children:e.descripcion}),(0,L.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["📅 ",new Date(e.fecha).toLocaleDateString("es-BO"),e.hora&&` • 🕐 ${e.hora}`]})]}),(0,L.jsxs)("div",{className:"flex gap-2",children:[(0,L.jsx)("button",{onClick:()=>{X(e.id),D({monto:e.monto,categoria:e.categoria,descripcion:e.descripcion||"",metodo_pago:e.metodo_pago}),N(!0)},className:"p-2 bg-blue-100 rounded hover:bg-blue-200 transition",children:(0,L.jsx)(bU,{className:"w-5 h-5 text-blue-600"})}),(0,L.jsx)("button",{onClick:()=>ec(e.id),className:"p-2 bg-red-100 rounded hover:bg-red-200 transition",children:(0,L.jsx)(bL,{className:"w-5 h-5 text-red-600"})})]})]})},e.id)):(0,L.jsxs)("div",{className:"text-center py-20",children:[(0,L.jsx)(bR,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,L.jsx)("p",{className:"text-gray-500 text-lg",children:"No hay gastos registrados este mes"}),(0,L.jsx)("p",{className:"text-gray-400 text-sm",children:"Comienza registrando tu primer gasto"})]})})]}),"deudas"===e&&u&&(0,L.jsx)("div",{className:"space-y-6",children:(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"💳 Seguimiento de Deudas y Ahorros"}),(0,L.jsxs)("button",{onClick:()=>W(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,L.jsx)(b$,{className:"w-5 h-5"})," Nueva Deuda"]})]}),(0,L.jsx)("div",{className:"grid gap-6",children:_.map(e=>{let t=e.monto_total-e.monto_pagado,r=(e.monto_pagado/e.monto_total*100).toFixed(1),n=t>0?(e.monto_ahorrado/t*100).toFixed(1):0,i=e.monto_ahorrado>=t;return(0,L.jsxs)("div",{className:"border-2 border-indigo-200 rounded-xl p-6 bg-gradient-to-br from-indigo-50 to-purple-50",children:[(0,L.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.nombre}),(0,L.jsxs)("p",{className:"text-gray-600",children:["Monto Total: Bs ",e.monto_total]})]}),i&&(0,L.jsxs)("div",{className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,L.jsx)(bq,{className:"w-5 h-5"}),"¡Puedes pagar al contado!"]})]}),(0,L.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,L.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,L.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"💰 Monto Pagado"}),(0,L.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["Bs ",e.monto_pagado]}),(0,L.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,L.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${r}%`}})}),(0,L.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[r,"% pagado"]})]}),(0,L.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,L.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"🏦 Ahorrado para Pago"}),(0,L.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["Bs ",e.monto_ahorrado]}),(0,L.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,L.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${n}%`}})}),(0,L.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[n,"% del saldo"]})]})]}),(0,L.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,L.jsx)("p",{className:"font-semibold",children:"Saldo Pendiente"}),(0,L.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:["Bs ",t.toFixed(2)]})]}),(0,L.jsxs)("p",{className:"text-sm text-gray-600",children:["Falta ahorrar: Bs ",(t-e.monto_ahorrado).toFixed(2)]})]}),(0,L.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,L.jsxs)("button",{onClick:()=>{X(e.id),et({nombre:e.nombre??"",monto_total:void 0!==e.monto_total?e.monto_total.toString():"",cuota_mensual:void 0!==e.cuota_mensual?e.cuota_mensual.toString():"",tiene_interes:!!e.tiene_interes,fecha_inicio:e.fecha_inicio??""}),W(!0)},className:"flex-1 bg-blue-100 text-blue-600 px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,L.jsx)(bU,{className:"w-4 h-4"})," Editar"]}),(0,L.jsx)("button",{onClick:()=>{J(e),en({...er,tipo:"pago"}),H(!0)},className:"flex-1 bg-green-100 text-green-600 px-4 py-2 rounded-lg",children:"Registrar Pago"}),(0,L.jsx)("button",{onClick:()=>{J(e),en({...er,tipo:"ahorro"}),H(!0)},className:"flex-1 bg-purple-100 text-purple-600 px-4 py-2 rounded-lg",children:"Agregar Ahorro"})]})]},e.id)})})]})})]}),A&&(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,L.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,L.jsxs)("h3",{className:"text-xl font-bold",children:[Y?"Editar":"Registrar"," Gasto"]}),(0,L.jsx)("button",{onClick:()=>{N(!1),X(null),M(null),D({categoria:"alimentacion"})},className:"p-2 hover:bg-gray-100 rounded",children:(0,L.jsx)(bF,{className:"w-5 h-5"})})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[Y?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monto (Bs)"}),(0,L.jsx)("input",{type:"number",value:I.monto,onChange:e=>D({...I,monto:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"150.00"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoría"}),(0,L.jsxs)("select",{value:I.categoria,onChange:e=>D({...I,categoria:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,L.jsx)("option",{value:"alimentacion",children:"🍔 Alimentación"}),(0,L.jsx)("option",{value:"transporte",children:"🚗 Transporte"}),(0,L.jsx)("option",{value:"entretenimiento",children:"🎮 Entretenimiento"}),(0,L.jsx)("option",{value:"salud",children:"💊 Salud"}),(0,L.jsx)("option",{value:"educacion",children:"📚 Educación"}),(0,L.jsx)("option",{value:"servicios",children:"💡 Servicios"}),(0,L.jsx)("option",{value:"ropa",children:"👕 Ropa"}),(0,L.jsx)("option",{value:"otro",children:"📦 Otro"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Método de Pago"}),(0,L.jsxs)("select",{value:I.metodo_pago,onChange:e=>D({...I,metodo_pago:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,L.jsx)("option",{value:"efectivo",children:"💵 Efectivo"}),(0,L.jsx)("option",{value:"tarjeta",children:"💳 Tarjeta"}),(0,L.jsx)("option",{value:"transferencia",children:"🏦 Transferencia"}),(0,L.jsx)("option",{value:"qr",children:"📱 QR"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descripción"}),(0,L.jsx)("textarea",{value:I.descripcion,onChange:e=>D({...I,descripcion:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Ej: Almuerzo en restaurante"})]})]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,L.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"📸 Flujo Automático con N8N"}),(0,L.jsx)("p",{className:"text-xs text-blue-600",children:"Sube el comprobante y selecciona la categoría. N8N extraerá automáticamente el monto, fecha y descripción mediante OCR."})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Foto del Comprobante ",(0,L.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,L.jsx)("input",{type:"file",accept:"image/*",onChange:e=>M(e.target.files&&e.target.files[0]?e.target.files[0]:null),className:"w-full px-3 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-indigo-400 transition"}),C&&(0,L.jsxs)("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[(0,L.jsx)(bq,{className:"w-4 h-4"})," Imagen seleccionada: ",C.name]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoría del Gasto"}),(0,L.jsxs)("select",{value:I.categoria,onChange:e=>D({...I,categoria:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,L.jsx)("option",{value:"alimentacion",children:"🍔 Alimentación"}),(0,L.jsx)("option",{value:"transporte",children:"🚗 Transporte"}),(0,L.jsx)("option",{value:"entretenimiento",children:"🎮 Entretenimiento"}),(0,L.jsx)("option",{value:"salud",children:"💊 Salud"}),(0,L.jsx)("option",{value:"educacion",children:"📚 Educación"}),(0,L.jsx)("option",{value:"servicios",children:"💡 Servicios"}),(0,L.jsx)("option",{value:"ropa",children:"👕 Ropa"}),(0,L.jsx)("option",{value:"otro",children:"📦 Otro"})]})]})]}),(0,L.jsxs)("button",{onClick:eg,disabled:p||!Y&&!C,className:"w-full bg-red-600 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:[(0,L.jsx)(bB,{className:"w-5 h-5"}),Y?"Actualizar Gasto":"Enviar a N8N"]})]})]})}),R&&(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,L.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,L.jsxs)("h3",{className:"text-xl font-bold",children:[Y?"Editar":"Nuevo"," Ingreso"]}),(0,L.jsx)("button",{onClick:()=>{$(!1),X(null)},className:"p-2 hover:bg-gray-100 rounded",children:(0,L.jsx)(bF,{className:"w-5 h-5"})})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monto (Bs)"}),(0,L.jsx)("input",{type:"number",value:U.monto,onChange:e=>F({...U,monto:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"1500.00"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoría"}),(0,L.jsxs)("select",{value:U.categoria,onChange:e=>F({...U,categoria:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,L.jsx)("option",{value:"salario",children:"💼 Salario"}),(0,L.jsx)("option",{value:"freelance",children:"💻 Freelance"}),(0,L.jsx)("option",{value:"bono",children:"🎁 Bono"}),(0,L.jsx)("option",{value:"venta",children:"🛒 Venta"}),(0,L.jsx)("option",{value:"inversion",children:"📈 Inversión"}),(0,L.jsx)("option",{value:"regalo",children:"🎉 Regalo"}),(0,L.jsx)("option",{value:"otro",children:"📦 Otro"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fecha"}),(0,L.jsx)("input",{type:"date",value:U.fecha,onChange:e=>F({...U,fecha:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Descripción (opcional)"}),(0,L.jsx)("textarea",{value:U.descripcion,onChange:e=>F({...U,descripcion:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Ej: Pago quincenal, proyecto web, etc."})]}),(0,L.jsxs)("button",{onClick:es,disabled:p,className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-green-700 disabled:opacity-50",children:[(0,L.jsx)(bB,{className:"w-5 h-5"}),Y?"Actualizar":"Registrar"," Ingreso"]})]})]})}),q&&(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,L.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,L.jsxs)("h3",{className:"text-xl font-bold",children:[Y?"Editar":"Nuevo"," Recordatorio"]}),(0,L.jsx)("button",{onClick:()=>{z(!1),X(null)},className:"p-2 hover:bg-gray-100 rounded",children:(0,L.jsx)(bF,{className:"w-5 h-5"})})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),(0,L.jsx)("input",{type:"text",value:Z.nombre,onChange:e=>Q({...Z,nombre:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ej: Alquiler Casa"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monto (Bs)"}),(0,L.jsx)("input",{type:"number",value:Z.monto,onChange:e=>Q({...Z,monto:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Día del Mes"}),(0,L.jsx)("input",{type:"number",min:"1",max:"31",value:Z.dia_mes,onChange:e=>Q({...Z,dia_mes:Number(e.target.value)}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Categoría"}),(0,L.jsxs)("select",{value:Z.categoria,onChange:e=>Q({...Z,categoria:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[(0,L.jsx)("option",{value:"alquiler",children:"Alquiler"}),(0,L.jsx)("option",{value:"deuda",children:"Deuda"}),(0,L.jsx)("option",{value:"prestamo",children:"Préstamo"}),(0,L.jsx)("option",{value:"servicio",children:"Servicio"}),(0,L.jsx)("option",{value:"otro",children:"Otro"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Teléfono WhatsApp"}),(0,L.jsx)("input",{type:"text",value:Z.telefono,onChange:e=>Q({...Z,telefono:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"591XXXXXXXXX"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notas (opcional)"}),(0,L.jsx)("textarea",{value:Z.notas,onChange:e=>Q({...Z,notas:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2})]}),(0,L.jsxs)("button",{onClick:eu,className:"w-full bg-indigo-600 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2",children:[(0,L.jsx)(bB,{className:"w-5 h-5"}),Y?"Actualizar":"Crear"," Recordatorio"]})]})]})}),K&&(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,L.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,L.jsxs)("h3",{className:"text-xl font-bold",children:[Y?"Editar":"Nueva"," Deuda"]}),(0,L.jsx)("button",{onClick:()=>{W(!1),X(null)},className:"p-2 hover:bg-gray-100 rounded",children:(0,L.jsx)(bF,{className:"w-5 h-5"})})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nombre de la Deuda"}),(0,L.jsx)("input",{type:"text",value:ee.nombre,onChange:e=>et({...ee,nombre:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ej: Préstamo Banco"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monto Total (Bs)"}),(0,L.jsx)("input",{type:"number",value:ee.monto_total,onChange:e=>et({...ee,monto_total:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Cuota Mensual (Bs)"}),(0,L.jsx)("input",{type:"number",value:ee.cuota_mensual,onChange:e=>et({...ee,cuota_mensual:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fecha de Inicio"}),(0,L.jsx)("input",{type:"date",value:ee.fecha_inicio,onChange:e=>et({...ee,fecha_inicio:e.target.value}),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)("input",{type:"checkbox",checked:ee.tiene_interes,onChange:e=>et({...ee,tiene_interes:e.target.checked}),className:"w-4 h-4"}),(0,L.jsx)("label",{className:"text-sm font-medium",children:"¿Tiene intereses?"})]}),(0,L.jsxs)("button",{onClick:ef,className:"w-full bg-indigo-600 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2",children:[(0,L.jsx)(bB,{className:"w-5 h-5"}),Y?"Actualizar":"Crear"," Deuda"]})]})]})}),V&&(0,L.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,L.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,L.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,L.jsx)("h3",{className:"text-xl font-bold",children:"pago"===er.tipo?"💰 Registrar Pago":"🏦 Agregar Ahorro"}),(0,L.jsx)("button",{onClick:()=>{H(!1),J(null)},className:"p-2 hover:bg-gray-100 rounded",children:(0,L.jsx)(bF,{className:"w-5 h-5"})})]}),G&&(0,L.jsxs)("div",{className:"bg-indigo-50 p-3 rounded-lg mb-4",children:[(0,L.jsx)("p",{className:"font-semibold",children:G.nombre}),(0,L.jsxs)("p",{className:"text-sm text-gray-600",children:["Saldo: Bs ",(G.monto_total-G.monto_pagado).toFixed(2)]})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Monto (Bs)"}),(0,L.jsx)("input",{type:"number",value:er.monto,onChange:e=>en({...er,monto:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"500.00"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Notas (opcional)"}),(0,L.jsx)("textarea",{value:er.notas,onChange:e=>en({...er,notas:e.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:2,placeholder:"Ej: Pago mensual de enero"})]}),(0,L.jsxs)("button",{onClick:ep,disabled:p,className:`w-full px-4 py-3 rounded-lg flex items-center justify-center gap-2 text-white ${"pago"===er.tipo?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700"} disabled:opacity-50`,children:[(0,L.jsx)(bB,{className:"w-5 h-5"}),"pago"===er.tipo?"Registrar Pago":"Agregar Ahorro"]})]})]})}),"config"===e&&u&&(0,L.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,L.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"⚙️ Configuración General"}),(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ingreso Mensual Presupuestado (Bs)"}),(0,L.jsx)("input",{type:"number",value:E,onChange:e=>k(Number.parseFloat(e.target.value)),className:"w-full px-4 py-2 border rounded-lg"}),(0,L.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Este es tu ingreso esperado. Los ingresos reales se registran en la sección "Ingresos".'})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Límite de Gastos (%)"}),(0,L.jsx)("input",{type:"number",value:P,onChange:e=>T(Number.parseFloat(e.target.value)),className:"w-full px-4 py-2 border rounded-lg"}),(0,L.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Bs ",(E*P/100).toFixed(2)," máximo"]})]}),(0,L.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,L.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"📡 Webhooks de N8N"}),(0,L.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Configura estos webhooks en N8N:"}),(0,L.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,L.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,L.jsx)("strong",{children:"Registro de Gastos:"})," /webhook/registrar-gasto-foto"]}),(0,L.jsxs)("div",{className:"bg-white p-2 rounded",children:[(0,L.jsx)("strong",{children:"Pago de Deudas:"})," /webhook/registrar-pago-deuda"]})]})]}),(0,L.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,L.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Evolution API"}),(0,L.jsx)("p",{className:"text-sm text-gray-600",children:"Configurado para enviar notificaciones por WhatsApp"})]}),(0,L.jsx)("button",{onClick:ey,className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition",children:"💾 Guardar Configuración"})]})]})]})}e.s(["default",()=>bK],31713)}]);